function zV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fP={exports:{}},jm={},pP={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),WV=Symbol.for("react.portal"),qV=Symbol.for("react.fragment"),HV=Symbol.for("react.strict_mode"),KV=Symbol.for("react.profiler"),GV=Symbol.for("react.provider"),QV=Symbol.for("react.context"),YV=Symbol.for("react.forward_ref"),JV=Symbol.for("react.suspense"),XV=Symbol.for("react.memo"),ZV=Symbol.for("react.lazy"),_S=Symbol.iterator;function eM(t){return t===null||typeof t!="object"?null:(t=_S&&t[_S]||t["@@iterator"],typeof t=="function"?t:null)}var mP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gP=Object.assign,yP={};function ru(t,e,n){this.props=t,this.context=e,this.refs=yP,this.updater=n||mP}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _P(){}_P.prototype=ru.prototype;function o0(t,e,n){this.props=t,this.context=e,this.refs=yP,this.updater=n||mP}var a0=o0.prototype=new _P;a0.constructor=o0;gP(a0,ru.prototype);a0.isPureReactComponent=!0;var vS=Array.isArray,vP=Object.prototype.hasOwnProperty,l0={current:null},wP={key:!0,ref:!0,__self:!0,__source:!0};function EP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vP.call(e,r)&&!wP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hd,type:t,key:s,ref:o,props:i,_owner:l0.current}}function tM(t,e){return{$$typeof:Hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function u0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd}function nM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wS=/\/+/g;function $y(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nM(""+t.key):e.toString(36)}function $f(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hd:case WV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$y(o,0):r,vS(i)?(n="",t!=null&&(n=t.replace(wS,"$&/")+"/"),$f(i,e,n,"",function(u){return u})):i!=null&&(u0(i)&&(i=tM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$y(s,a);o+=$f(s,e,n,l,i)}else if(l=eM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$y(s,a++),o+=$f(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nf(t,e,n){if(t==null)return t;var r=[],i=0;return $f(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},jf={transition:null},iM={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:jf,ReactCurrentOwner:l0};function IP(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:nf,forEach:function(t,e,n){nf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nf(t,function(){e++}),e},toArray:function(t){return nf(t,function(e){return e})||[]},only:function(t){if(!u0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=ru;ye.Fragment=qV;ye.Profiler=KV;ye.PureComponent=o0;ye.StrictMode=HV;ye.Suspense=JV;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iM;ye.act=IP;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=l0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vP.call(e,l)&&!wP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hd,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:QV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GV,_context:t},t.Consumer=t};ye.createElement=EP;ye.createFactory=function(t){var e=EP.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:YV,render:t}};ye.isValidElement=u0;ye.lazy=function(t){return{$$typeof:ZV,_payload:{_status:-1,_result:t},_init:rM}};ye.memo=function(t,e){return{$$typeof:XV,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=jf.transition;jf.transition={};try{t()}finally{jf.transition=e}};ye.unstable_act=IP;ye.useCallback=function(t,e){return _n.current.useCallback(t,e)};ye.useContext=function(t){return _n.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};ye.useEffect=function(t,e){return _n.current.useEffect(t,e)};ye.useId=function(){return _n.current.useId()};ye.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return _n.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};ye.useRef=function(t){return _n.current.useRef(t)};ye.useState=function(t){return _n.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return _n.current.useTransition()};ye.version="18.3.1";pP.exports=ye;var L=pP.exports;const we=s0(L),q_=zV({__proto__:null,default:we},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM=L,oM=Symbol.for("react.element"),aM=Symbol.for("react.fragment"),lM=Object.prototype.hasOwnProperty,uM=sM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cM={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lM.call(e,r)&&!cM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oM,type:t,key:s,ref:o,props:i,_owner:uM.current}}jm.Fragment=aM;jm.jsx=TP;jm.jsxs=TP;fP.exports=jm;var O=fP.exports,SP={exports:{}},Gn={},bP={exports:{}},AP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var re=H.length;H.push(Z);e:for(;0<re;){var pe=re-1>>>1,de=H[pe];if(0<i(de,Z))H[pe]=Z,H[re]=de,re=pe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],re=H.pop();if(re!==Z){H[0]=re;e:for(var pe=0,de=H.length,ae=de>>>1;pe<ae;){var yt=2*(pe+1)-1,Lt=H[yt],dr=yt+1,hr=H[dr];if(0>i(Lt,re))dr<de&&0>i(hr,Lt)?(H[pe]=hr,H[dr]=re,pe=dr):(H[pe]=Lt,H[yt]=re,pe=yt);else if(dr<de&&0>i(hr,re))H[pe]=hr,H[dr]=re,pe=dr;else break e}}return Z}function i(H,Z){var re=H.sortIndex-Z.sortIndex;return re!==0?re:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,g=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function C(H){if(v=!1,E(H),!g)if(n(l)!==null)g=!0,Ae(x);else{var Z=n(u);Z!==null&&ce(C,Z.startTime-H)}}function x(H,Z){g=!1,v&&(v=!1,I(S),S=-1),m=!0;var re=f;try{for(E(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||H&&!k());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,f=h.priorityLevel;var de=pe(h.expirationTime<=Z);Z=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),E(Z)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var yt=n(u);yt!==null&&ce(C,yt.startTime-Z),ae=!1}return ae}finally{h=null,f=re,m=!1}}var D=!1,b=null,S=-1,R=5,y=-1;function k(){return!(t.unstable_now()-y<R)}function N(){if(b!==null){var H=t.unstable_now();y=H;var Z=!0;try{Z=b(!0,H)}finally{Z?P():(D=!1,b=null)}}else D=!1}var P;if(typeof w=="function")P=function(){w(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ce=ee.port2;ee.port1.onmessage=N,P=function(){Ce.postMessage(null)}}else P=function(){T(N,0)};function Ae(H){b=H,D||(D=!0,P())}function ce(H,Z){S=T(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Ae(x))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var re=f;f=Z;try{return H()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=f;f=H;try{return Z()}finally{f=re}},t.unstable_scheduleCallback=function(H,Z,re){var pe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,H){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,H={id:d++,callback:Z,priorityLevel:H,startTime:re,expirationTime:de,sortIndex:-1},re>pe?(H.sortIndex=re,e(u,H),n(l)===null&&H===n(u)&&(v?(I(S),S=-1):v=!0,ce(C,re-pe))):(H.sortIndex=de,e(l,H),g||m||(g=!0,Ae(x))),H},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(H){var Z=f;return function(){var re=f;f=Z;try{return H.apply(this,arguments)}finally{f=re}}}})(AP);bP.exports=AP;var dM=bP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hM=L,qn=dM;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RP=new Set,ed={};function ha(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(ed[t]=e,t=0;t<e.length;t++)RP.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H_=Object.prototype.hasOwnProperty,fM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ES={},IS={};function pM(t){return H_.call(IS,t)?!0:H_.call(ES,t)?!1:fM.test(t)?IS[t]=!0:(ES[t]=!0,!1)}function mM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gM(t,e,n,r){if(e===null||typeof e>"u"||mM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var c0=/[\-:]([a-z])/g;function d0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c0,d0);zt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c0,d0);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c0,d0);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function h0(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gM(e,n,i,r)&&(n=null),r||i===null?pM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=hM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rf=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),CP=Symbol.for("react.context"),p0=Symbol.for("react.forward_ref"),G_=Symbol.for("react.suspense"),Q_=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),kP=Symbol.for("react.offscreen"),TS=Symbol.iterator;function Uu(t){return t===null||typeof t!="object"?null:(t=TS&&t[TS]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,jy;function uc(t){if(jy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jy=e&&e[1]||""}return`
`+jy+t}var By=!1;function zy(t,e){if(!t||By)return"";By=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{By=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function yM(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=zy(t.type,!1),t;case 11:return t=zy(t.type.render,!1),t;case 1:return t=zy(t.type,!0),t;default:return""}}function Y_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ga:return"Portal";case K_:return"Profiler";case f0:return"StrictMode";case G_:return"Suspense";case Q_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CP:return(t.displayName||"Context")+".Consumer";case PP:return(t._context.displayName||"Context")+".Provider";case p0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case m0:return e=t.displayName||null,e!==null?e:Y_(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return Y_(t(e))}catch{}}return null}function _M(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y_(e);case 8:return e===f0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vM(t){var e=xP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sf(t){t._valueTracker||(t._valueTracker=vM(t))}function OP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J_(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function SS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NP(t,e){e=e.checked,e!=null&&h0(t,"checked",e,!1)}function X_(t,e){NP(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z_(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z_(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z_(t,e,n){(e!=="number"||Pp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function ll(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(cc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function DP(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var of,VP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(of=of||document.createElement("div"),of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=of.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wM=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){wM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function MP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function FP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EM=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(t,e){if(e){if(EM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=null;function g0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sv=null,ul=null,cl=null;function PS(t){if(t=Qd(t)){if(typeof sv!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Hm(e),sv(t.stateNode,t.type,e))}}function UP(t){ul?cl?cl.push(t):cl=[t]:ul=t}function $P(){if(ul){var t=ul,e=cl;if(cl=ul=null,PS(t),e)for(t=0;t<e.length;t++)PS(e[t])}}function jP(t,e){return t(e)}function BP(){}var Wy=!1;function zP(t,e,n){if(Wy)return t(e,n);Wy=!0;try{return jP(t,e,n)}finally{Wy=!1,(ul!==null||cl!==null)&&(BP(),$P())}}function nd(t,e){var n=t.stateNode;if(n===null)return null;var r=Hm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var ov=!1;if(Mi)try{var $u={};Object.defineProperty($u,"passive",{get:function(){ov=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{ov=!1}function IM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ac=!1,Cp=null,kp=!1,av=null,TM={onError:function(t){Ac=!0,Cp=t}};function SM(t,e,n,r,i,s,o,a,l){Ac=!1,Cp=null,IM.apply(TM,arguments)}function bM(t,e,n,r,i,s,o,a,l){if(SM.apply(this,arguments),Ac){if(Ac){var u=Cp;Ac=!1,Cp=null}else throw Error(q(198));kp||(kp=!0,av=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CS(t){if(fa(t)!==t)throw Error(q(188))}function AM(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return CS(i),t;if(s===r)return CS(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function qP(t){return t=AM(t),t!==null?HP(t):null}function HP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HP(t);if(e!==null)return e;t=t.sibling}return null}var KP=qn.unstable_scheduleCallback,kS=qn.unstable_cancelCallback,RM=qn.unstable_shouldYield,PM=qn.unstable_requestPaint,ct=qn.unstable_now,CM=qn.unstable_getCurrentPriorityLevel,y0=qn.unstable_ImmediatePriority,GP=qn.unstable_UserBlockingPriority,xp=qn.unstable_NormalPriority,kM=qn.unstable_LowPriority,QP=qn.unstable_IdlePriority,Bm=null,ni=null;function xM(t){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Bm,t,void 0,(t.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:DM,OM=Math.log,NM=Math.LN2;function DM(t){return t>>>=0,t===0?32:31-(OM(t)/NM|0)|0}var af=64,lf=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Op(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=dc(a):(s&=o,s!==0&&(r=dc(s)))}else o=n&~i,o!==0?r=dc(o):s!==0&&(r=dc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-br(e),i=1<<n,r|=t[n],e&=~i;return r}function LM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-br(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YP(){var t=af;return af<<=1,!(af&4194240)&&(af=64),t}function qy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-br(e),t[e]=n}function MM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-br(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function JP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XP,v0,ZP,eC,tC,uv=!1,uf=[],As=null,Rs=null,Ps=null,rd=new Map,id=new Map,_s=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xS(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(e.pointerId)}}function ju(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qd(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UM(t,e,n,r,i){switch(e){case"focusin":return As=ju(As,t,e,n,r,i),!0;case"dragenter":return Rs=ju(Rs,t,e,n,r,i),!0;case"mouseover":return Ps=ju(Ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,ju(rd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,ju(id.get(s)||null,t,e,n,r,i)),!0}return!1}function nC(t){var e=No(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=WP(n),e!==null){t.blockedOn=e,tC(t.priority,function(){ZP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iv=r,n.target.dispatchEvent(r),iv=null}else return e=Qd(n),e!==null&&v0(e),t.blockedOn=n,!1;e.shift()}return!0}function OS(t,e,n){Bf(t)&&n.delete(e)}function $M(){uv=!1,As!==null&&Bf(As)&&(As=null),Rs!==null&&Bf(Rs)&&(Rs=null),Ps!==null&&Bf(Ps)&&(Ps=null),rd.forEach(OS),id.forEach(OS)}function Bu(t,e){t.blockedOn===e&&(t.blockedOn=null,uv||(uv=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,$M)))}function sd(t){function e(i){return Bu(i,t)}if(0<uf.length){Bu(uf[0],t);for(var n=1;n<uf.length;n++){var r=uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Bu(As,t),Rs!==null&&Bu(Rs,t),Ps!==null&&Bu(Ps,t),rd.forEach(e),id.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)nC(n),n.blockedOn===null&&_s.shift()}var dl=Ki.ReactCurrentBatchConfig,Np=!0;function jM(t,e,n,r){var i=Ne,s=dl.transition;dl.transition=null;try{Ne=1,w0(t,e,n,r)}finally{Ne=i,dl.transition=s}}function BM(t,e,n,r){var i=Ne,s=dl.transition;dl.transition=null;try{Ne=4,w0(t,e,n,r)}finally{Ne=i,dl.transition=s}}function w0(t,e,n,r){if(Np){var i=cv(t,e,n,r);if(i===null)t_(t,e,r,Dp,n),xS(t,r);else if(UM(i,t,e,n,r))r.stopPropagation();else if(xS(t,r),e&4&&-1<FM.indexOf(t)){for(;i!==null;){var s=Qd(i);if(s!==null&&XP(s),s=cv(t,e,n,r),s===null&&t_(t,e,r,Dp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else t_(t,e,r,null,n)}}var Dp=null;function cv(t,e,n,r){if(Dp=null,t=g0(r),t=No(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dp=t,null}function rC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CM()){case y0:return 1;case GP:return 4;case xp:case kM:return 16;case QP:return 536870912;default:return 16}default:return 16}}var Es=null,E0=null,zf=null;function iC(){if(zf)return zf;var t,e=E0,n=e.length,r,i="value"in Es?Es.value:Es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zf=i.slice(t,1<r?1-r:void 0)}function Wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cf(){return!0}function NS(){return!1}function Qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cf:NS,this.isPropagationStopped=NS,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),e}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I0=Qn(iu),Gd=et({},iu,{view:0,detail:0}),zM=Qn(Gd),Hy,Ky,zu,zm=et({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(Hy=t.screenX-zu.screenX,Ky=t.screenY-zu.screenY):Ky=Hy=0,zu=t),Hy)},movementY:function(t){return"movementY"in t?t.movementY:Ky}}),DS=Qn(zm),WM=et({},zm,{dataTransfer:0}),qM=Qn(WM),HM=et({},Gd,{relatedTarget:0}),Gy=Qn(HM),KM=et({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),GM=Qn(KM),QM=et({},iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YM=Qn(QM),JM=et({},iu,{data:0}),LS=Qn(JM),XM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eF[t])?!!e[t]:!1}function T0(){return tF}var nF=et({},Gd,{key:function(t){if(t.key){var e=XM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(t){return t.type==="keypress"?Wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rF=Qn(nF),iF=et({},zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=Qn(iF),sF=et({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),oF=Qn(sF),aF=et({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),lF=Qn(aF),uF=et({},zm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cF=Qn(uF),dF=[9,13,27,32],S0=Mi&&"CompositionEvent"in window,Rc=null;Mi&&"documentMode"in document&&(Rc=document.documentMode);var hF=Mi&&"TextEvent"in window&&!Rc,sC=Mi&&(!S0||Rc&&8<Rc&&11>=Rc),MS=" ",FS=!1;function oC(t,e){switch(t){case"keyup":return dF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function fF(t,e){switch(t){case"compositionend":return aC(e);case"keypress":return e.which!==32?null:(FS=!0,MS);case"textInput":return t=e.data,t===MS&&FS?null:t;default:return null}}function pF(t,e){if(Ya)return t==="compositionend"||!S0&&oC(t,e)?(t=iC(),zf=E0=Es=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sC&&e.locale!=="ko"?null:e.data;default:return null}}var mF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function US(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mF[t.type]:e==="textarea"}function lC(t,e,n,r){UP(r),e=Lp(e,"onChange"),0<e.length&&(n=new I0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,od=null;function gF(t){vC(t,0)}function Wm(t){var e=Za(t);if(OP(e))return t}function yF(t,e){if(t==="change")return e}var uC=!1;if(Mi){var Qy;if(Mi){var Yy="oninput"in document;if(!Yy){var $S=document.createElement("div");$S.setAttribute("oninput","return;"),Yy=typeof $S.oninput=="function"}Qy=Yy}else Qy=!1;uC=Qy&&(!document.documentMode||9<document.documentMode)}function jS(){Pc&&(Pc.detachEvent("onpropertychange",cC),od=Pc=null)}function cC(t){if(t.propertyName==="value"&&Wm(od)){var e=[];lC(e,od,t,g0(t)),zP(gF,e)}}function _F(t,e,n){t==="focusin"?(jS(),Pc=e,od=n,Pc.attachEvent("onpropertychange",cC)):t==="focusout"&&jS()}function vF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wm(od)}function wF(t,e){if(t==="click")return Wm(e)}function EF(t,e){if(t==="input"||t==="change")return Wm(e)}function IF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:IF;function ad(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!H_.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function BS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zS(t,e){var n=BS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BS(n)}}function dC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hC(){for(var t=window,e=Pp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pp(t.document)}return e}function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TF(t){var e=hC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dC(n.ownerDocument.documentElement,n)){if(r!==null&&b0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zS(n,s);var o=zS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SF=Mi&&"documentMode"in document&&11>=document.documentMode,Ja=null,dv=null,Cc=null,hv=!1;function WS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hv||Ja==null||Ja!==Pp(r)||(r=Ja,"selectionStart"in r&&b0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cc&&ad(Cc,r)||(Cc=r,r=Lp(dv,"onSelect"),0<r.length&&(e=new I0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ja)))}function df(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionend:df("Transition","TransitionEnd")},Jy={},fC={};Mi&&(fC=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function qm(t){if(Jy[t])return Jy[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fC)return Jy[t]=e[n];return t}var pC=qm("animationend"),mC=qm("animationiteration"),gC=qm("animationstart"),yC=qm("transitionend"),_C=new Map,qS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(t,e){_C.set(t,e),ha(e,[t])}for(var Xy=0;Xy<qS.length;Xy++){var Zy=qS[Xy],bF=Zy.toLowerCase(),AF=Zy[0].toUpperCase()+Zy.slice(1);eo(bF,"on"+AF)}eo(pC,"onAnimationEnd");eo(mC,"onAnimationIteration");eo(gC,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(yC,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RF=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function HS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bM(r,e,void 0,t),t.currentTarget=null}function vC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;HS(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;HS(i,a,u),s=l}}}if(kp)throw t=av,kp=!1,av=null,t}function ze(t,e){var n=e[yv];n===void 0&&(n=e[yv]=new Set);var r=t+"__bubble";n.has(r)||(wC(e,t,2,!1),n.add(r))}function e_(t,e,n){var r=0;e&&(r|=4),wC(n,t,r,e)}var hf="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[hf]){t[hf]=!0,RP.forEach(function(n){n!=="selectionchange"&&(RF.has(n)||e_(n,!1,t),e_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hf]||(e[hf]=!0,e_("selectionchange",!1,e))}}function wC(t,e,n,r){switch(rC(e)){case 1:var i=jM;break;case 4:i=BM;break;default:i=w0}n=i.bind(null,e,n,t),i=void 0,!ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function t_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zP(function(){var u=s,d=g0(n),h=[];e:{var f=_C.get(t);if(f!==void 0){var m=I0,g=t;switch(t){case"keypress":if(Wf(n)===0)break e;case"keydown":case"keyup":m=rF;break;case"focusin":g="focus",m=Gy;break;case"focusout":g="blur",m=Gy;break;case"beforeblur":case"afterblur":m=Gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oF;break;case pC:case mC:case gC:m=GM;break;case yC:m=lF;break;case"scroll":m=zM;break;case"wheel":m=cF;break;case"copy":case"cut":case"paste":m=YM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=VS}var v=(e&4)!==0,T=!v&&t==="scroll",I=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,I!==null&&(C=nd(w,I),C!=null&&v.push(ud(w,C,E)))),T)break;w=w.return}0<v.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==iv&&(g=n.relatedTarget||n.fromElement)&&(No(g)||g[Fi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?No(g):null,g!==null&&(T=fa(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=DS,C="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=VS,C="onPointerLeave",I="onPointerEnter",w="pointer"),T=m==null?f:Za(m),E=g==null?f:Za(g),f=new v(C,w+"leave",m,n,d),f.target=T,f.relatedTarget=E,C=null,No(d)===u&&(v=new v(I,w+"enter",g,n,d),v.target=E,v.relatedTarget=T,C=v),T=C,m&&g)t:{for(v=m,I=g,w=0,E=v;E;E=Aa(E))w++;for(E=0,C=I;C;C=Aa(C))E++;for(;0<w-E;)v=Aa(v),w--;for(;0<E-w;)I=Aa(I),E--;for(;w--;){if(v===I||I!==null&&v===I.alternate)break t;v=Aa(v),I=Aa(I)}v=null}else v=null;m!==null&&KS(h,f,m,v,!1),g!==null&&T!==null&&KS(h,T,g,v,!0)}}e:{if(f=u?Za(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=yF;else if(US(f))if(uC)x=EF;else{x=vF;var D=_F}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=wF);if(x&&(x=x(t,u))){lC(h,x,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Z_(f,"number",f.value)}switch(D=u?Za(u):window,t){case"focusin":(US(D)||D.contentEditable==="true")&&(Ja=D,dv=u,Cc=null);break;case"focusout":Cc=dv=Ja=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,WS(h,n,d);break;case"selectionchange":if(SF)break;case"keydown":case"keyup":WS(h,n,d)}var b;if(S0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ya?oC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sC&&n.locale!=="ko"&&(Ya||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ya&&(b=iC()):(Es=d,E0="value"in Es?Es.value:Es.textContent,Ya=!0)),D=Lp(u,S),0<D.length&&(S=new LS(S,t,null,n,d),h.push({event:S,listeners:D}),b?S.data=b:(b=aC(n),b!==null&&(S.data=b)))),(b=hF?fF(t,n):pF(t,n))&&(u=Lp(u,"onBeforeInput"),0<u.length&&(d=new LS("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}vC(h,e)})}function ud(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nd(t,n),s!=null&&r.unshift(ud(t,s,i)),s=nd(t,e),s!=null&&r.push(ud(t,s,i))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=nd(n,s),l!=null&&o.unshift(ud(n,l,a))):i||(l=nd(n,s),l!=null&&o.push(ud(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PF=/\r\n?/g,CF=/\u0000|\uFFFD/g;function GS(t){return(typeof t=="string"?t:""+t).replace(PF,`
`).replace(CF,"")}function ff(t,e,n){if(e=GS(e),GS(t)!==e&&n)throw Error(q(425))}function Vp(){}var fv=null,pv=null;function mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,kF=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,xF=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(t){return QS.resolve(null).then(t).catch(OF)}:gv;function OF(t){setTimeout(function(){throw t})}function n_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sd(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var su=Math.random().toString(36).slice(2),qr="__reactFiber$"+su,cd="__reactProps$"+su,Fi="__reactContainer$"+su,yv="__reactEvents$"+su,NF="__reactListeners$"+su,DF="__reactHandles$"+su;function No(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=YS(t);t!==null;){if(n=t[qr])return n;t=YS(t)}return e}t=n,n=t.parentNode}return null}function Qd(t){return t=t[qr]||t[Fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Hm(t){return t[cd]||null}var _v=[],el=-1;function to(t){return{current:t}}function qe(t){0>el||(t.current=_v[el],_v[el]=null,el--)}function Ue(t,e){el++,_v[el]=t.current,t.current=e}var $s={},sn=to($s),An=to(!1),Ko=$s;function Sl(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Mp(){qe(An),qe(sn)}function JS(t,e,n){if(sn.current!==$s)throw Error(q(168));Ue(sn,e),Ue(An,n)}function EC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,_M(t)||"Unknown",i));return et({},n,r)}function Fp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,Ko=sn.current,Ue(sn,t),Ue(An,An.current),!0}function XS(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=EC(t,e,Ko),r.__reactInternalMemoizedMergedChildContext=t,qe(An),qe(sn),Ue(sn,t)):qe(An),Ue(An,n)}var Ti=null,Km=!1,r_=!1;function IC(t){Ti===null?Ti=[t]:Ti.push(t)}function LF(t){Km=!0,IC(t)}function no(){if(!r_&&Ti!==null){r_=!0;var t=0,e=Ne;try{var n=Ti;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ti=null,Km=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(t+1)),KP(y0,no),i}finally{Ne=e,r_=!1}}return null}var tl=[],nl=0,Up=null,$p=0,Jn=[],Xn=0,Go=null,Ai=1,Ri="";function Io(t,e){tl[nl++]=$p,tl[nl++]=Up,Up=t,$p=e}function TC(t,e,n){Jn[Xn++]=Ai,Jn[Xn++]=Ri,Jn[Xn++]=Go,Go=t;var r=Ai;t=Ri;var i=32-br(r)-1;r&=~(1<<i),n+=1;var s=32-br(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ai=1<<32-br(e)+i|n<<i|r,Ri=s+t}else Ai=1<<s|n<<i|r,Ri=t}function A0(t){t.return!==null&&(Io(t,1),TC(t,1,0))}function R0(t){for(;t===Up;)Up=tl[--nl],tl[nl]=null,$p=tl[--nl],tl[nl]=null;for(;t===Go;)Go=Jn[--Xn],Jn[Xn]=null,Ri=Jn[--Xn],Jn[Xn]=null,Ai=Jn[--Xn],Jn[Xn]=null}var jn=null,Un=null,Ge=!1,Er=null;function SC(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Un=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Go!==null?{id:Ai,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Un=null,!0):!1;default:return!1}}function vv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wv(t){if(Ge){var e=Un;if(e){var n=e;if(!ZS(t,e)){if(vv(t))throw Error(q(418));e=Cs(n.nextSibling);var r=jn;e&&ZS(t,e)?SC(r,n):(t.flags=t.flags&-4097|2,Ge=!1,jn=t)}}else{if(vv(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ge=!1,jn=t}}}function e1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function pf(t){if(t!==jn)return!1;if(!Ge)return e1(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mv(t.type,t.memoizedProps)),e&&(e=Un)){if(vv(t))throw bC(),Error(q(418));for(;e;)SC(t,e),e=Cs(e.nextSibling)}if(e1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=jn?Cs(t.stateNode.nextSibling):null;return!0}function bC(){for(var t=Un;t;)t=Cs(t.nextSibling)}function bl(){Un=jn=null,Ge=!1}function P0(t){Er===null?Er=[t]:Er.push(t)}var VF=Ki.ReactCurrentBatchConfig;function Wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function mf(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t1(t){var e=t._init;return e(t._payload)}function AC(t){function e(I,w){if(t){var E=I.deletions;E===null?(I.deletions=[w],I.flags|=16):E.push(w)}}function n(I,w){if(!t)return null;for(;w!==null;)e(I,w),w=w.sibling;return null}function r(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function i(I,w){return I=Ns(I,w),I.index=0,I.sibling=null,I}function s(I,w,E){return I.index=E,t?(E=I.alternate,E!==null?(E=E.index,E<w?(I.flags|=2,w):E):(I.flags|=2,w)):(I.flags|=1048576,w)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,w,E,C){return w===null||w.tag!==6?(w=c_(E,I.mode,C),w.return=I,w):(w=i(w,E),w.return=I,w)}function l(I,w,E,C){var x=E.type;return x===Qa?d(I,w,E.props.children,C,E.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===gs&&t1(x)===w.type)?(C=i(w,E.props),C.ref=Wu(I,w,E),C.return=I,C):(C=Jf(E.type,E.key,E.props,null,I.mode,C),C.ref=Wu(I,w,E),C.return=I,C)}function u(I,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=d_(E,I.mode,C),w.return=I,w):(w=i(w,E.children||[]),w.return=I,w)}function d(I,w,E,C,x){return w===null||w.tag!==7?(w=Bo(E,I.mode,C,x),w.return=I,w):(w=i(w,E),w.return=I,w)}function h(I,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=c_(""+w,I.mode,E),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rf:return E=Jf(w.type,w.key,w.props,null,I.mode,E),E.ref=Wu(I,null,w),E.return=I,E;case Ga:return w=d_(w,I.mode,E),w.return=I,w;case gs:var C=w._init;return h(I,C(w._payload),E)}if(cc(w)||Uu(w))return w=Bo(w,I.mode,E,null),w.return=I,w;mf(I,w)}return null}function f(I,w,E,C){var x=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return x!==null?null:a(I,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rf:return E.key===x?l(I,w,E,C):null;case Ga:return E.key===x?u(I,w,E,C):null;case gs:return x=E._init,f(I,w,x(E._payload),C)}if(cc(E)||Uu(E))return x!==null?null:d(I,w,E,C,null);mf(I,E)}return null}function m(I,w,E,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return I=I.get(E)||null,a(w,I,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rf:return I=I.get(C.key===null?E:C.key)||null,l(w,I,C,x);case Ga:return I=I.get(C.key===null?E:C.key)||null,u(w,I,C,x);case gs:var D=C._init;return m(I,w,E,D(C._payload),x)}if(cc(C)||Uu(C))return I=I.get(E)||null,d(w,I,C,x,null);mf(w,C)}return null}function g(I,w,E,C){for(var x=null,D=null,b=w,S=w=0,R=null;b!==null&&S<E.length;S++){b.index>S?(R=b,b=null):R=b.sibling;var y=f(I,b,E[S],C);if(y===null){b===null&&(b=R);break}t&&b&&y.alternate===null&&e(I,b),w=s(y,w,S),D===null?x=y:D.sibling=y,D=y,b=R}if(S===E.length)return n(I,b),Ge&&Io(I,S),x;if(b===null){for(;S<E.length;S++)b=h(I,E[S],C),b!==null&&(w=s(b,w,S),D===null?x=b:D.sibling=b,D=b);return Ge&&Io(I,S),x}for(b=r(I,b);S<E.length;S++)R=m(b,I,S,E[S],C),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?S:R.key),w=s(R,w,S),D===null?x=R:D.sibling=R,D=R);return t&&b.forEach(function(k){return e(I,k)}),Ge&&Io(I,S),x}function v(I,w,E,C){var x=Uu(E);if(typeof x!="function")throw Error(q(150));if(E=x.call(E),E==null)throw Error(q(151));for(var D=x=null,b=w,S=w=0,R=null,y=E.next();b!==null&&!y.done;S++,y=E.next()){b.index>S?(R=b,b=null):R=b.sibling;var k=f(I,b,y.value,C);if(k===null){b===null&&(b=R);break}t&&b&&k.alternate===null&&e(I,b),w=s(k,w,S),D===null?x=k:D.sibling=k,D=k,b=R}if(y.done)return n(I,b),Ge&&Io(I,S),x;if(b===null){for(;!y.done;S++,y=E.next())y=h(I,y.value,C),y!==null&&(w=s(y,w,S),D===null?x=y:D.sibling=y,D=y);return Ge&&Io(I,S),x}for(b=r(I,b);!y.done;S++,y=E.next())y=m(b,I,S,y.value,C),y!==null&&(t&&y.alternate!==null&&b.delete(y.key===null?S:y.key),w=s(y,w,S),D===null?x=y:D.sibling=y,D=y);return t&&b.forEach(function(N){return e(I,N)}),Ge&&Io(I,S),x}function T(I,w,E,C){if(typeof E=="object"&&E!==null&&E.type===Qa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case rf:e:{for(var x=E.key,D=w;D!==null;){if(D.key===x){if(x=E.type,x===Qa){if(D.tag===7){n(I,D.sibling),w=i(D,E.props.children),w.return=I,I=w;break e}}else if(D.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===gs&&t1(x)===D.type){n(I,D.sibling),w=i(D,E.props),w.ref=Wu(I,D,E),w.return=I,I=w;break e}n(I,D);break}else e(I,D);D=D.sibling}E.type===Qa?(w=Bo(E.props.children,I.mode,C,E.key),w.return=I,I=w):(C=Jf(E.type,E.key,E.props,null,I.mode,C),C.ref=Wu(I,w,E),C.return=I,I=C)}return o(I);case Ga:e:{for(D=E.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(I,w.sibling),w=i(w,E.children||[]),w.return=I,I=w;break e}else{n(I,w);break}else e(I,w);w=w.sibling}w=d_(E,I.mode,C),w.return=I,I=w}return o(I);case gs:return D=E._init,T(I,w,D(E._payload),C)}if(cc(E))return g(I,w,E,C);if(Uu(E))return v(I,w,E,C);mf(I,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(I,w.sibling),w=i(w,E),w.return=I,I=w):(n(I,w),w=c_(E,I.mode,C),w.return=I,I=w),o(I)):n(I,w)}return T}var Al=AC(!0),RC=AC(!1),jp=to(null),Bp=null,rl=null,C0=null;function k0(){C0=rl=Bp=null}function x0(t){var e=jp.current;qe(jp),t._currentValue=e}function Ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hl(t,e){Bp=t,C0=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(C0!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(Bp===null)throw Error(q(308));rl=t,Bp.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Do=null;function O0(t){Do===null?Do=[t]:Do.push(t)}function PC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,O0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ui(t,n)}return i=r.interleaved,i===null?(e.next=e,O0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ui(t,n)}function qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_0(t,n)}}function n1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zp(t,e,n,r){var i=t.updateQueue;ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=et({},h,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yo|=o,t.lanes=o,t.memoizedState=h}}function r1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Yd={},ri=to(Yd),dd=to(Yd),hd=to(Yd);function Lo(t){if(t===Yd)throw Error(q(174));return t}function D0(t,e){switch(Ue(hd,e),Ue(dd,t),Ue(ri,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tv(e,t)}qe(ri),Ue(ri,e)}function Rl(){qe(ri),qe(dd),qe(hd)}function kC(t){Lo(hd.current);var e=Lo(ri.current),n=tv(e,t.type);e!==n&&(Ue(dd,t),Ue(ri,n))}function L0(t){dd.current===t&&(qe(ri),qe(dd))}var Je=to(0);function Wp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var i_=[];function V0(){for(var t=0;t<i_.length;t++)i_[t]._workInProgressVersionPrimary=null;i_.length=0}var Hf=Ki.ReactCurrentDispatcher,s_=Ki.ReactCurrentBatchConfig,Qo=0,Xe=null,bt=null,kt=null,qp=!1,kc=!1,fd=0,MF=0;function Gt(){throw Error(q(321))}function M0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function F0(t,e,n,r,i,s){if(Qo=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hf.current=t===null||t.memoizedState===null?jF:BF,t=n(r,i),kc){s=0;do{if(kc=!1,fd=0,25<=s)throw Error(q(301));s+=1,kt=bt=null,e.updateQueue=null,Hf.current=zF,t=n(r,i)}while(kc)}if(Hf.current=Hp,e=bt!==null&&bt.next!==null,Qo=0,kt=bt=Xe=null,qp=!1,e)throw Error(q(300));return t}function U0(){var t=fd!==0;return fd=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Xe.memoizedState=kt=t:kt=kt.next=t,kt}function ar(){if(bt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=kt===null?Xe.memoizedState:kt.next;if(e!==null)kt=e,bt=t;else{if(t===null)throw Error(q(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},kt===null?Xe.memoizedState=kt=t:kt=kt.next=t}return kt}function pd(t,e){return typeof e=="function"?e(t):e}function o_(t){var e=ar(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Qo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,Yo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Yo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function a_(t){var e=ar(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xC(){}function OC(t,e){var n=Xe,r=ar(),i=e(),s=!Cr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,$0(LC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,md(9,DC.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(q(349));Qo&30||NC(n,e,i)}return i}function NC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DC(t,e,n,r){e.value=n,e.getSnapshot=r,VC(e)&&MC(t)}function LC(t,e,n){return n(function(){VC(e)&&MC(t)})}function VC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function MC(t){var e=Ui(t,1);e!==null&&Ar(e,t,1,-1)}function i1(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t},e.queue=t,t=t.dispatch=$F.bind(null,Xe,t),[e.memoizedState,t]}function md(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FC(){return ar().memoizedState}function Kf(t,e,n,r){var i=$r();Xe.flags|=t,i.memoizedState=md(1|e,n,void 0,r===void 0?null:r)}function Gm(t,e,n,r){var i=ar();r=r===void 0?null:r;var s=void 0;if(bt!==null){var o=bt.memoizedState;if(s=o.destroy,r!==null&&M0(r,o.deps)){i.memoizedState=md(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=md(1|e,n,s,r)}function s1(t,e){return Kf(8390656,8,t,e)}function $0(t,e){return Gm(2048,8,t,e)}function UC(t,e){return Gm(4,2,t,e)}function $C(t,e){return Gm(4,4,t,e)}function jC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BC(t,e,n){return n=n!=null?n.concat([t]):null,Gm(4,4,jC.bind(null,e,t),n)}function j0(){}function zC(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WC(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qC(t,e,n){return Qo&21?(Cr(n,e)||(n=YP(),Xe.lanes|=n,Yo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function FF(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=s_.transition;s_.transition={};try{t(!1),e()}finally{Ne=n,s_.transition=r}}function HC(){return ar().memoizedState}function UF(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KC(t))GC(e,n);else if(n=PC(t,e,n,r),n!==null){var i=mn();Ar(n,t,r,i),QC(n,e,r)}}function $F(t,e,n){var r=Os(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KC(t))GC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=e.interleaved;l===null?(i.next=i,O0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PC(t,e,i,r),n!==null&&(i=mn(),Ar(n,t,r,i),QC(n,e,r))}}function KC(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function GC(t,e){kc=qp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_0(t,n)}}var Hp={readContext:or,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},jF={readContext:or,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:s1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kf(4194308,4,jC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kf(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UF.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:i1,useDebugValue:j0,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=i1(!1),e=t[0];return t=FF.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=$r();if(Ge){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ot===null)throw Error(q(349));Qo&30||NC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,s1(LC.bind(null,r,s,t),[t]),r.flags|=2048,md(9,DC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$r(),e=Ot.identifierPrefix;if(Ge){var n=Ri,r=Ai;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BF={readContext:or,useCallback:zC,useContext:or,useEffect:$0,useImperativeHandle:BC,useInsertionEffect:UC,useLayoutEffect:$C,useMemo:WC,useReducer:o_,useRef:FC,useState:function(){return o_(pd)},useDebugValue:j0,useDeferredValue:function(t){var e=ar();return qC(e,bt.memoizedState,t)},useTransition:function(){var t=o_(pd)[0],e=ar().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:OC,useId:HC,unstable_isNewReconciler:!1},zF={readContext:or,useCallback:zC,useContext:or,useEffect:$0,useImperativeHandle:BC,useInsertionEffect:UC,useLayoutEffect:$C,useMemo:WC,useReducer:a_,useRef:FC,useState:function(){return a_(pd)},useDebugValue:j0,useDeferredValue:function(t){var e=ar();return bt===null?e.memoizedState=t:qC(e,bt.memoizedState,t)},useTransition:function(){var t=a_(pd)[0],e=ar().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:OC,useId:HC,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qm={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Os(t),s=Ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=ks(t,s,i),e!==null&&(Ar(e,t,i,r),qf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Os(t),s=Ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ks(t,s,i),e!==null&&(Ar(e,t,i,r),qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=Os(t),i=Ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=ks(t,i,r),e!==null&&(Ar(e,t,r,n),qf(e,t,r))}};function o1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ad(n,r)||!ad(i,s):!0}function YC(t,e,n){var r=!1,i=$s,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(i=Rn(e)?Ko:sn.current,r=e.contextTypes,s=(r=r!=null)?Sl(t,i):$s),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function a1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qm.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},N0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=or(s):(s=Rn(e)?Ko:sn.current,i.context=Sl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Iv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qm.enqueueReplaceState(i,i.state,null),zp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var n="",r=e;do n+=yM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function l_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WF=typeof WeakMap=="function"?WeakMap:Map;function JC(t,e,n){n=Ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gp||(Gp=!0,Dv=r),Sv(t,e)},n}function XC(t,e,n){n=Ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function l1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=i4.bind(null,t,e,n),e.then(t,t))}function u1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ni(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var qF=Ki.ReactCurrentOwner,In=!1;function hn(t,e,n,r){e.child=t===null?RC(e,null,n,r):Al(e,t.child,n,r)}function d1(t,e,n,r,i){n=n.render;var s=e.ref;return hl(e,i),r=F0(t,e,n,r,s,i),n=U0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(Ge&&n&&A0(e),e.flags|=1,hn(t,e,r,i),e.child)}function h1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Q0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZC(t,e,s,r,i)):(t=Jf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ad,n(o,r)&&t.ref===e.ref)return $i(t,e,i)}return e.flags|=1,t=Ns(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ad(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,$i(t,e,i)}return bv(t,e,n,r,i)}function ek(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(sl,Dn),Dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(sl,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(sl,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(sl,Dn),Dn|=r;return hn(t,e,i,n),e.child}function tk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bv(t,e,n,r,i){var s=Rn(n)?Ko:sn.current;return s=Sl(e,s),hl(e,i),n=F0(t,e,n,r,s,i),r=U0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(Ge&&r&&A0(e),e.flags|=1,hn(t,e,n,i),e.child)}function f1(t,e,n,r,i){if(Rn(n)){var s=!0;Fp(e)}else s=!1;if(hl(e,i),e.stateNode===null)Gf(t,e),YC(e,n,r),Tv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=or(u):(u=Rn(n)?Ko:sn.current,u=Sl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&a1(e,o,r,u),ys=!1;var f=e.memoizedState;o.state=f,zp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||An.current||ys?(typeof d=="function"&&(Iv(e,n,d,r),l=e.memoizedState),(a=ys||o1(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Rn(n)?Ko:sn.current,l=Sl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&a1(e,o,r,l),ys=!1,f=e.memoizedState,o.state=f,zp(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||An.current||ys?(typeof m=="function"&&(Iv(e,n,m,r),g=e.memoizedState),(u=ys||o1(e,n,u,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Av(t,e,n,r,s,i)}function Av(t,e,n,r,i,s){tk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&XS(e,n,!1),$i(t,e,s);r=e.stateNode,qF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Al(e,t.child,null,s),e.child=Al(e,null,a,s)):hn(t,e,a,s),e.memoizedState=r.state,i&&XS(e,n,!0),e.child}function nk(t){var e=t.stateNode;e.pendingContext?JS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JS(t,e.context,!1),D0(t,e.containerInfo)}function p1(t,e,n,r,i){return bl(),P0(i),e.flags|=256,hn(t,e,n,r),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function rk(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Je,i&1),t===null)return wv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xm(o,r,0,null),t=Bo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pv(n),e.memoizedState=Rv,t):B0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ns(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ns(a,s):(s=Bo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rv,r}return s=t.child,t=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function B0(t,e){return e=Xm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gf(t,e,n,r){return r!==null&&P0(r),Al(e,t.child,null,n),t=B0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=l_(Error(q(422))),gf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xm({mode:"visible",children:r.children},i,0,null),s=Bo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Al(e,t.child,null,o),e.child.memoizedState=Pv(o),e.memoizedState=Rv,s);if(!(e.mode&1))return gf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=l_(s,r,void 0),gf(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ui(t,i),Ar(r,t,i,-1))}return G0(),r=l_(Error(q(421))),gf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Un=Cs(i.nextSibling),jn=e,Ge=!0,Er=null,t!==null&&(Jn[Xn++]=Ai,Jn[Xn++]=Ri,Jn[Xn++]=Go,Ai=t.id,Ri=t.overflow,Go=e),e=B0(e,r.children),e.flags|=4096,e)}function m1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ev(t.return,e,n)}function u_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ik(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m1(t,n,e);else if(t.tag===19)m1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),u_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}u_(e,!0,n,null,s);break;case"together":u_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KF(t,e,n){switch(e.tag){case 3:nk(e),bl();break;case 5:kC(e);break;case 1:Rn(e.type)&&Fp(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(jp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?rk(t,e,n):(Ue(Je,Je.current&1),t=$i(t,e,n),t!==null?t.sibling:null);Ue(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ik(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,ek(t,e,n)}return $i(t,e,n)}var sk,Cv,ok,ak;sk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cv=function(){};ok=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lo(ri.current);var s=null;switch(n){case"input":i=J_(t,i),r=J_(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=ev(t,i),r=ev(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vp)}nv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ed.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ed.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ak=function(t,e,n,r){n!==r&&(e.flags|=4)};function qu(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GF(t,e,n){var r=e.pendingProps;switch(R0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Rn(e.type)&&Mp(),Qt(e),null;case 3:return r=e.stateNode,Rl(),qe(An),qe(sn),V0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Mv(Er),Er=null))),Cv(t,e),Qt(e),null;case 5:L0(e);var i=Lo(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)ok(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Qt(e),null}if(t=Lo(ri.current),pf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[cd]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<hc.length;i++)ze(hc[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":SS(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":AS(r,s),ze("invalid",r)}nv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",""+a]):ed.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":sf(r),bS(r,s,!0);break;case"textarea":sf(r),RS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[cd]=r,sk(t,e,!1,!1),e.stateNode=t;e:{switch(o=rv(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<hc.length;i++)ze(hc[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":SS(t,r),i=J_(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":AS(t,r),i=ev(t,r),ze("invalid",t);break;default:i=r}nv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?FP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&td(t,l):typeof l=="number"&&td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&h0(t,s,l,o))}switch(n){case"input":sf(t),bS(t,r,!1);break;case"textarea":sf(t),RS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ll(t,!!r.multiple,s,!1):r.defaultValue!=null&&ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)ak(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Lo(hd.current),Lo(ri.current),pf(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return Qt(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Un!==null&&e.mode&1&&!(e.flags&128))bC(),bl(),e.flags|=98560,s=!1;else if(s=pf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[qr]=e}else bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else Er!==null&&(Mv(Er),Er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?At===0&&(At=3):G0())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Rl(),Cv(t,e),t===null&&ld(e.stateNode.containerInfo),Qt(e),null;case 10:return x0(e.type._context),Qt(e),null;case 17:return Rn(e.type)&&Mp(),Qt(e),null;case 19:if(qe(Je),s=e.memoizedState,s===null)return Qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qu(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wp(t),o!==null){for(e.flags|=128,qu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>Cl&&(e.flags|=128,r=!0,qu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Qt(e),null}else 2*ct()-s.renderingStartTime>Cl&&n!==1073741824&&(e.flags|=128,r=!0,qu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=Je.current,Ue(Je,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return K0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function QF(t,e){switch(R0(e),e.tag){case 1:return Rn(e.type)&&Mp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),qe(An),qe(sn),V0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return L0(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return Rl(),null;case 10:return x0(e.type._context),null;case 22:case 23:return K0(),null;case 24:return null;default:return null}}var yf=!1,en=!1,YF=typeof WeakSet=="function"?WeakSet:Set,J=null;function il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function kv(t,e,n){try{n()}catch(r){ot(t,e,r)}}var g1=!1;function JF(t,e){if(fv=Np,t=hC(),b0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:t,selectionRange:n},Np=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,T=g.memoizedState,I=e.stateNode,w=I.getSnapshotBeforeUpdate(e.elementType===e.type?v:_r(e.type,v),T);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){ot(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return g=g1,g1=!1,g}function xc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kv(e,n,s)}i=i.next}while(i!==r)}}function Ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lk(t){var e=t.alternate;e!==null&&(t.alternate=null,lk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[cd],delete e[yv],delete e[NF],delete e[DF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uk(t){return t.tag===5||t.tag===3||t.tag===4}function y1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vp));else if(r!==4&&(t=t.child,t!==null))for(Ov(t,e,n),t=t.sibling;t!==null;)Ov(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var Mt=null,vr=!1;function as(t,e,n){for(n=n.child;n!==null;)ck(t,e,n),n=n.sibling}function ck(t,e,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Bm,n)}catch{}switch(n.tag){case 5:en||il(n,e);case 6:var r=Mt,i=vr;Mt=null,as(t,e,n),Mt=r,vr=i,Mt!==null&&(vr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(vr?(t=Mt,n=n.stateNode,t.nodeType===8?n_(t.parentNode,n):t.nodeType===1&&n_(t,n),sd(t)):n_(Mt,n.stateNode));break;case 4:r=Mt,i=vr,Mt=n.stateNode.containerInfo,vr=!0,as(t,e,n),Mt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kv(n,e,o),i=i.next}while(i!==r)}as(t,e,n);break;case 1:if(!en&&(il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,as(t,e,n),en=r):as(t,e,n);break;default:as(t,e,n)}}function _1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YF),e.forEach(function(r){var i=o4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,vr=!1;break e;case 3:Mt=a.stateNode.containerInfo,vr=!0;break e;case 4:Mt=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(Mt===null)throw Error(q(160));ck(s,o,i),Mt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,t),e=e.sibling}function dk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Mr(t),r&4){try{xc(3,t,t.return),Ym(3,t)}catch(v){ot(t,t.return,v)}try{xc(5,t,t.return)}catch(v){ot(t,t.return,v)}}break;case 1:mr(e,t),Mr(t),r&512&&n!==null&&il(n,n.return);break;case 5:if(mr(e,t),Mr(t),r&512&&n!==null&&il(n,n.return),t.flags&32){var i=t.stateNode;try{td(i,"")}catch(v){ot(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NP(i,s),rv(a,o);var u=rv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?FP(i,h):d==="dangerouslySetInnerHTML"?VP(i,h):d==="children"?td(i,h):h0(i,d,h,u)}switch(a){case"input":X_(i,s);break;case"textarea":DP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ll(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ll(i,!!s.multiple,s.defaultValue,!0):ll(i,!!s.multiple,s.multiple?[]:"",!1))}i[cd]=s}catch(v){ot(t,t.return,v)}}break;case 6:if(mr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ot(t,t.return,v)}}break;case 3:if(mr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(v){ot(t,t.return,v)}break;case 4:mr(e,t),Mr(t);break;case 13:mr(e,t),Mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(q0=ct())),r&4&&_1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||d,mr(e,t),en=u):mr(e,t),Mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:xc(4,f,f.return);break;case 1:il(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ot(r,n,v)}}break;case 5:il(f,f.return);break;case 22:if(f.memoizedState!==null){w1(h);continue}}m!==null?(m.return=f,J=m):w1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MP("display",o))}catch(v){ot(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ot(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mr(e,t),Mr(t),r&4&&_1(t);break;case 21:break;default:mr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uk(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(td(i,""),r.flags&=-33);var s=y1(t);Nv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y1(t);Ov(t,a,o);break;default:throw Error(q(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XF(t,e,n){J=t,hk(t)}function hk(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=yf;var u=en;if(yf=o,(en=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?E1(i):l!==null?(l.return=o,J=l):E1(i);for(;s!==null;)J=s,hk(s),s=s.sibling;J=i,yf=a,en=u}v1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):v1(t)}}function v1(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&r1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&sd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}en||e.flags&512&&xv(e)}catch(f){ot(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function w1(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function E1(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ym(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var s=e.return;try{xv(e)}catch(l){ot(e,s,l)}break;case 5:var o=e.return;try{xv(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var ZF=Math.ceil,Kp=Ki.ReactCurrentDispatcher,z0=Ki.ReactCurrentOwner,rr=Ki.ReactCurrentBatchConfig,Te=0,Ot=null,Tt=null,jt=0,Dn=0,sl=to(0),At=0,gd=null,Yo=0,Jm=0,W0=0,Oc=null,En=null,q0=0,Cl=1/0,Ii=null,Gp=!1,Dv=null,xs=null,_f=!1,Is=null,Qp=0,Nc=0,Lv=null,Qf=-1,Yf=0;function mn(){return Te&6?ct():Qf!==-1?Qf:Qf=ct()}function Os(t){return t.mode&1?Te&2&&jt!==0?jt&-jt:VF.transition!==null?(Yf===0&&(Yf=YP()),Yf):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:rC(t.type)),t):1}function Ar(t,e,n,r){if(50<Nc)throw Nc=0,Lv=null,Error(q(185));Kd(t,n,r),(!(Te&2)||t!==Ot)&&(t===Ot&&(!(Te&2)&&(Jm|=n),At===4&&vs(t,jt)),Pn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Cl=ct()+500,Km&&no()))}function Pn(t,e){var n=t.callbackNode;VM(t,e);var r=Op(t,t===Ot?jt:0);if(r===0)n!==null&&kS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kS(n),e===1)t.tag===0?LF(I1.bind(null,t)):IC(I1.bind(null,t)),xF(function(){!(Te&6)&&no()}),n=null;else{switch(JP(r)){case 1:n=y0;break;case 4:n=GP;break;case 16:n=xp;break;case 536870912:n=QP;break;default:n=xp}n=wk(n,fk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fk(t,e){if(Qf=-1,Yf=0,Te&6)throw Error(q(327));var n=t.callbackNode;if(fl()&&t.callbackNode!==n)return null;var r=Op(t,t===Ot?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yp(t,r);else{e=r;var i=Te;Te|=2;var s=mk();(Ot!==t||jt!==e)&&(Ii=null,Cl=ct()+500,jo(t,e));do try{n4();break}catch(a){pk(t,a)}while(!0);k0(),Kp.current=s,Te=i,Tt!==null?e=0:(Ot=null,jt=0,e=At)}if(e!==0){if(e===2&&(i=lv(t),i!==0&&(r=i,e=Vv(t,i))),e===1)throw n=gd,jo(t,0),vs(t,r),Pn(t,ct()),n;if(e===6)vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!e4(i)&&(e=Yp(t,r),e===2&&(s=lv(t),s!==0&&(r=s,e=Vv(t,s))),e===1))throw n=gd,jo(t,0),vs(t,r),Pn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:To(t,En,Ii);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=q0+500-ct(),10<e)){if(Op(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gv(To.bind(null,t,En,Ii),e);break}To(t,En,Ii);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-br(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZF(r/1960))-r,10<r){t.timeoutHandle=gv(To.bind(null,t,En,Ii),r);break}To(t,En,Ii);break;case 5:To(t,En,Ii);break;default:throw Error(q(329))}}}return Pn(t,ct()),t.callbackNode===n?fk.bind(null,t):null}function Vv(t,e){var n=Oc;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=Yp(t,e),t!==2&&(e=En,En=n,e!==null&&Mv(e)),t}function Mv(t){En===null?En=t:En.push.apply(En,t)}function e4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~W0,e&=~Jm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-br(e),r=1<<n;t[n]=-1,e&=~r}}function I1(t){if(Te&6)throw Error(q(327));fl();var e=Op(t,0);if(!(e&1))return Pn(t,ct()),null;var n=Yp(t,e);if(t.tag!==0&&n===2){var r=lv(t);r!==0&&(e=r,n=Vv(t,r))}if(n===1)throw n=gd,jo(t,0),vs(t,e),Pn(t,ct()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,En,Ii),Pn(t,ct()),null}function H0(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Cl=ct()+500,Km&&no())}}function Jo(t){Is!==null&&Is.tag===0&&!(Te&6)&&fl();var e=Te;Te|=1;var n=rr.transition,r=Ne;try{if(rr.transition=null,Ne=1,t)return t()}finally{Ne=r,rr.transition=n,Te=e,!(Te&6)&&no()}}function K0(){Dn=sl.current,qe(sl)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kF(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(R0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mp();break;case 3:Rl(),qe(An),qe(sn),V0();break;case 5:L0(r);break;case 4:Rl();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:x0(r.type._context);break;case 22:case 23:K0()}n=n.return}if(Ot=t,Tt=t=Ns(t.current,null),jt=Dn=e,At=0,gd=null,W0=Jm=Yo=0,En=Oc=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Do=null}return t}function pk(t,e){do{var n=Tt;try{if(k0(),Hf.current=Hp,qp){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qp=!1}if(Qo=0,kt=bt=Xe=null,kc=!1,fd=0,z0.current=null,n===null||n.return===null){At=1,gd=e,Tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=u1(o);if(m!==null){m.flags&=-257,c1(m,o,a,s,e),m.mode&1&&l1(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){l1(s,u,e),G0();break e}l=Error(q(426))}}else if(Ge&&a.mode&1){var T=u1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),c1(T,o,a,s,e),P0(Pl(l,a));break e}}s=l=Pl(l,a),At!==4&&(At=2),Oc===null?Oc=[s]:Oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=JC(s,l,e);n1(s,I);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xs===null||!xs.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=XC(s,a,e);n1(s,C);break e}}s=s.return}while(s!==null)}yk(n)}catch(x){e=x,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function mk(){var t=Kp.current;return Kp.current=Hp,t===null?Hp:t}function G0(){(At===0||At===3||At===2)&&(At=4),Ot===null||!(Yo&268435455)&&!(Jm&268435455)||vs(Ot,jt)}function Yp(t,e){var n=Te;Te|=2;var r=mk();(Ot!==t||jt!==e)&&(Ii=null,jo(t,e));do try{t4();break}catch(i){pk(t,i)}while(!0);if(k0(),Te=n,Kp.current=r,Tt!==null)throw Error(q(261));return Ot=null,jt=0,At}function t4(){for(;Tt!==null;)gk(Tt)}function n4(){for(;Tt!==null&&!RM();)gk(Tt)}function gk(t){var e=vk(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?yk(t):Tt=e,z0.current=null}function yk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QF(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Tt=null;return}}else if(n=GF(n,e,Dn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);At===0&&(At=5)}function To(t,e,n){var r=Ne,i=rr.transition;try{rr.transition=null,Ne=1,r4(t,e,n,r)}finally{rr.transition=i,Ne=r}return null}function r4(t,e,n,r){do fl();while(Is!==null);if(Te&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MM(t,s),t===Ot&&(Tt=Ot=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_f||(_f=!0,wk(xp,function(){return fl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=Ne;Ne=1;var a=Te;Te|=4,z0.current=null,JF(t,n),dk(n,t),TF(pv),Np=!!fv,pv=fv=null,t.current=n,XF(n),PM(),Te=a,Ne=o,rr.transition=s}else t.current=n;if(_f&&(_f=!1,Is=t,Qp=i),s=t.pendingLanes,s===0&&(xs=null),xM(n.stateNode),Pn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gp)throw Gp=!1,t=Dv,Dv=null,t;return Qp&1&&t.tag!==0&&fl(),s=t.pendingLanes,s&1?t===Lv?Nc++:(Nc=0,Lv=t):Nc=0,no(),null}function fl(){if(Is!==null){var t=JP(Qp),e=rr.transition,n=Ne;try{if(rr.transition=null,Ne=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Qp=0,Te&6)throw Error(q(331));var i=Te;for(Te|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:xc(8,d,s)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var f=d.sibling,m=d.return;if(lk(d),d===u){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xc(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,J=I;break e}J=s.return}}var w=t.current;for(J=w;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ym(9,a)}}catch(x){ot(a,a.return,x)}if(a===o){J=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,J=C;break e}J=a.return}}if(Te=i,no(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Bm,t)}catch{}r=!0}return r}finally{Ne=n,rr.transition=e}}return!1}function T1(t,e,n){e=Pl(n,e),e=JC(t,e,1),t=ks(t,e,1),e=mn(),t!==null&&(Kd(t,1,e),Pn(t,e))}function ot(t,e,n){if(t.tag===3)T1(t,t,n);else for(;e!==null;){if(e.tag===3){T1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=Pl(n,t),t=XC(e,t,1),e=ks(e,t,1),t=mn(),e!==null&&(Kd(e,1,t),Pn(e,t));break}}e=e.return}}function i4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(jt&n)===n&&(At===4||At===3&&(jt&130023424)===jt&&500>ct()-q0?jo(t,0):W0|=n),Pn(t,e)}function _k(t,e){e===0&&(t.mode&1?(e=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):e=1);var n=mn();t=Ui(t,e),t!==null&&(Kd(t,e,n),Pn(t,n))}function s4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_k(t,n)}function o4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),_k(t,n)}var vk;vk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,KF(t,e,n);In=!!(t.flags&131072)}else In=!1,Ge&&e.flags&1048576&&TC(e,$p,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gf(t,e),t=e.pendingProps;var i=Sl(e,sn.current);hl(e,n),i=F0(null,e,r,t,i,n);var s=U0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,Fp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(e),i.updater=Qm,e.stateNode=i,i._reactInternals=e,Tv(e,r,t,n),e=Av(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&A0(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l4(r),t=_r(r,t),i){case 0:e=bv(null,e,r,t,n);break e;case 1:e=f1(null,e,r,t,n);break e;case 11:e=d1(null,e,r,t,n);break e;case 14:e=h1(null,e,r,_r(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),bv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),f1(t,e,r,i,n);case 3:e:{if(nk(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CC(t,e),zp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pl(Error(q(423)),e),e=p1(t,e,r,n,i);break e}else if(r!==i){i=Pl(Error(q(424)),e),e=p1(t,e,r,n,i);break e}else for(Un=Cs(e.stateNode.containerInfo.firstChild),jn=e,Ge=!0,Er=null,n=RC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bl(),r===i){e=$i(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return kC(e),t===null&&wv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mv(r,i)?o=null:s!==null&&mv(r,s)&&(e.flags|=32),tk(t,e),hn(t,e,o,n),e.child;case 6:return t===null&&wv(e),null;case 13:return rk(t,e,n);case 4:return D0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Al(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),d1(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(jp,r._currentValue),r._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!An.current){e=$i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ni(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ev(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ev(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hl(e,n),i=or(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),h1(t,e,r,i,n);case 15:return ZC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Gf(t,e),e.tag=1,Rn(r)?(t=!0,Fp(e)):t=!1,hl(e,n),YC(e,r,i),Tv(e,r,i,n),Av(null,e,r,!0,t,n);case 19:return ik(t,e,n);case 22:return ek(t,e,n)}throw Error(q(156,e.tag))};function wk(t,e){return KP(t,e)}function a4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new a4(t,e,n,r)}function Q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l4(t){if(typeof t=="function")return Q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p0)return 11;if(t===m0)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Q0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Bo(n.children,i,s,e);case f0:o=8,i|=8;break;case K_:return t=er(12,n,e,i|2),t.elementType=K_,t.lanes=s,t;case G_:return t=er(13,n,e,i),t.elementType=G_,t.lanes=s,t;case Q_:return t=er(19,n,e,i),t.elementType=Q_,t.lanes=s,t;case kP:return Xm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PP:o=10;break e;case CP:o=9;break e;case p0:o=11;break e;case m0:o=14;break e;case gs:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bo(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function Xm(t,e,n,r){return t=er(22,t,r,e),t.elementType=kP,t.lanes=n,t.stateNode={isHidden:!1},t}function c_(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function d_(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y0(t,e,n,r,i,s,o,a,l){return t=new u4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(s),t}function c4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ek(t){if(!t)return $s;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Rn(n))return EC(t,n,e)}return e}function Ik(t,e,n,r,i,s,o,a,l){return t=Y0(n,r,!0,t,i,s,o,a,l),t.context=Ek(null),n=t.current,r=mn(),i=Os(n),s=Ni(r,i),s.callback=e??null,ks(n,s,i),t.current.lanes=i,Kd(t,i,r),Pn(t,r),t}function Zm(t,e,n,r){var i=e.current,s=mn(),o=Os(i);return n=Ek(n),e.context===null?e.context=n:e.pendingContext=n,e=Ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(i,e,o),t!==null&&(Ar(t,i,o,s),qf(t,i,o)),o}function Jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function J0(t,e){S1(t,e),(t=t.alternate)&&S1(t,e)}function d4(){return null}var Tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function X0(t){this._internalRoot=t}eg.prototype.render=X0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Zm(t,e,null,null)};eg.prototype.unmount=X0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jo(function(){Zm(null,t,null,null)}),e[Fi]=null}};function eg(t){this._internalRoot=t}eg.prototype.unstable_scheduleHydration=function(t){if(t){var e=eC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&nC(t)}};function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b1(){}function h4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Jp(o);s.call(u)}}var o=Ik(e,r,t,0,null,!1,!1,"",b1);return t._reactRootContainer=o,t[Fi]=o.current,ld(t.nodeType===8?t.parentNode:t),Jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Jp(l);a.call(u)}}var l=Y0(t,0,!1,null,null,!1,!1,"",b1);return t._reactRootContainer=l,t[Fi]=l.current,ld(t.nodeType===8?t.parentNode:t),Jo(function(){Zm(e,l,n,r)}),l}function ng(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jp(o);a.call(l)}}Zm(e,o,t,i)}else o=h4(n,e,t,i,r);return Jp(o)}XP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(_0(e,n|1),Pn(e,ct()),!(Te&6)&&(Cl=ct()+500,no()))}break;case 13:Jo(function(){var r=Ui(t,1);if(r!==null){var i=mn();Ar(r,t,1,i)}}),J0(t,1)}};v0=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=mn();Ar(e,t,134217728,n)}J0(t,134217728)}};ZP=function(t){if(t.tag===13){var e=Os(t),n=Ui(t,e);if(n!==null){var r=mn();Ar(n,t,e,r)}J0(t,e)}};eC=function(){return Ne};tC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};sv=function(t,e,n){switch(e){case"input":if(X_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hm(r);if(!i)throw Error(q(90));OP(r),X_(r,i)}}}break;case"textarea":DP(t,n);break;case"select":e=n.value,e!=null&&ll(t,!!n.multiple,e,!1)}};jP=H0;BP=Jo;var f4={usingClientEntryPoint:!1,Events:[Qd,Za,Hm,UP,$P,H0]},Hu={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p4={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qP(t),t===null?null:t.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||d4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{Bm=vf.inject(p4),ni=vf}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f4;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z0(e))throw Error(q(200));return c4(t,e,null,n)};Gn.createRoot=function(t,e){if(!Z0(t))throw Error(q(299));var n=!1,r="",i=Tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y0(t,1,!1,null,null,n,!1,r,i),t[Fi]=e.current,ld(t.nodeType===8?t.parentNode:t),new X0(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=qP(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Jo(t)};Gn.hydrate=function(t,e,n){if(!tg(e))throw Error(q(200));return ng(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!Z0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Tk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ik(e,null,t,1,n??null,i,!1,s,o),t[Fi]=e.current,ld(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eg(e)};Gn.render=function(t,e,n){if(!tg(e))throw Error(q(200));return ng(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!tg(t))throw Error(q(40));return t._reactRootContainer?(Jo(function(){ng(null,null,t,!1,function(){t._reactRootContainer=null,t[Fi]=null})}),!0):!1};Gn.unstable_batchedUpdates=H0;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tg(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return ng(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function Sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sk)}catch(t){console.error(t)}}Sk(),SP.exports=Gn;var m4=SP.exports,bk,A1=m4;bk=A1.createRoot,A1.hydrateRoot;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.parse=I4;eE.serialize=T4;const g4=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,y4=/^[\u0021-\u003A\u003C-\u007E]*$/,_4=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,v4=/^[\u0020-\u003A\u003D-\u007E]*$/,w4=Object.prototype.toString,E4=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function I4(t,e){const n=new E4,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||S4;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=R1(t,s,o),d=P1(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=R1(t,o+1,l),m=P1(t,l,f);const g=i(t.slice(f,m));n[h]=g}s=l+1}while(s<r);return n}function R1(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function P1(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function T4(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!g4.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!y4.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!_4.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!v4.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!b4(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function S4(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function b4(t){return w4.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C1="popstate";function A4(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yd(i)}return P4(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ro(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R4(){return Math.random().toString(36).substring(2,10)}function k1(t,e){return{usr:t.state,key:t.key,idx:e}}function Fv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ou(e):e,state:n,key:e&&e.key||r||R4()}}function yd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ou(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function P4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let T=d(),I=T==null?null:T-u;u=T,l&&l({action:a,location:v.location,delta:I})}function f(T,I){a="PUSH";let w=Fv(v.location,T,I);u=d()+1;let E=k1(w,u),C=v.createHref(w);try{o.pushState(E,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(C)}s&&l&&l({action:a,location:v.location,delta:1})}function m(T,I){a="REPLACE";let w=Fv(v.location,T,I);u=d();let E=k1(w,u),C=v.createHref(w);o.replaceState(E,"",C),s&&l&&l({action:a,location:v.location,delta:0})}function g(T){let I=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof T=="string"?T:yd(T);return w=w.replace(/ $/,"%20"),Ze(I,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,I)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(C1,h),l=T,()=>{i.removeEventListener(C1,h),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let I=g(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:f,replace:m,go(T){return o.go(T)}};return v}function Ak(t,e,n="/"){return C4(t,e,n,!1)}function C4(t,e,n,r){let i=typeof e=="string"?ou(e):e,s=js(i.pathname||"/",n);if(s==null)return null;let o=Rk(t);k4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=j4(s);a=U4(o[l],u,r)}return a}function Rk(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Di([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Rk(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:M4(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Pk(s.path))i(s,o,l)}),e}function Pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Pk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function k4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var x4=/^:[\w-]+$/,O4=3,N4=2,D4=1,L4=10,V4=-2,x1=t=>t==="*";function M4(t,e){let n=t.split("/"),r=n.length;return n.some(x1)&&(r+=V4),e&&(r+=N4),n.filter(i=>!x1(i)).reduce((i,s)=>i+(x4.test(s)?O4:s===""?D4:L4),r)}function F4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function U4(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Xp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Xp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Di([s,h.pathname]),pathnameBase:q4(Di([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Di([s,h.pathnameBase]))}return o}function Xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $4(t,e=!1,n=!0){ro(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ro(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B4(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ou(t):t;return{pathname:n?n.startsWith("/")?n:z4(n,e):e,search:H4(r),hash:K4(i)}}function z4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function h_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ck(t){let e=W4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kk(t,e,n,r=!1){let i;typeof t=="string"?i=ou(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),h_("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),h_("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),h_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=B4(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),q4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xk=["POST","PUT","PATCH","DELETE"];new Set(xk);var Q4=["GET",...xk];new Set(Q4);var au=L.createContext(null);au.displayName="DataRouter";var rg=L.createContext(null);rg.displayName="DataRouterState";var Ok=L.createContext({isTransitioning:!1});Ok.displayName="ViewTransition";var Y4=L.createContext(new Map);Y4.displayName="Fetchers";var J4=L.createContext(null);J4.displayName="Await";var fi=L.createContext(null);fi.displayName="Navigation";var Jd=L.createContext(null);Jd.displayName="Location";var pi=L.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var tE=L.createContext(null);tE.displayName="RouteError";function X4(t,{relative:e}={}){Ze(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(fi),{hash:i,pathname:s,search:o}=Zd(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Di([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Xd(){return L.useContext(Jd)!=null}function io(){return Ze(Xd(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Jd).location}var Nk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dk(t){L.useContext(fi).static||L.useLayoutEffect(t)}function ig(){let{isDataRoute:t}=L.useContext(pi);return t?dU():Z4()}function Z4(){Ze(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(au),{basename:e,navigator:n}=L.useContext(fi),{matches:r}=L.useContext(pi),{pathname:i}=io(),s=JSON.stringify(Ck(r)),o=L.useRef(!1);return Dk(()=>{o.current=!0}),L.useCallback((l,u={})=>{if(ro(o.current,Nk),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=kk(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Di([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}L.createContext(null);function Lk(){let{matches:t}=L.useContext(pi),e=t[t.length-1];return e?e.params:{}}function Zd(t,{relative:e}={}){let{matches:n}=L.useContext(pi),{pathname:r}=io(),i=JSON.stringify(Ck(n));return L.useMemo(()=>kk(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function eU(t,e){return Vk(t,e)}function Vk(t,e,n,r){var v;Ze(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(fi),{matches:s}=L.useContext(pi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=io(),d;if(e){let T=typeof e=="string"?ou(e):e;Ze(l==="/"||((v=T.pathname)==null?void 0:v.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${T.pathname}" was given in the \`location\` prop.`),d=T}else d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let T=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let m=Ak(t,{pathname:f}),g=sU(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Di([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Di([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&g?L.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},g):g}function tU(){let t=cU(),e=G4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}var nU=L.createElement(tU,null),rU=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(pi.Provider,{value:this.props.routeContext},L.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iU({routeContext:t,match:e,children:n}){let r=L.useContext(au);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(pi.Provider,{value:t},n)}function sU(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ze(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,g=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||nU,o&&(a<0&&d===0?(hU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):a===d&&(f=!0,g=u.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,d+1)),T=()=>{let I;return h?I=m:f?I=g:u.route.Component?I=L.createElement(u.route.Component,null):u.route.element?I=u.route.element:I=l,L.createElement(iU,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:I})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?L.createElement(rU,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:T(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):T()},null)}function nE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oU(t){let e=L.useContext(au);return Ze(e,nE(t)),e}function aU(t){let e=L.useContext(rg);return Ze(e,nE(t)),e}function lU(t){let e=L.useContext(pi);return Ze(e,nE(t)),e}function rE(t){let e=lU(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uU(){return rE("useRouteId")}function cU(){var r;let t=L.useContext(tE),e=aU("useRouteError"),n=rE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dU(){let{router:t}=oU("useNavigate"),e=rE("useNavigate"),n=L.useRef(!1);return Dk(()=>{n.current=!0}),L.useCallback(async(i,s={})=>{ro(n.current,Nk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var O1={};function hU(t,e,n){O1[t]||(O1[t]=!0,ro(!1,n))}L.memo(fU);function fU({routes:t,future:e,state:n}){return Vk(t,void 0,n,e)}function ms(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ze(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ou(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=L.useMemo(()=>{let g=js(l,o);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return ro(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:L.createElement(fi.Provider,{value:a},L.createElement(Jd.Provider,{children:e,value:m}))}function mU({children:t,location:e}){return eU(Uv(t),e)}function Uv(t,e=[]){let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,Uv(r.props.children,s));return}Ze(r.type===ms,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uv(r.props.children,s)),n.push(o)}),n}var Xf="get",Zf="application/x-www-form-urlencoded";function sg(t){return t!=null&&typeof t.tagName=="string"}function gU(t){return sg(t)&&t.tagName.toLowerCase()==="button"}function yU(t){return sg(t)&&t.tagName.toLowerCase()==="form"}function _U(t){return sg(t)&&t.tagName.toLowerCase()==="input"}function vU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wU(t,e){return t.button===0&&(!e||e==="_self")&&!vU(t)}var wf=null;function EU(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var IU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f_(t){return t!=null&&!IU.has(t)?(ro(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):t}function TU(t,e){let n,r,i,s,o;if(yU(t)){let a=t.getAttribute("action");r=a?js(a,e):null,n=t.getAttribute("method")||Xf,i=f_(t.getAttribute("enctype"))||Zf,s=new FormData(t)}else if(gU(t)||_U(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?js(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Xf,i=f_(t.getAttribute("formenctype"))||f_(a.getAttribute("enctype"))||Zf,s=new FormData(a,t),!EU()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(sg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xf,r=null,i=Zf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function iE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function SU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AU(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await SU(s,n);return o.links?o.links():[]}return[]}));return kU(r.flat(1).filter(bU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N1(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function RU(t,e){return PU(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function PU(t){return[...new Set(t)]}function CU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(CU(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function xU(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function OU(){let t=L.useContext(au);return iE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NU(){let t=L.useContext(rg);return iE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sE=L.createContext(void 0);sE.displayName="FrameworkContext";function Mk(){let t=L.useContext(sE);return iE(t,"You must render this element inside a <HydratedRouter> element"),t}function DU(t,e){let n=L.useContext(sE),[r,i]=L.useState(!1),[s,o]=L.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=L.useRef(null);L.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=I=>{I.forEach(w=>{o(w.isIntersecting)})},T=new IntersectionObserver(v,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[t]),L.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ku(a,m),onBlur:Ku(l,g),onMouseEnter:Ku(u,m),onMouseLeave:Ku(d,g),onTouchStart:Ku(h,m)}]:[!1,f,{}]}function Ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LU({page:t,...e}){let{router:n}=OU(),r=L.useMemo(()=>Ak(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(MU,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function VU(t){let{manifest:e,routeModules:n}=Mk(),[r,i]=L.useState([]);return L.useEffect(()=>{let s=!1;return AU(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function MU({page:t,matches:e,...n}){let r=io(),{manifest:i,routeModules:s}=Mk(),{loaderData:o,matches:a}=NU(),l=L.useMemo(()=>N1(t,e,a,i,r,"data"),[t,e,a,i,r]),u=L.useMemo(()=>N1(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,g=!1;if(e.forEach(T=>{var w;let I=i.routes[T.route.id];!I||!I.hasLoader||(!l.some(E=>E.route.id===T.route.id)&&T.route.id in o&&((w=s[T.route.id])!=null&&w.shouldRevalidate)||I.hasClientLoader?g=!0:m.add(T.route.id))}),m.size===0)return[];let v=xU(t);return g&&m.size>0&&v.searchParams.set("_routes",e.filter(T=>m.has(T.route.id)).map(T=>T.route.id).join(",")),[v.pathname+v.search]},[o,r,i,l,e,t,s]),h=L.useMemo(()=>RU(u,i),[u,i]),f=VU(u);return L.createElement(L.Fragment,null,d.map(m=>L.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>L.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:g})=>L.createElement("link",{key:m,...g})))}function FU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fk&&(window.__reactRouterVersion="7.0.1")}catch{}function UU({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=A4({window:n,v5Compat:!0}));let i=r.current,[s,o]=L.useState({action:i.action,location:i.location}),a=L.useCallback(l=>{L.startTransition(()=>o(l))},[o]);return L.useLayoutEffect(()=>i.listen(a),[i,a]),L.createElement(pU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:g}=L.useContext(fi),v=typeof u=="string"&&Uk.test(u),T,I=!1;if(typeof u=="string"&&v&&(T=u,Fk))try{let R=new URL(window.location.href),y=u.startsWith("//")?new URL(R.protocol+u):new URL(u),k=js(y.pathname,g);y.origin===R.origin&&k!=null?u=k+y.search+y.hash:I=!0}catch{ro(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=X4(u,{relative:i}),[E,C,x]=DU(r,f),D=zU(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(R){e&&e(R),R.defaultPrevented||D(R)}let S=L.createElement("a",{...f,...x,href:T||w,onClick:I||s?e:b,ref:FU(m,C),target:l,"data-discover":!v&&n==="render"?"true":void 0});return E&&!v?L.createElement(L.Fragment,null,S,L.createElement(LU,{page:w})):S});Ir.displayName="Link";var $U=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=Zd(o,{relative:u.relative}),f=io(),m=L.useContext(rg),{navigator:g,basename:v}=L.useContext(fi),T=m!=null&&GU(h)&&a===!0,I=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=f.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),E=E?E.toLowerCase():null,I=I.toLowerCase()),E&&v&&(E=js(E,v)||E);const C=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let x=w===I||!i&&w.startsWith(I)&&w.charAt(C)==="/",D=E!=null&&(E===I||!i&&E.startsWith(I)&&E.charAt(I.length)==="/"),b={isActive:x,isPending:D,isTransitioning:T},S=x?e:void 0,R;typeof r=="function"?R=r(b):R=[r,x?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let y=typeof s=="function"?s(b):s;return L.createElement(Ir,{...u,"aria-current":S,className:R,ref:d,style:y,to:o,viewTransition:a},typeof l=="function"?l(b):l)});$U.displayName="NavLink";var jU=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Xf,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let g=HU(),v=KU(a,{relative:u}),T=o.toLowerCase()==="get"?"get":"post",I=typeof a=="string"&&Uk.test(a),w=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,x=(C==null?void 0:C.getAttribute("formmethod"))||o;g(C||E.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return L.createElement("form",{ref:m,method:T,action:v,onSubmit:r?l:w,...f,"data-discover":!I&&t==="render"?"true":void 0})});jU.displayName="Form";function BU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $k(t){let e=L.useContext(au);return Ze(e,BU(t)),e}function zU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=ig(),l=io(),u=Zd(t,{relative:s});return L.useCallback(d=>{if(wU(d,e)){d.preventDefault();let h=n!==void 0?n:yd(l)===yd(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var WU=0,qU=()=>`__${String(++WU)}__`;function HU(){let{router:t}=$k("useSubmit"),{basename:e}=L.useContext(fi),n=uU();return L.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=TU(r,e);if(i.navigate===!1){let d=i.fetcherKey||qU();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KU(t,{relative:e}={}){let{basename:n}=L.useContext(fi),r=L.useContext(pi);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Zd(t||".",{relative:e})},o=io();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Di([n,s.pathname])),yd(s)}function GU(t,e={}){let n=L.useContext(Ok);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$k("useViewTransitionState"),i=Zd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xp(i.pathname,o)!=null||Xp(i.pathname,s)!=null}new TextEncoder;var jk={},og={},oE={},p_={},Bk={exports:{}},QU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YU=QU,JU=YU;function zk(){}function Wk(){}Wk.resetWarningCache=zk;var XU=function(){function t(r,i,s,o,a,l){if(l!==JU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Wk,resetWarningCache:zk};return n.PropTypes=n,n};Bk.exports=XU();var qk=Bk.exports;const ie=s0(qk);var D1;function ZU(){return D1||(D1=1,function(t){(function(e,n){n(t,L,qk)})(i0,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=g;var i=o(n),s=o(r);function o(w){return w&&w.__esModule?w:{default:w}}var a=Object.assign||function(w){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(w[x]=C[x])}return w};function l(w,E){var C={};for(var x in w)E.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(w,x)&&(C[x]=w[x]);return C}function u(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var d=function(){function w(E,C){for(var x=0;x<C.length;x++){var D=C[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}return function(E,C,x){return C&&w(E.prototype,C),x&&w(E,x),E}}();function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function f(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var m=!1;function g(w){m=w}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){g(!0)}}))}catch{}function v(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?w:w.capture}function T(w){if("touches"in w){var E=w.touches[0],C=E.pageX,x=E.pageY;return{x:C,y:x}}var D=w.screenX,b=w.screenY;return{x:D,y:b}}var I=function(w){f(E,w);function E(){var C;u(this,E);for(var x=arguments.length,D=Array(x),b=0;b<x;b++)D[b]=arguments[b];var S=h(this,(C=E.__proto__||Object.getPrototypeOf(E)).call.apply(C,[this].concat(D)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return d(E,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(x){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(x))}},{key:"_onMouseMove",value:function(x){this.mouseDown&&this._handleSwipeMove(x)}},{key:"_onMouseUp",value:function(x){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(x)}},{key:"_handleSwipeStart",value:function(x){var D=T(x),b=D.x,S=D.y;this.moveStart={x:b,y:S},this.props.onSwipeStart(x)}},{key:"_handleSwipeMove",value:function(x){if(this.moveStart){var D=T(x),b=D.x,S=D.y,R=b-this.moveStart.x,y=S-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:R,y},x);k&&x.cancelable&&x.preventDefault(),this.movePosition={deltaX:R,deltaY:y}}}},{key:"_handleSwipeEnd",value:function(x){this.props.onSwipeEnd(x);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,x):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,x),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,x):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,x)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(x){this.swiper=x,this.props.innerRef(x)}},{key:"render",value:function(){var x=this.props;x.tagName;var D=x.className,b=x.style,S=x.children;x.allowMouseEvents,x.onSwipeUp,x.onSwipeDown,x.onSwipeLeft,x.onSwipeRight,x.onSwipeStart,x.onSwipeMove,x.onSwipeEnd,x.innerRef,x.tolerance;var R=l(x,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:b},R),S)}}]),E}(n.Component);I.displayName="ReactSwipe",I.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},I.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=I})}(p_)),p_}(function(t){(function(e,n){n(t,ZU())})(i0,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(oE);var eh={},Hk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Hk);var e$=Hk.exports;Object.defineProperty(eh,"__esModule",{value:!0});eh.default=void 0;var ls=t$(e$);function t$(t){return t&&t.__esModule?t:{default:t}}function n$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r$={ROOT:function(e){return(0,ls.default)(n$({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,ls.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,ls.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,ls.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,ls.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,ls.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,ls.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,ls.default)({dot:!0,selected:e})}};eh.default=r$;var th={},ag={};Object.defineProperty(ag,"__esModule",{value:!0});ag.outerWidth=void 0;var i$=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};ag.outerWidth=i$;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=void 0;var s$=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};lu.default=s$;var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.default=void 0;var o$=function(){return window};nh.default=o$;Object.defineProperty(th,"__esModule",{value:!0});th.default=void 0;var gr=u$(L),vo=lg(eh),a$=ag,L1=lg(lu),l$=lg(oE),Ef=lg(nh);function lg(t){return t&&t.__esModule?t:{default:t}}function Kk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Kk=function(){return t},t}function u$(t){if(t&&t.__esModule)return t;if(t===null||Dc(t)!=="object"&&typeof t!="function")return{default:t};var e=Kk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Dc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dc=function(n){return typeof n}:Dc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dc(t)}function $v(){return $v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function c$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h$(t,e,n){return e&&d$(t.prototype,e),t}function f$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jv(t,e)}function p$(t){var e=g$();return function(){var r=Zp(t),i;if(e){var s=Zp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return m$(this,i)}}function m$(t,e){return e&&(Dc(e)==="object"||typeof e=="function")?e:dn(t)}function dn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y$=function(e){return e.hasOwnProperty("key")},aE=function(t){f$(n,t);var e=p$(n);function n(r){var i;return c$(this,n),i=e.call(this,r),Xt(dn(i),"itemsWrapperRef",void 0),Xt(dn(i),"itemsListRef",void 0),Xt(dn(i),"thumbsRef",void 0),Xt(dn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Xt(dn(i),"setItemsListRef",function(s){i.itemsListRef=s}),Xt(dn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Xt(dn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=gr.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,a$.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,d=u?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:u}})}}),Xt(dn(i),"handleClickItem",function(s,o,a){if(!y$(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Xt(dn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Xt(dn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Xt(dn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=gr.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(l-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(g){i.itemsListRef.style[g]=(0,L1.default)(m,"%",i.props.axis)}),!0}),Xt(dn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Xt(dn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Xt(dn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return h$(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Ef.default)().addEventListener("resize",this.updateSizes),(0,Ef.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Ef.default)().removeEventListener("resize",this.updateSizes),(0,Ef.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=vo.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return gr.default.createElement("li",$v({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=gr.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),d=(0,L1.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},gr.default.createElement("div",{className:vo.default.CAROUSEL(!1)},gr.default.createElement("div",{className:vo.default.WRAPPER(!1),ref:this.setItemsWrapperRef},gr.default.createElement("button",{type:"button",className:vo.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?gr.default.createElement(l$.default,{tagName:"ul",className:vo.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):gr.default.createElement("ul",{className:vo.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:l},this.renderItems()),gr.default.createElement("button",{type:"button",className:vo.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(gr.Component);th.default=aE;Xt(aE,"displayName","Thumbs");Xt(aE,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.default=void 0;var _$=function(){return document};ug.default=_$;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.setPosition=Mn.getPosition=Mn.isKeyboardEvent=Mn.defaultStatusFormatter=Mn.noop=void 0;var v$=L,w$=E$(lu);function E$(t){return t&&t.__esModule?t:{default:t}}var I$=function(){};Mn.noop=I$;var T$=function(e,n){return"".concat(e," of ").concat(n)};Mn.defaultStatusFormatter=T$;var S$=function(e){return e?e.hasOwnProperty("key"):!1};Mn.isKeyboardEvent=S$;var b$=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=v$.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};Mn.getPosition=b$;var A$=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,w$.default)(e,"%",n)}),r};Mn.setPosition=A$;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.fadeAnimationHandler=Yr.slideStopSwipingHandler=Yr.slideSwipeAnimationHandler=Yr.slideAnimationHandler=void 0;var Gk=L,R$=P$(lu),Jr=Mn;function P$(t){return t&&t.__esModule?t:{default:t}}function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){C$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k$=function(e,n){var r={},i=n.selectedItem,s=i,o=Gk.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Jr.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Jr.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Jr.setPosition)(0,e.axis)),r;var l=(0,Jr.getPosition)(i,e),u=(0,R$.default)(l,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=Ro(Ro({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};Yr.slideAnimationHandler=k$;var x$=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Gk.Children.count(n.children),l=0,u=(0,Jr.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,Jr.getPosition)(a-1,n)-100:(0,Jr.getPosition)(a-1,n),h=o?e.x:e.y,f=h;u===l&&h>0&&(f=0),u===d&&h<0&&(f=0);var m=u+100/(r.itemSize/f),g=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&g&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||g||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Jr.setPosition)(m,n.axis)),g&&!r.cancelClick&&i({cancelClick:!0}),s};Yr.slideSwipeAnimationHandler=x$;var O$=function(e,n){var r=(0,Jr.getPosition)(n.selectedItem,e),i=(0,Jr.setPosition)(r,e.axis);return{itemListStyle:i}};Yr.slideStopSwipingHandler=O$;var N$=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=Ro(Ro({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:Ro(Ro({},s),{},{opacity:1,position:"relative"}),prevStyle:Ro({},s)}};Yr.fadeAnimationHandler=N$;Object.defineProperty(og,"__esModule",{value:!0});og.default=void 0;var xe=V$(L),D$=rh(oE),Si=rh(eh),L$=rh(th),If=rh(ug),Tf=rh(nh),fc=Mn,em=Yr;function rh(t){return t&&t.__esModule?t:{default:t}}function Qk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Qk=function(){return t},t}function V$(t){if(t&&t.__esModule)return t;if(t===null||Lc(t)!=="object"&&typeof t!="function")return{default:t};var e=Qk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Lc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lc=function(n){return typeof n}:Lc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lc(t)}function Bv(){return Bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U$(t,e,n){return e&&F$(t.prototype,e),t}function $$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zv(t,e)}function j$(t){var e=z$();return function(){var r=tm(t),i;if(e){var s=tm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return B$(this,i)}}function B$(t,e){return e&&(Lc(e)==="object"||typeof e=="function")?e:me(t)}function me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lE=function(t){$$(n,t);var e=j$(n);function n(r){var i;M$(this,n),i=e.call(this,r),he(me(i),"thumbsRef",void 0),he(me(i),"carouselWrapperRef",void 0),he(me(i),"listRef",void 0),he(me(i),"itemsRef",void 0),he(me(i),"timer",void 0),he(me(i),"animationHandler",void 0),he(me(i),"setThumbsRef",function(o){i.thumbsRef=o}),he(me(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),he(me(i),"setListRef",function(o){i.listRef=o}),he(me(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),he(me(i),"autoPlay",function(){xe.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),he(me(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),he(me(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),he(me(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),he(me(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),he(me(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,If.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,If.default)().activeElement)):!1}),he(me(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=l?u.ArrowRight:u.ArrowDown,h=l?u.ArrowLeft:u.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),he(me(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),he(me(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),he(me(i),"handleClickItem",function(o,a){if(xe.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),he(me(i),"handleOnChange",function(o,a){xe.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),he(me(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),he(me(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),he(me(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),he(me(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(me(i)));return i.setState(yr({},l)),!!Object.keys(l).length}),he(me(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),he(me(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),he(me(i),"moveTo",function(o){if(typeof o=="number"){var a=xe.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),he(me(i),"onClickNext",function(){i.increment(1)}),he(me(i),"onClickPrev",function(){i.decrement(1)}),he(me(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),he(me(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),he(me(i),"changeItem",function(o){return function(a){(!(0,fc.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),he(me(i),"selectItem",function(o){i.setState(yr({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,xe.Children.toArray(i.props.children)[o.selectedItem])}),he(me(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),he(me(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var d=function m(){i.forceUpdate(),u.removeEventListener("load",m)};u.addEventListener("load",d)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&em.fadeAnimationHandler||em.slideAnimationHandler,i.state=yr(yr({},s),i.animationHandler(r,s)),i}return U$(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(yr({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&xe.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Tf.default)().addEventListener("resize",this.updateSizes),(0,Tf.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,If.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Tf.default)().removeEventListener("resize",this.updateSizes),(0,Tf.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,If.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?xe.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,d=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=yr(yr({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=yr(yr({},d),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:Si.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return xe.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?xe.default.createElement("ul",{className:"control-dots"},xe.Children.map(u,function(d,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?xe.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,xe.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||xe.Children.count(this.props.children)===0?null:xe.default.createElement(L$.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||xe.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&xe.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&xe.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<xe.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),m={className:Si.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},g={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);g.height=v||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=yr(yr({},m.style),{},{height:this.state.itemSize}),g.height=this.state.itemSize;return xe.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Si.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},xe.default.createElement("div",{className:Si.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),xe.default.createElement("div",{className:Si.default.WRAPPER(!0,this.props.axis),style:g},s?xe.default.createElement(D$.default,Bv({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):xe.default.createElement("ul",{className:Si.default.SLIDER(!0,this.state.swiping),ref:function(I){return i.setListRef(I)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(xe.default.Component);og.default=lE;he(lE,"displayName","Carousel");he(lE,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:fc.noop,onClickThumb:fc.noop,onChange:fc.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return xe.default.createElement("button",{type:"button","aria-label":r,className:Si.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return xe.default.createElement("button",{type:"button","aria-label":r,className:Si.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return xe.default.createElement("li",{className:Si.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=xe.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=xe.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:fc.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:em.slideSwipeAnimationHandler,stopSwipingHandler:em.slideStopSwipingHandler});var W$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(og),n=W$,r=i(th);function i(s){return s&&s.__esModule?s:{default:s}}})(jk);const q$="/assets/10001-CXboPI6P.jpg",H$="/assets/10002-Cj8HXlln.jpg",K$="/assets/10003-BRftKkGe.jpg",G$="/assets/10004-Fp0oaH3y.jpg",Q$="/assets/10005-bl35EseN.jpg",Yk=[q$,H$,K$,G$,Q$];console.log(Yk);const Y$="_hero_img_oknd0_1",J$={hero_img:Y$},X$=()=>O.jsxs("div",{children:[O.jsx(jk.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:Yk.map((t,e)=>O.jsx("img",{src:t},e))}),O.jsx("div",{className:J$.hero_img})]}),Z$=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_Electronics_1x._SY304_CB432774322_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://assets.vogue.com/photos/62f2225746ad3eb633efdf3b/master/w_2560%2Cc_limit/00003-european-culture-spring-2023-ready-to-wear-credit-brand.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71OOtiBa76L._AC_UY1000_.jpg"}],ej="_category_txy99_1",tj="_Category_container_txy99_53",Jk={category:ej,Category_container:tj};function Xk({data:t}){return console.log(t),O.jsx("div",{className:Jk.category,children:O.jsxs(Ir,{to:`/category/${t.name}`,children:[O.jsx("span",{children:O.jsx("h2",{children:t.title})}),O.jsx("img",{src:t.imgLink,alt:""}),O.jsx("p",{children:"shop now"})]})})}Xk.propTypes={data:ie.shape({name:ie.string.isRequired,title:ie.string.isRequired,imgLink:ie.string.isRequired}).isRequired};function nj(){return O.jsx("div",{children:O.jsx("section",{className:Jk.Category_container,children:Z$.map((t,e)=>O.jsx(Xk,{data:t},e))})})}function Zk(t,e){return function(){return t.apply(e,arguments)}}const{toString:rj}=Object.prototype,{getPrototypeOf:uE}=Object,{iterator:cg,toStringTag:ex}=Symbol,dg=(t=>e=>{const n=rj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=t=>(t=t.toLowerCase(),e=>dg(e)===t),hg=t=>e=>typeof e===t,{isArray:uu}=Array,kl=hg("undefined");function ih(t){return t!==null&&!kl(t)&&t.constructor!==null&&!kl(t.constructor)&&Cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tx=Nr("ArrayBuffer");function ij(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tx(t.buffer),e}const sj=hg("string"),Cn=hg("function"),nx=hg("number"),sh=t=>t!==null&&typeof t=="object",oj=t=>t===!0||t===!1,ep=t=>{if(dg(t)!=="object")return!1;const e=uE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ex in t)&&!(cg in t)},aj=t=>{if(!sh(t)||ih(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lj=Nr("Date"),uj=Nr("File"),cj=Nr("Blob"),dj=Nr("FileList"),hj=t=>sh(t)&&Cn(t.pipe),fj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cn(t.append)&&((e=dg(t))==="formdata"||e==="object"&&Cn(t.toString)&&t.toString()==="[object FormData]"))},pj=Nr("URLSearchParams"),[mj,gj,yj,_j]=["ReadableStream","Request","Response","Headers"].map(Nr),vj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),uu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ih(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function rx(t,e){if(ih(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ix=t=>!kl(t)&&t!==Vo;function Wv(){const{caseless:t,skipUndefined:e}=ix(this)&&this||{},n={},r=(i,s)=>{const o=t&&rx(n,s)||s;ep(n[o])&&ep(i)?n[o]=Wv(n[o],i):ep(i)?n[o]=Wv({},i):uu(i)?n[o]=i.slice():(!e||!kl(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&oh(arguments[i],r);return n}const wj=(t,e,n,{allOwnKeys:r}={})=>(oh(e,(i,s)=>{n&&Cn(i)?t[s]=Zk(i,n):t[s]=i},{allOwnKeys:r}),t),Ej=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ij=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Tj=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&uE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Sj=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},bj=t=>{if(!t)return null;if(uu(t))return t;let e=t.length;if(!nx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Aj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uE(Uint8Array)),Rj=(t,e)=>{const r=(t&&t[cg]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Pj=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Cj=Nr("HTMLFormElement"),kj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),F1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xj=Nr("RegExp"),sx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};oh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Oj=t=>{sx(t,(e,n)=>{if(Cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Nj=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return uu(t)?r(t):r(String(t).split(e)),n},Dj=()=>{},Lj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Vj(t){return!!(t&&Cn(t.append)&&t[ex]==="FormData"&&t[cg])}const Mj=t=>{const e=new Array(10),n=(r,i)=>{if(sh(r)){if(e.indexOf(r)>=0)return;if(ih(r))return r;if(!("toJSON"in r)){e[i]=r;const s=uu(r)?[]:{};return oh(r,(o,a)=>{const l=n(o,i+1);!kl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Fj=Nr("AsyncFunction"),Uj=t=>t&&(sh(t)||Cn(t))&&Cn(t.then)&&Cn(t.catch),ox=((t,e)=>t?setImmediate:e?((n,r)=>(Vo.addEventListener("message",({source:i,data:s})=>{i===Vo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(Vo.postMessage)),$j=typeof queueMicrotask<"u"?queueMicrotask.bind(Vo):typeof process<"u"&&process.nextTick||ox,jj=t=>t!=null&&Cn(t[cg]),U={isArray:uu,isArrayBuffer:tx,isBuffer:ih,isFormData:fj,isArrayBufferView:ij,isString:sj,isNumber:nx,isBoolean:oj,isObject:sh,isPlainObject:ep,isEmptyObject:aj,isReadableStream:mj,isRequest:gj,isResponse:yj,isHeaders:_j,isUndefined:kl,isDate:lj,isFile:uj,isBlob:cj,isRegExp:xj,isFunction:Cn,isStream:hj,isURLSearchParams:pj,isTypedArray:Aj,isFileList:dj,forEach:oh,merge:Wv,extend:wj,trim:vj,stripBOM:Ej,inherits:Ij,toFlatObject:Tj,kindOf:dg,kindOfTest:Nr,endsWith:Sj,toArray:bj,forEachEntry:Rj,matchAll:Pj,isHTMLForm:Cj,hasOwnProperty:F1,hasOwnProp:F1,reduceDescriptors:sx,freezeMethods:Oj,toObjectSet:Nj,toCamelCase:kj,noop:Dj,toFiniteNumber:Lj,findKey:rx,global:Vo,isContextDefined:ix,isSpecCompliantForm:Vj,toJSONObject:Mj,isAsyncFn:Fj,isThenable:Uj,setImmediate:ox,asap:$j,isIterable:jj};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}U.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=le.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lx[t]={value:t}});Object.defineProperties(le,lx);Object.defineProperty(ax,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(ax);U.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return le.call(o,a,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const Bj=null;function qv(t){return U.isPlainObject(t)||U.isArray(t)}function ux(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function U1(t,e,n){return t?t.concat(e).map(function(i,s){return i=ux(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function zj(t){return U.isArray(t)&&!t.some(qv)}const Wj=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function fg(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,T){return!U.isUndefined(T[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(U.isDate(g))return g.toISOString();if(U.isBoolean(g))return g.toString();if(!l&&U.isBlob(g))throw new le("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(g)||U.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,T){let I=g;if(g&&!T&&typeof g=="object"){if(U.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(U.isArray(g)&&zj(g)||(U.isFileList(g)||U.endsWith(v,"[]"))&&(I=U.toArray(g)))return v=ux(v),I.forEach(function(E,C){!(U.isUndefined(E)||E===null)&&e.append(o===!0?U1([v],C,s):o===null?v:v+"[]",u(E))}),!1}return qv(g)?!0:(e.append(U1(T,v,s),u(g)),!1)}const h=[],f=Object.assign(Wj,{defaultVisitor:d,convertValue:u,isVisitable:qv});function m(g,v){if(!U.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),U.forEach(g,function(I,w){(!(U.isUndefined(I)||I===null)&&i.call(e,I,U.isString(w)?w.trim():w,v,f))===!0&&m(I,v?v.concat(w):[w])}),h.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function $1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function cE(t,e){this._pairs=[],t&&fg(t,this,e)}const cx=cE.prototype;cx.append=function(e,n){this._pairs.push([e,n])};cx.toString=function(e){const n=e?function(r){return e.call(this,r,$1)}:$1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dx(t,e,n){if(!e)return t;const r=n&&n.encode||qj;U.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=U.isURLSearchParams(e)?e.toString():new cE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class j1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hj=typeof URLSearchParams<"u"?URLSearchParams:cE,Kj=typeof FormData<"u"?FormData:null,Gj=typeof Blob<"u"?Blob:null,Qj={isBrowser:!0,classes:{URLSearchParams:Hj,FormData:Kj,Blob:Gj},protocols:["http","https","file","blob","url","data"]},dE=typeof window<"u"&&typeof document<"u",Hv=typeof navigator=="object"&&navigator||void 0,Yj=dE&&(!Hv||["ReactNative","NativeScript","NS"].indexOf(Hv.product)<0),Jj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xj=dE&&window.location.href||"http://localhost",Zj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dE,hasStandardBrowserEnv:Yj,hasStandardBrowserWebWorkerEnv:Jj,navigator:Hv,origin:Xj},Symbol.toStringTag,{value:"Module"})),tn={...Zj,...Qj};function e5(t,e){return fg(t,new tn.classes.URLSearchParams,{visitor:function(n,r,i,s){return tn.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function t5(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function n5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function fx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,l?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=n5(i[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(t5(r),i,n,0)}),n}return null}function r5(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const ah={transitional:hx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(fx(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return e5(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),r5(e)):e}],transformResponse:[function(e){const n=this.transitional||ah.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{ah.headers[t]={}});const i5=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&i5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B1=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function tp(t){return t===!1||t==null?t:U.isArray(t)?t.map(tp):String(t)}function o5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const a5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function m_(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function l5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function u5(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class kn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Gu(l);if(!d)throw new Error("header name must be a non-empty string");const h=U.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=tp(a))}const o=(a,l)=>U.forEach(a,(u,d)=>s(u,d,l));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!a5(e))o(s5(e),n);else if(U.isObject(e)&&U.isIterable(e)){let a={},l,u;for(const d of e){if(!U.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?U.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Gu(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return o5(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gu(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||m_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Gu(o),o){const a=U.findKey(r,o);a&&(!n||m_(r,r[a],a,n))&&(delete r[a],i=!0)}}return U.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||m_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=tp(i),delete n[s];return}const a=e?l5(s):String(s).trim();a!==s&&delete n[s],n[a]=tp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B1]=this[B1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Gu(o);r[a]||(u5(i,o),r[a]=!0)}return U.isArray(e)?e.forEach(s):s(e),this}}kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(kn);function g_(t,e){const n=this||ah,r=e||n,i=kn.from(r.headers);let s=r.data;return U.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function px(t){return!!(t&&t.__CANCEL__)}function cu(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(cu,le,{__CANCEL__:!0});function mx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function d5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function h5(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const nm=(t,e,n=3)=>{let r=0;const i=d5(50,250);return h5(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},z1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},W1=t=>(...e)=>U.asap(()=>t(...e)),f5=tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,p5=tn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function m5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function g5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gx(t,e,n){let r=!m5(e);return t&&(r||n==!1)?g5(t,e):e}const q1=t=>t instanceof kn?{...t}:t;function Xo(t,e){e=e||{};const n={};function r(u,d,h,f){return U.isPlainObject(u)&&U.isPlainObject(d)?U.merge.call({caseless:f},u,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function i(u,d,h,f){if(U.isUndefined(d)){if(!U.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!U.isUndefined(d))return r(void 0,d)}function o(u,d){if(U.isUndefined(d)){if(!U.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(q1(u),q1(d),h,!0)};return U.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);U.isUndefined(f)&&h!==a||(n[d]=f)}),n}const yx=t=>{const e=Xo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=kn.from(o),e.url=dx(gx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),U.isFormData(n)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(U.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(tn.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&f5(e.url))){const l=i&&s&&p5.read(s);l&&o.set(i,l)}return e},y5=typeof XMLHttpRequest<"u",_5=y5&&function(t){return new Promise(function(n,r){const i=yx(t);let s=i.data;const o=kn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function I(){if(!T)return;const E=kn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:E,config:t,request:T};mx(function(b){n(b),v()},function(b){r(b),v()},x),T=null}"onloadend"in T?T.onloadend=I:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(I)},T.onabort=function(){T&&(r(new le("Request aborted",le.ECONNABORTED,t,T)),T=null)},T.onerror=function(C){const x=C&&C.message?C.message:"Network Error",D=new le(x,le.ERR_NETWORK,t,T);D.event=C||null,r(D),T=null},T.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||hx;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new le(C,x.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&U.forEach(o.toJSON(),function(C,x){T.setRequestHeader(x,C)}),U.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),u&&([f,g]=nm(u,!0),T.addEventListener("progress",f)),l&&T.upload&&([h,m]=nm(l),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=E=>{T&&(r(!E||E.type?new cu(null,t,T):E),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=c5(i.url);if(w&&tn.protocols.indexOf(w)===-1){r(new le("Unsupported protocol "+w+":",le.ERR_BAD_REQUEST,t));return}T.send(s||null)})},v5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof le?d:new cu(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>U.asap(a),l}},w5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},E5=async function*(t,e){for await(const n of I5(t))yield*w5(n,e)},I5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},H1=(t,e,n,r)=>{const i=E5(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},K1=64*1024,{isFunction:Sf}=U,T5=(({Request:t,Response:e})=>({Request:t,Response:e}))(U.global),{ReadableStream:G1,TextEncoder:Q1}=U.global,Y1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},S5=t=>{t=U.merge.call({skipUndefined:!0},T5,t);const{fetch:e,Request:n,Response:r}=t,i=e?Sf(e):typeof fetch=="function",s=Sf(n),o=Sf(r);if(!i)return!1;const a=i&&Sf(G1),l=i&&(typeof Q1=="function"?(g=>v=>g.encode(v))(new Q1):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=s&&a&&Y1(()=>{let g=!1;const v=new n(tn.origin,{body:new G1,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),d=o&&a&&Y1(()=>U.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,T)=>{let I=v&&v[g];if(I)return I.call(v);throw new le(`Response type '${g}' is not supported`,le.ERR_NOT_SUPPORT,T)})});const f=async g=>{if(g==null)return 0;if(U.isBlob(g))return g.size;if(U.isSpecCompliantForm(g))return(await new n(tn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(U.isArrayBufferView(g)||U.isArrayBuffer(g))return g.byteLength;if(U.isURLSearchParams(g)&&(g=g+""),U.isString(g))return(await l(g)).byteLength},m=async(g,v)=>{const T=U.toFiniteNumber(g.getContentLength());return T??f(v)};return async g=>{let{url:v,method:T,data:I,signal:w,cancelToken:E,timeout:C,onDownloadProgress:x,onUploadProgress:D,responseType:b,headers:S,withCredentials:R="same-origin",fetchOptions:y}=yx(g),k=e||fetch;b=b?(b+"").toLowerCase():"text";let N=v5([w,E&&E.toAbortSignal()],C),P=null;const ee=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let Ce;try{if(D&&u&&T!=="get"&&T!=="head"&&(Ce=await m(S,I))!==0){let pe=new n(v,{method:"POST",body:I,duplex:"half"}),de;if(U.isFormData(I)&&(de=pe.headers.get("content-type"))&&S.setContentType(de),pe.body){const[ae,yt]=z1(Ce,nm(W1(D)));I=H1(pe.body,K1,ae,yt)}}U.isString(R)||(R=R?"include":"omit");const Ae=s&&"credentials"in n.prototype,ce={...y,signal:N,method:T.toUpperCase(),headers:S.normalize().toJSON(),body:I,duplex:"half",credentials:Ae?R:void 0};P=s&&new n(v,ce);let H=await(s?k(P,y):k(v,ce));const Z=d&&(b==="stream"||b==="response");if(d&&(x||Z&&ee)){const pe={};["status","statusText","headers"].forEach(Lt=>{pe[Lt]=H[Lt]});const de=U.toFiniteNumber(H.headers.get("content-length")),[ae,yt]=x&&z1(de,nm(W1(x),!0))||[];H=new r(H1(H.body,K1,ae,()=>{yt&&yt(),ee&&ee()}),pe)}b=b||"text";let re=await h[U.findKey(h,b)||"text"](H,g);return!Z&&ee&&ee(),await new Promise((pe,de)=>{mx(pe,de,{data:re,headers:kn.from(H.headers),status:H.status,statusText:H.statusText,config:g,request:P})})}catch(Ae){throw ee&&ee(),Ae&&Ae.name==="TypeError"&&/Load failed|fetch/i.test(Ae.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,g,P),{cause:Ae.cause||Ae}):le.from(Ae,Ae&&Ae.code,g,P)}}},b5=new Map,_x=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,u,d=b5;for(;a--;)l=s[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:S5(e)),d=u;return u};_x();const Kv={http:Bj,xhr:_5,fetch:{get:_x}};U.forEach(Kv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const J1=t=>`- ${t}`,A5=t=>U.isFunction(t)||t===null||t===!1,vx={getAdapter:(t,e)=>{t=U.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!A5(r)&&(i=Kv[(a=String(r)).toLowerCase()],i===void 0))throw new le(`Unknown adapter '${a}'`);if(i&&(U.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(J1).join(`
`):" "+J1(o[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Kv};function y_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cu(null,t)}function X1(t){return y_(t),t.headers=kn.from(t.headers),t.data=g_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vx.getAdapter(t.adapter||ah.adapter,t)(t).then(function(r){return y_(t),r.data=g_.call(t,t.transformResponse,r),r.headers=kn.from(r.headers),r},function(r){return px(r)||(y_(t),r&&r.response&&(r.response.data=g_.call(t,t.transformResponse,r.response),r.response.headers=kn.from(r.response.headers))),Promise.reject(r)})}const wx="1.12.2",pg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Z1={};pg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+wx+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!Z1[o]&&(Z1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};pg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function R5(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const np={assertOptions:R5,validators:pg},Fr=np.validators;class zo{constructor(e){this.defaults=e||{},this.interceptors={request:new j1,response:new j1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&np.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:np.assertOptions(i,{encode:Fr.function,serialize:Fr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),np.assertOptions(n,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=kn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const g=[X1.bind(this),void 0];for(g.unshift(...a),g.push(...u),f=g.length,d=Promise.resolve(n);h<f;)d=d.then(g[h++],g[h++]);return d}f=a.length;let m=n;for(;h<f;){const g=a[h++],v=a[h++];try{m=g(m)}catch(T){v.call(this,T);break}}try{d=X1.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Xo(this.defaults,e);const n=gx(e.baseURL,e.url,e.allowAbsoluteUrls);return dx(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){zo.prototype[e]=function(n,r){return this.request(Xo(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Xo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}zo.prototype[e]=n(),zo.prototype[e+"Form"]=n(!0)});class hE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new cu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hE(function(i){e=i}),cancel:e}}}function P5(t){return function(n){return t.apply(null,n)}}function C5(t){return U.isObject(t)&&t.isAxiosError===!0}const Gv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gv).forEach(([t,e])=>{Gv[e]=t});function Ex(t){const e=new zo(t),n=Zk(zo.prototype.request,e);return U.extend(n,zo.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Ex(Xo(t,i))},n}const tt=Ex(ah);tt.Axios=zo;tt.CanceledError=cu;tt.CancelToken=hE;tt.isCancel=px;tt.VERSION=wx;tt.toFormData=fg;tt.AxiosError=le;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=P5;tt.isAxiosError=C5;tt.mergeConfig=Xo;tt.AxiosHeaders=kn;tt.formToJSON=t=>fx(U.isHTMLForm(t)?new FormData(t):t);tt.getAdapter=vx.getAdapter;tt.HttpStatusCode=Gv;tt.default=tt;const _d={black:"#000",white:"#fff"},Ra={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Pa={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ca={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ka={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Qu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},k5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zo(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const x5="$$material";function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(null,arguments)}function Ix(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var O5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,N5=Ix(function(t){return O5.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),D5=!1;function L5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function V5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var M5=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!D5:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(V5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=L5(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Jt="-ms-",rm="-moz-",Re="-webkit-",Tx="comm",fE="rule",pE="decl",F5="@import",Sx="@keyframes",U5="@layer",$5=Math.abs,mg=String.fromCharCode,j5=Object.assign;function B5(t,e){return Ut(t,0)^45?(((e<<2^Ut(t,0))<<2^Ut(t,1))<<2^Ut(t,2))<<2^Ut(t,3):0}function bx(t){return t.trim()}function z5(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function Yv(t,e){return t.indexOf(e)}function Ut(t,e){return t.charCodeAt(e)|0}function vd(t,e,n){return t.slice(e,n)}function Br(t){return t.length}function mE(t){return t.length}function bf(t,e){return e.push(t),t}function W5(t,e){return t.map(e).join("")}var gg=1,xl=1,Ax=0,xn=0,It=0,du="";function yg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:gg,column:xl,length:o,return:""}}function Yu(t,e){return j5(yg("",null,null,"",null,null,0),t,{length:-t.length},e)}function q5(){return It}function H5(){return It=xn>0?Ut(du,--xn):0,xl--,It===10&&(xl=1,gg--),It}function Bn(){return It=xn<Ax?Ut(du,xn++):0,xl++,It===10&&(xl=1,gg++),It}function ii(){return Ut(du,xn)}function rp(){return xn}function lh(t,e){return vd(du,t,e)}function wd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rx(t){return gg=xl=1,Ax=Br(du=t),xn=0,[]}function Px(t){return du="",t}function ip(t){return bx(lh(xn-1,Jv(t===91?t+2:t===40?t+1:t)))}function K5(t){for(;(It=ii())&&It<33;)Bn();return wd(t)>2||wd(It)>3?"":" "}function G5(t,e){for(;--e&&Bn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return lh(t,rp()+(e<6&&ii()==32&&Bn()==32))}function Jv(t){for(;Bn();)switch(It){case t:return xn;case 34:case 39:t!==34&&t!==39&&Jv(It);break;case 40:t===41&&Jv(t);break;case 92:Bn();break}return xn}function Q5(t,e){for(;Bn()&&t+It!==57;)if(t+It===84&&ii()===47)break;return"/*"+lh(e,xn-1)+"*"+mg(t===47?t:Bn())}function Y5(t){for(;!wd(ii());)Bn();return lh(t,xn)}function J5(t){return Px(sp("",null,null,null,[""],t=Rx(t),0,[0],t))}function sp(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,g=0,v=1,T=1,I=1,w=0,E="",C=i,x=s,D=r,b=E;T;)switch(g=w,w=Bn()){case 40:if(g!=108&&Ut(b,h-1)==58){Yv(b+=Pe(ip(w),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:b+=ip(w);break;case 9:case 10:case 13:case 32:b+=K5(g);break;case 92:b+=G5(rp()-1,7);continue;case 47:switch(ii()){case 42:case 47:bf(X5(Q5(Bn(),rp()),e,n),l);break;default:b+="/"}break;case 123*v:a[u++]=Br(b)*I;case 125*v:case 59:case 0:switch(w){case 0:case 125:T=0;case 59+d:I==-1&&(b=Pe(b,/\f/g,"")),m>0&&Br(b)-h&&bf(m>32?tb(b+";",r,n,h-1):tb(Pe(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(bf(D=eb(b,e,n,u,d,i,a,E,C=[],x=[],h),s),w===123)if(d===0)sp(b,e,D,D,C,s,h,a,x);else switch(f===99&&Ut(b,3)===110?100:f){case 100:case 108:case 109:case 115:sp(t,D,D,r&&bf(eb(t,D,D,0,0,i,a,E,i,C=[],h),x),i,x,h,a,r?C:x);break;default:sp(b,D,D,D,[""],x,0,a,x)}}u=d=m=0,v=I=1,E=b="",h=o;break;case 58:h=1+Br(b),m=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&H5()==125)continue}switch(b+=mg(w),w*v){case 38:I=d>0?1:(b+="\f",-1);break;case 44:a[u++]=(Br(b)-1)*I,I=1;break;case 64:ii()===45&&(b+=ip(Bn())),f=ii(),d=h=Br(E=b+=Y5(rp())),w++;break;case 45:g===45&&Br(b)==2&&(v=0)}}return s}function eb(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=mE(f),g=0,v=0,T=0;g<r;++g)for(var I=0,w=vd(t,h+1,h=$5(v=o[g])),E=t;I<m;++I)(E=bx(v>0?f[I]+" "+w:Pe(w,/&\f/g,f[I])))&&(l[T++]=E);return yg(t,e,n,i===0?fE:a,l,u,d)}function X5(t,e,n){return yg(t,e,n,Tx,mg(q5()),vd(t,2,-2),0)}function tb(t,e,n,r){return yg(t,e,n,pE,vd(t,0,r),vd(t,r+1,-1),r)}function pl(t,e){for(var n="",r=mE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Z5(t,e,n,r){switch(t.type){case U5:if(t.children.length)break;case F5:case pE:return t.return=t.return||t.value;case Tx:return"";case Sx:return t.return=t.value+"{"+pl(t.children,r)+"}";case fE:t.value=t.props.join(",")}return Br(n=pl(t.children,r))?t.return=t.value+"{"+n+"}":""}function e3(t){var e=mE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function t3(t){return function(e){e.root||(e=e.return)&&t(e)}}var n3=function(e,n,r){for(var i=0,s=0;i=s,s=ii(),i===38&&s===12&&(n[r]=1),!wd(s);)Bn();return lh(e,xn)},r3=function(e,n){var r=-1,i=44;do switch(wd(i)){case 0:i===38&&ii()===12&&(n[r]=1),e[r]+=n3(xn-1,n,r);break;case 2:e[r]+=ip(i);break;case 4:if(i===44){e[++r]=ii()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=mg(i)}while(i=Bn());return e},i3=function(e,n){return Px(r3(Rx(e),n))},nb=new WeakMap,s3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nb.get(r))&&!i){nb.set(e,!0);for(var s=[],o=i3(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},o3=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Cx(t,e){switch(B5(t,e)){case 5103:return Re+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Re+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Re+t+rm+t+Jt+t+t;case 6828:case 4268:return Re+t+Jt+t+t;case 6165:return Re+t+Jt+"flex-"+t+t;case 5187:return Re+t+Pe(t,/(\w+).+(:[^]+)/,Re+"box-$1$2"+Jt+"flex-$1$2")+t;case 5443:return Re+t+Jt+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Re+t+Jt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Re+t+Jt+Pe(t,"shrink","negative")+t;case 5292:return Re+t+Jt+Pe(t,"basis","preferred-size")+t;case 6060:return Re+"box-"+Pe(t,"-grow","")+Re+t+Jt+Pe(t,"grow","positive")+t;case 4554:return Re+Pe(t,/([^-])(transform)/g,"$1"+Re+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Re+"$1"),/(image-set)/,Re+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Re+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Re+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Re+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Re+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Br(t)-1-e>6)switch(Ut(t,e+1)){case 109:if(Ut(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Re+"$2-$3$1"+rm+(Ut(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yv(t,"stretch")?Cx(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ut(t,e+1)!==115)break;case 6444:switch(Ut(t,Br(t)-3-(~Yv(t,"!important")&&10))){case 107:return Pe(t,":",":"+Re)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Re+(Ut(t,14)===45?"inline-":"")+"box$3$1"+Re+"$2$3$1"+Jt+"$2box$3")+t}break;case 5936:switch(Ut(t,e+11)){case 114:return Re+t+Jt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Re+t+Jt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Re+t+Jt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Re+t+Jt+t+t}return t}var a3=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case pE:e.return=Cx(e.value,e.length);break;case Sx:return pl([Yu(e,{value:Pe(e.value,"@","@"+Re)})],i);case fE:if(e.length)return W5(e.props,function(s){switch(z5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pl([Yu(e,{props:[Pe(s,/:(read-\w+)/,":"+rm+"$1")]})],i);case"::placeholder":return pl([Yu(e,{props:[Pe(s,/:(plac\w+)/,":"+Re+"input-$1")]}),Yu(e,{props:[Pe(s,/:(plac\w+)/,":"+rm+"$1")]}),Yu(e,{props:[Pe(s,/:(plac\w+)/,Jt+"input-$1")]})],i)}return""})}},l3=[a3],u3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var T=v.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||l3,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var T=v.getAttribute("data-emotion").split(" "),I=1;I<T.length;I++)s[T[I]]=!0;a.push(v)});var l,u=[s3,o3];{var d,h=[Z5,t3(function(v){d.insert(v)})],f=e3(u.concat(i,h)),m=function(T){return pl(J5(T),f)};l=function(T,I,w,E){d=w,m(T?T+"{"+I.styles+"}":I.styles),E&&(g.inserted[I.name]=!0)}}var g={key:n,sheet:new M5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},c3=!0;function d3(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var kx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||c3===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},h3=function(e,n,r){kx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function f3(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var p3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},m3=!1,g3=/[A-Z]|^ms/g,y3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xx=function(e){return e.charCodeAt(1)===45},rb=function(e){return e!=null&&typeof e!="boolean"},__=Ix(function(t){return xx(t)?t:t.replace(g3,"-$&").toLowerCase()}),ib=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(y3,function(r,i,s){return zr={name:i,styles:s,next:zr},i})}return p3[e]!==1&&!xx(e)&&typeof n=="number"&&n!==0?n+"px":n},_3="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ed(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return zr={name:i.name,styles:i.styles,next:zr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)zr={name:o.name,styles:o.styles,next:zr},o=o.next;var a=s.styles+";";return a}return v3(t,e,n)}case"function":{if(t!==void 0){var l=zr,u=n(t);return zr=l,Ed(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function v3(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":rb(a)&&(r+=__(s)+":"+ib(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&m3)throw new Error(_3);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)rb(o[l])&&(r+=__(s)+":"+ib(s,o[l])+";");else{var u=Ed(t,e,o);switch(s){case"animation":case"animationName":{r+=__(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var sb=/label:\s*([^\s;{]+)\s*(;|$)/g,zr;function Ox(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";zr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ed(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ed(n,e,t[a]),r){var l=s;i+=l[a]}sb.lastIndex=0;for(var u="",d;(d=sb.exec(i))!==null;)u+="-"+d[1];var h=f3(i)+u;return{name:h,styles:i,next:zr}}var w3=function(e){return e()},E3=q_.useInsertionEffect?q_.useInsertionEffect:!1,I3=E3||w3,Nx=L.createContext(typeof HTMLElement<"u"?u3({key:"css"}):null);Nx.Provider;var T3=function(e){return L.forwardRef(function(n,r){var i=L.useContext(Nx);return e(n,i,r)})},S3=L.createContext({}),b3=N5,A3=function(e){return e!=="theme"},ob=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?b3:A3},ab=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},R3=!1,P3=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return kx(n,r,i),I3(function(){return h3(n,r,i)}),null},C3=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=ab(e,n,r),l=a||ob(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var g=T3(function(v,T,I){var w=u&&v.as||i,E="",C=[],x=v;if(v.theme==null){x={};for(var D in v)x[D]=v[D];x.theme=L.useContext(S3)}typeof v.className=="string"?E=d3(T.registered,C,v.className):v.className!=null&&(E=v.className+" ");var b=Ox(h.concat(C),T.registered,x);E+=T.key+"-"+b.name,o!==void 0&&(E+=" "+o);var S=u&&a===void 0?ob(w):l,R={};for(var y in v)u&&y==="as"||S(y)&&(R[y]=v[y]);return R.className=E,I&&(R.ref=I),L.createElement(L.Fragment,null,L.createElement(P3,{cache:T,serialized:b,isStringTag:typeof w=="string"}),L.createElement(w,R))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return o===void 0&&R3?"NO_COMPONENT_SELECTOR":"."+o}}),g.withComponent=function(v,T){return t(v,Qv({},n,T,{shouldForwardProp:ab(g,T,!0)})).apply(void 0,h)},g}},k3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xv=C3.bind();k3.forEach(function(t){Xv[t]=Xv(t)});/**
 * @mui/styled-engine v6.1.10
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function x3(t,e){return Xv(t,e)}function O3(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const lb=[];function ub(t){return lb[0]=t,Ox(lb)}function bi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Dx(t){if(L.isValidElement(t)||!bi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Dx(t[n])}),e}function zn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return bi(t)&&bi(e)&&Object.keys(e).forEach(i=>{L.isValidElement(e[i])?r[i]=e[i]:bi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&bi(t[i])?r[i]=zn(t[i],e[i],n):n.clone?r[i]=bi(e[i])?Dx(e[i]):e[i]:r[i]=e[i]}),r}const N3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function D3(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=N3(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n,...i}}function L3(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function V3(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function M3(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function F3(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const U3={borderRadius:4};function Vc(t,e){return e?zn(t,e,{clone:!1}):t}const _g={xs:0,sm:600,md:900,lg:1200,xl:1536},cb={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${_g[t]}px)`},$3={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:_g[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ji(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||cb;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||cb;return Object.keys(e).reduce((o,a)=>{if(V3(s.keys,a)){const l=M3(r.containerQueries?r:$3,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||_g).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function j3(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function B3(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Bs(t){if(typeof t!="string")throw new Error(Zo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function vg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function im(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=vg(t,n)||r,e&&(i=e(i,r,t)),i}function pt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=vg(l,r)||{};return ji(o,a,h=>{let f=im(u,i,h);return h===f&&typeof h=="string"&&(f=im(u,i,`${e}${h==="default"?"":Bs(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function z3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const W3={m:"margin",p:"padding"},q3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},db={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},H3=z3(t=>{if(t.length>2)if(db[t])t=db[t];else return[t];const[e,n]=t.split(""),r=W3[e],i=q3[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),gE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],yE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...gE,...yE];function uh(t,e,n,r){const i=vg(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function _E(t){return uh(t,"spacing",8)}function ch(t,e){return typeof e=="string"||e==null?e:t(e)}function K3(t,e){return n=>t.reduce((r,i)=>(r[i]=ch(e,n),r),{})}function G3(t,e,n,r){if(!e.includes(n))return null;const i=H3(n),s=K3(i,r),o=t[n];return ji(t,o,s)}function Lx(t,e){const n=_E(t.theme);return Object.keys(t).map(r=>G3(t,e,r,n)).reduce(Vc,{})}function it(t){return Lx(t,gE)}it.propTypes={};it.filterProps=gE;function st(t){return Lx(t,yE)}st.propTypes={};st.filterProps=yE;function Vx(t=8,e=_E({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function wg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Vc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Zn(t){return typeof t!="number"?t:`${t}px solid`}function cr(t,e){return pt({prop:t,themeKey:"borders",transform:e})}const Q3=cr("border",Zn),Y3=cr("borderTop",Zn),J3=cr("borderRight",Zn),X3=cr("borderBottom",Zn),Z3=cr("borderLeft",Zn),e6=cr("borderColor"),t6=cr("borderTopColor"),n6=cr("borderRightColor"),r6=cr("borderBottomColor"),i6=cr("borderLeftColor"),s6=cr("outline",Zn),o6=cr("outlineColor"),Eg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=uh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ch(e,r)});return ji(t,t.borderRadius,n)}return null};Eg.propTypes={};Eg.filterProps=["borderRadius"];wg(Q3,Y3,J3,X3,Z3,e6,t6,n6,r6,i6,Eg,s6,o6);const Ig=t=>{if(t.gap!==void 0&&t.gap!==null){const e=uh(t.theme,"spacing",8),n=r=>({gap:ch(e,r)});return ji(t,t.gap,n)}return null};Ig.propTypes={};Ig.filterProps=["gap"];const Tg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=uh(t.theme,"spacing",8),n=r=>({columnGap:ch(e,r)});return ji(t,t.columnGap,n)}return null};Tg.propTypes={};Tg.filterProps=["columnGap"];const Sg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=uh(t.theme,"spacing",8),n=r=>({rowGap:ch(e,r)});return ji(t,t.rowGap,n)}return null};Sg.propTypes={};Sg.filterProps=["rowGap"];const a6=pt({prop:"gridColumn"}),l6=pt({prop:"gridRow"}),u6=pt({prop:"gridAutoFlow"}),c6=pt({prop:"gridAutoColumns"}),d6=pt({prop:"gridAutoRows"}),h6=pt({prop:"gridTemplateColumns"}),f6=pt({prop:"gridTemplateRows"}),p6=pt({prop:"gridTemplateAreas"}),m6=pt({prop:"gridArea"});wg(Ig,Tg,Sg,a6,l6,u6,c6,d6,h6,f6,p6,m6);function ml(t,e){return e==="grey"?e:t}const g6=pt({prop:"color",themeKey:"palette",transform:ml}),y6=pt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ml}),_6=pt({prop:"backgroundColor",themeKey:"palette",transform:ml});wg(g6,y6,_6);function Fn(t){return t<=1&&t!==0?`${t*100}%`:t}const v6=pt({prop:"width",transform:Fn}),vE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||_g[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Fn(n)}};return ji(t,t.maxWidth,e)}return null};vE.filterProps=["maxWidth"];const w6=pt({prop:"minWidth",transform:Fn}),E6=pt({prop:"height",transform:Fn}),I6=pt({prop:"maxHeight",transform:Fn}),T6=pt({prop:"minHeight",transform:Fn});pt({prop:"size",cssProperty:"width",transform:Fn});pt({prop:"size",cssProperty:"height",transform:Fn});const S6=pt({prop:"boxSizing"});wg(v6,vE,w6,E6,I6,T6,S6);const bg={border:{themeKey:"borders",transform:Zn},borderTop:{themeKey:"borders",transform:Zn},borderRight:{themeKey:"borders",transform:Zn},borderBottom:{themeKey:"borders",transform:Zn},borderLeft:{themeKey:"borders",transform:Zn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Eg},color:{themeKey:"palette",transform:ml},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ml},backgroundColor:{themeKey:"palette",transform:ml},p:{style:st},pt:{style:st},pr:{style:st},pb:{style:st},pl:{style:st},px:{style:st},py:{style:st},padding:{style:st},paddingTop:{style:st},paddingRight:{style:st},paddingBottom:{style:st},paddingLeft:{style:st},paddingX:{style:st},paddingY:{style:st},paddingInline:{style:st},paddingInlineStart:{style:st},paddingInlineEnd:{style:st},paddingBlock:{style:st},paddingBlockStart:{style:st},paddingBlockEnd:{style:st},m:{style:it},mt:{style:it},mr:{style:it},mb:{style:it},ml:{style:it},mx:{style:it},my:{style:it},margin:{style:it},marginTop:{style:it},marginRight:{style:it},marginBottom:{style:it},marginLeft:{style:it},marginX:{style:it},marginY:{style:it},marginInline:{style:it},marginInlineStart:{style:it},marginInlineEnd:{style:it},marginBlock:{style:it},marginBlockStart:{style:it},marginBlockEnd:{style:it},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ig},rowGap:{style:Sg},columnGap:{style:Tg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fn},maxWidth:{style:vE},minWidth:{transform:Fn},height:{transform:Fn},maxHeight:{transform:Fn},minHeight:{transform:Fn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function b6(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function A6(t,e){return typeof t=="function"?t(e):t}function R6(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=vg(i,u)||{};return h?h(o):ji(o,r,g=>{let v=im(f,d,g);return g===v&&typeof g=="string"&&(v=im(f,d,`${n}${g==="default"?"":Bs(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??bg;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=j3(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const m=A6(l[f],i);if(m!=null)if(typeof m=="object")if(s[f])h=Vc(h,t(f,m,i,s));else{const g=ji({theme:i},m,v=>({[f]:v}));b6(g,m)?h[f]=e({sx:m,theme:i}):h=Vc(h,g)}else h=Vc(h,t(f,m,i,s))}),L3(i,B3(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const Ol=R6();Ol.filterProps=["sx"];function P6(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Mx(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=D3(n),l=Vx(i);let u=zn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...U3,...s}},o);return u=F3(u),u.applyStyles=P6,u=e.reduce((d,h)=>zn(d,h),u),u.unstable_sxConfig={...bg,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return Ol({sx:h,theme:this})},u}const hb=t=>t,C6=()=>{let t=hb;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hb}}},k6=C6();function Fx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Fx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Fx(t))&&(r&&(r+=" "),r+=e);return r}const x6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wE(t,e,n="Mui"){const r=x6[e];return r?`${n}-${r}`:`${k6.generate(t)}-${e}`}function Ux(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=wE(t,i,n)}),r}function $x(t){const{variants:e,...n}=t,r={variants:e,style:ub(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=ub(i.style))}),r}const O6=Mx();function v_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function N6(t){return t?(e,n)=>n[t]:null}function D6(t,e,n){t.theme=M6(t.theme)?n:t.theme[e]||t.theme}function op(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>op(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return jx(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function jx(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function L6(t={}){const{themeId:e,defaultTheme:n=O6,rootShouldForwardProp:r=v_,slotShouldForwardProp:i=v_}=t;function s(a){D6(a,e,n)}return(a,l={})=>{O3(a,x=>x.filter(D=>D!==Ol));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:m=N6(U6(d)),...g}=l,v=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,T=f||!1;let I=v_;d==="Root"||d==="root"?I=r:d?I=i:F6(a)&&(I=void 0);const w=x3(a,{shouldForwardProp:I,label:V6(),...g}),E=x=>{if(typeof x=="function"&&x.__emotion_real!==x)return function(b){return op(b,x)};if(bi(x)){const D=$x(x);return D.variants?function(S){return op(S,D)}:D.style}return x},C=(...x)=>{const D=[],b=x.map(E),S=[];if(D.push(s),u&&m&&S.push(function(N){var Ae,ce;const ee=(ce=(Ae=N.theme.components)==null?void 0:Ae[u])==null?void 0:ce.styleOverrides;if(!ee)return null;const Ce={};for(const H in ee)Ce[H]=op(N,ee[H]);return m(N,Ce)}),u&&!v&&S.push(function(N){var Ce,Ae;const P=N.theme,ee=(Ae=(Ce=P==null?void 0:P.components)==null?void 0:Ce[u])==null?void 0:Ae.variants;return ee?jx(N,ee):null}),T||S.push(Ol),Array.isArray(b[0])){const k=b.shift(),N=new Array(D.length).fill(""),P=new Array(S.length).fill("");let ee;ee=[...N,...k,...P],ee.raw=[...N,...k.raw,...P],D.unshift(ee)}const R=[...D,...b,...S],y=w(...R);return a.muiName&&(y.muiName=a.muiName),y};return w.withConfig&&(C.withConfig=w.withConfig),C}}function V6(t,e){return void 0}function M6(t){for(const e in t)return!1;return!0}function F6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function U6(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Zv(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Zv(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Bx(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function EE(t,e=0,n=1){return Bx(t,e,n)}function $6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function zs(t){if(t.type)return t;if(t.charAt(0)==="#")return zs($6(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Zo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Zo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const j6=t=>{const e=zs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},pc=(t,e)=>{try{return j6(t)}catch{return t}};function Ag(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function zx(t){t=zs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Ag({type:a,values:l})}function ew(t){t=zs(t);let e=t.type==="hsl"||t.type==="hsla"?zs(zx(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function B6(t,e){const n=ew(t),r=ew(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function z6(t,e){return t=zs(t),e=EE(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ag(t)}function Af(t,e,n){try{return z6(t,e)}catch{return t}}function IE(t,e){if(t=zs(t),e=EE(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ag(t)}function Ve(t,e,n){try{return IE(t,e)}catch{return t}}function TE(t,e){if(t=zs(t),e=EE(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ag(t)}function Me(t,e,n){try{return TE(t,e)}catch{return t}}function W6(t,e=.15){return ew(t)>.5?IE(t,e):TE(t,e)}function Rf(t,e,n){try{return W6(t,e)}catch{return t}}function q6(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let fb=0;function H6(t){const[e,n]=L.useState(t),r=t||e;return L.useEffect(()=>{e==null&&(fb+=1,n(`mui-${fb}`))},[e]),r}const K6={...q_},pb=K6.useId;function Wx(t){if(pb!==void 0){const e=pb();return t??e}return H6(t)}function G6({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=L.useRef(t!==void 0),[s,o]=L.useState(e),a=i?t:s,l=L.useCallback(u=>{i||o(u)},[]);return[a,l]}function Q6(...t){return L.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{q6(n,e)})},t)}function mb(t){try{return t.matches(":focus-visible")}catch{}return!1}const Y6={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function qx(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}const J6=L.createContext(),X6=()=>L.useContext(J6)??!1,Z6=L.createContext(void 0);function eB(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Zv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Zv(i,r):r}function tB({props:t,name:e}){const n=L.useContext(Z6);return eB({props:t,name:e,theme:{components:n}})}const gb={theme:void 0};function nB(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(gb.theme=i.theme,s=$x(t(gb)),e=s,n=i.theme),s}}function rB(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const yb=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},iB=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},sB=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function w_(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return iB(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=sB(a,l);Object.assign(i,{[d]:h}),yb(s,a,`var(${d})`,u),yb(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function oB(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:d,varsWithDefaults:h}=w_(l,e);let f=h;const m={},{[a]:g,...v}=s;if(Object.entries(v||{}).forEach(([E,C])=>{const{vars:x,css:D,varsWithDefaults:b}=w_(C,e);f=zn(f,b),m[E]={css:D,vars:x}}),g){const{css:E,vars:C,varsWithDefaults:x}=w_(g,e);f=zn(f,x),m[a]={css:E,vars:C}}function T(E,C){var D,b;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),E){if(x==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((b=(D=s[E])==null?void 0:D.palette)==null?void 0:b.mode)||E})`]:{":root":C}};if(x)return t.defaultColorScheme===E?`:root, ${x.replace("%s",String(E))}`:x.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...u};return Object.entries(m).forEach(([,{vars:C}])=>{E=zn(E,C)}),E},generateStyleSheets:()=>{var S,R;const E=[],C=t.defaultColorScheme||"light";function x(y,k){Object.keys(k).length&&E.push(typeof y=="string"?{[y]:{...k}}:y)}x(n(void 0,{...d}),d);const{[C]:D,...b}=m;if(D){const{css:y}=D,k=(R=(S=s[C])==null?void 0:S.palette)==null?void 0:R.mode,N=!r&&k?{colorScheme:k,...y}:{...y};x(n(C,{...N}),N)}return Object.entries(b).forEach(([y,{css:k}])=>{var ee,Ce;const N=(Ce=(ee=s[y])==null?void 0:ee.palette)==null?void 0:Ce.mode,P=!r&&N?{colorScheme:N,...k}:{...k};x(n(y,{...P}),P)}),E}}}function aB(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Hx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_d.white,default:_d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const lB=Hx();function Kx(){return{text:{primary:_d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const _b=Kx();function vb(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=TE(t.main,i):e==="dark"&&(t.dark=IE(t.main,s)))}function uB(t="light"){return t==="dark"?{main:Ca[200],light:Ca[50],dark:Ca[400]}:{main:Ca[700],light:Ca[400],dark:Ca[800]}}function cB(t="light"){return t==="dark"?{main:Pa[200],light:Pa[50],dark:Pa[400]}:{main:Pa[500],light:Pa[300],dark:Pa[700]}}function dB(t="light"){return t==="dark"?{main:Ra[500],light:Ra[300],dark:Ra[700]}:{main:Ra[700],light:Ra[400],dark:Ra[800]}}function hB(t="light"){return t==="dark"?{main:ka[400],light:ka[300],dark:ka[700]}:{main:ka[700],light:ka[500],dark:ka[900]}}function fB(t="light"){return t==="dark"?{main:xa[400],light:xa[300],dark:xa[700]}:{main:xa[800],light:xa[500],dark:xa[900]}}function pB(t="light"){return t==="dark"?{main:Qu[400],light:Qu[300],dark:Qu[700]}:{main:"#ed6c02",light:Qu[500],dark:Qu[900]}}function SE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||uB(e),o=t.secondary||cB(e),a=t.error||dB(e),l=t.info||hB(e),u=t.success||fB(e),d=t.warning||pB(e);function h(v){return B6(v,_b.text.primary)>=n?_b.text.primary:lB.text.primary}const f=({color:v,name:T,mainShade:I=500,lightShade:w=300,darkShade:E=700})=>{if(v={...v},!v.main&&v[I]&&(v.main=v[I]),!v.hasOwnProperty("main"))throw new Error(Zo(11,T?` (${T})`:"",I));if(typeof v.main!="string")throw new Error(Zo(12,T?` (${T})`:"",JSON.stringify(v.main)));return vb(v,"light",w,r),vb(v,"dark",E,r),v.contrastText||(v.contrastText=h(v.main)),v};let m;return e==="light"?m=Hx():e==="dark"&&(m=Kx()),zn({common:{..._d},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:k5,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...m},i)}function mB(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function gB(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function yB(t){return Math.round(t*1e5)/1e5}const wb={textTransform:"uppercase"},Eb='"Roboto", "Helvetica", "Arial", sans-serif';function _B(t,e){const{fontFamily:n=Eb,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,m=d||(T=>`${T/l*f}rem`),g=(T,I,w,E,C)=>({fontFamily:n,fontWeight:T,fontSize:m(I),lineHeight:w,...n===Eb?{letterSpacing:`${yB(E/I)}em`}:{},...C,...u}),v={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(o,14,1.75,.4,wb),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,wb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zn({htmlFontSize:l,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...v},h,{clone:!1})}const vB=.2,wB=.14,EB=.12;function He(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${vB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${EB})`].join(",")}const IB=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)],TB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},SB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ib(t){return`${Math.round(t)}ms`}function bB(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function AB(t){const e={...TB,...t.easing},n={...SB,...t.duration};return{getAutoHeightDuration:bB,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:Ib(o)} ${a} ${typeof l=="string"?l:Ib(l)}`).join(",")},...t,easing:e,duration:n}}const RB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function PB(t){return bi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Gx(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!PB(a)||o.startsWith("unstable_")?delete r[o]:bi(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function tw(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(Zo(20));const d=SE(s),h=Mx(t);let f=zn(h,{mixins:gB(h.breakpoints,r),palette:d,shadows:IB.slice(),typography:_B(d,a),transitions:AB(o),zIndex:{...RB}});return f=zn(f,u),f=e.reduce((m,g)=>zn(m,g),f),f.unstable_sxConfig={...bg,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(g){return Ol({sx:g,theme:this})},f.toRuntimeSource=Gx,f}function CB(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const kB=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=CB(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Qx(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Yx(t){return t==="dark"?kB:[]}function xB(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=SE(e);return{palette:s,opacity:{...Qx(s.mode),...n},overlays:r||Yx(s.mode),...i}}function OB(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const NB=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],DB=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return NB(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function LB(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function j(t,e,n){!t[e]&&n&&(t[e]=n)}function mc(t){return!t||!t.startsWith("hsl")?t:zx(t)}function vi(t,e){`${e}Channel`in t||(t[`${e}Channel`]=pc(mc(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function VB(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ur=t=>{try{return t()}catch{}},MB=(t="mui")=>rB(t);function E_(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=xB({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=tw({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...Qx(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Yx(i)},o}function FB(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=OB,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=MB(s),{[h]:m,light:g,dark:v,...T}=n,I={...T};let w=m;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(Zo(21,h));const E=E_(I,w,u,h);g&&!I.light&&E_(I,g,void 0,"light"),v&&!I.dark&&E_(I,v,void 0,"dark");let C={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:I,font:{...mB(E.typography),...E.font},spacing:VB(u.spacing)};Object.keys(C.colorSchemes).forEach(R=>{const y=C.colorSchemes[R].palette,k=N=>{const P=N.split("-"),ee=P[1],Ce=P[2];return f(N,y[ee][Ce])};if(y.mode==="light"&&(j(y.common,"background","#fff"),j(y.common,"onBackground","#000")),y.mode==="dark"&&(j(y.common,"background","#000"),j(y.common,"onBackground","#fff")),LB(y,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),y.mode==="light"){j(y.Alert,"errorColor",Ve(y.error.light,.6)),j(y.Alert,"infoColor",Ve(y.info.light,.6)),j(y.Alert,"successColor",Ve(y.success.light,.6)),j(y.Alert,"warningColor",Ve(y.warning.light,.6)),j(y.Alert,"errorFilledBg",k("palette-error-main")),j(y.Alert,"infoFilledBg",k("palette-info-main")),j(y.Alert,"successFilledBg",k("palette-success-main")),j(y.Alert,"warningFilledBg",k("palette-warning-main")),j(y.Alert,"errorFilledColor",Ur(()=>y.getContrastText(y.error.main))),j(y.Alert,"infoFilledColor",Ur(()=>y.getContrastText(y.info.main))),j(y.Alert,"successFilledColor",Ur(()=>y.getContrastText(y.success.main))),j(y.Alert,"warningFilledColor",Ur(()=>y.getContrastText(y.warning.main))),j(y.Alert,"errorStandardBg",Me(y.error.light,.9)),j(y.Alert,"infoStandardBg",Me(y.info.light,.9)),j(y.Alert,"successStandardBg",Me(y.success.light,.9)),j(y.Alert,"warningStandardBg",Me(y.warning.light,.9)),j(y.Alert,"errorIconColor",k("palette-error-main")),j(y.Alert,"infoIconColor",k("palette-info-main")),j(y.Alert,"successIconColor",k("palette-success-main")),j(y.Alert,"warningIconColor",k("palette-warning-main")),j(y.AppBar,"defaultBg",k("palette-grey-100")),j(y.Avatar,"defaultBg",k("palette-grey-400")),j(y.Button,"inheritContainedBg",k("palette-grey-300")),j(y.Button,"inheritContainedHoverBg",k("palette-grey-A100")),j(y.Chip,"defaultBorder",k("palette-grey-400")),j(y.Chip,"defaultAvatarColor",k("palette-grey-700")),j(y.Chip,"defaultIconColor",k("palette-grey-700")),j(y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),j(y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),j(y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),j(y.LinearProgress,"primaryBg",Me(y.primary.main,.62)),j(y.LinearProgress,"secondaryBg",Me(y.secondary.main,.62)),j(y.LinearProgress,"errorBg",Me(y.error.main,.62)),j(y.LinearProgress,"infoBg",Me(y.info.main,.62)),j(y.LinearProgress,"successBg",Me(y.success.main,.62)),j(y.LinearProgress,"warningBg",Me(y.warning.main,.62)),j(y.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),j(y.Slider,"primaryTrack",Me(y.primary.main,.62)),j(y.Slider,"secondaryTrack",Me(y.secondary.main,.62)),j(y.Slider,"errorTrack",Me(y.error.main,.62)),j(y.Slider,"infoTrack",Me(y.info.main,.62)),j(y.Slider,"successTrack",Me(y.success.main,.62)),j(y.Slider,"warningTrack",Me(y.warning.main,.62));const N=Rf(y.background.default,.8);j(y.SnackbarContent,"bg",N),j(y.SnackbarContent,"color",Ur(()=>y.getContrastText(N))),j(y.SpeedDialAction,"fabHoverBg",Rf(y.background.paper,.15)),j(y.StepConnector,"border",k("palette-grey-400")),j(y.StepContent,"border",k("palette-grey-400")),j(y.Switch,"defaultColor",k("palette-common-white")),j(y.Switch,"defaultDisabledColor",k("palette-grey-100")),j(y.Switch,"primaryDisabledColor",Me(y.primary.main,.62)),j(y.Switch,"secondaryDisabledColor",Me(y.secondary.main,.62)),j(y.Switch,"errorDisabledColor",Me(y.error.main,.62)),j(y.Switch,"infoDisabledColor",Me(y.info.main,.62)),j(y.Switch,"successDisabledColor",Me(y.success.main,.62)),j(y.Switch,"warningDisabledColor",Me(y.warning.main,.62)),j(y.TableCell,"border",Me(Af(y.divider,1),.88)),j(y.Tooltip,"bg",Af(y.grey[700],.92))}if(y.mode==="dark"){j(y.Alert,"errorColor",Me(y.error.light,.6)),j(y.Alert,"infoColor",Me(y.info.light,.6)),j(y.Alert,"successColor",Me(y.success.light,.6)),j(y.Alert,"warningColor",Me(y.warning.light,.6)),j(y.Alert,"errorFilledBg",k("palette-error-dark")),j(y.Alert,"infoFilledBg",k("palette-info-dark")),j(y.Alert,"successFilledBg",k("palette-success-dark")),j(y.Alert,"warningFilledBg",k("palette-warning-dark")),j(y.Alert,"errorFilledColor",Ur(()=>y.getContrastText(y.error.dark))),j(y.Alert,"infoFilledColor",Ur(()=>y.getContrastText(y.info.dark))),j(y.Alert,"successFilledColor",Ur(()=>y.getContrastText(y.success.dark))),j(y.Alert,"warningFilledColor",Ur(()=>y.getContrastText(y.warning.dark))),j(y.Alert,"errorStandardBg",Ve(y.error.light,.9)),j(y.Alert,"infoStandardBg",Ve(y.info.light,.9)),j(y.Alert,"successStandardBg",Ve(y.success.light,.9)),j(y.Alert,"warningStandardBg",Ve(y.warning.light,.9)),j(y.Alert,"errorIconColor",k("palette-error-main")),j(y.Alert,"infoIconColor",k("palette-info-main")),j(y.Alert,"successIconColor",k("palette-success-main")),j(y.Alert,"warningIconColor",k("palette-warning-main")),j(y.AppBar,"defaultBg",k("palette-grey-900")),j(y.AppBar,"darkBg",k("palette-background-paper")),j(y.AppBar,"darkColor",k("palette-text-primary")),j(y.Avatar,"defaultBg",k("palette-grey-600")),j(y.Button,"inheritContainedBg",k("palette-grey-800")),j(y.Button,"inheritContainedHoverBg",k("palette-grey-700")),j(y.Chip,"defaultBorder",k("palette-grey-700")),j(y.Chip,"defaultAvatarColor",k("palette-grey-300")),j(y.Chip,"defaultIconColor",k("palette-grey-300")),j(y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),j(y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),j(y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),j(y.LinearProgress,"primaryBg",Ve(y.primary.main,.5)),j(y.LinearProgress,"secondaryBg",Ve(y.secondary.main,.5)),j(y.LinearProgress,"errorBg",Ve(y.error.main,.5)),j(y.LinearProgress,"infoBg",Ve(y.info.main,.5)),j(y.LinearProgress,"successBg",Ve(y.success.main,.5)),j(y.LinearProgress,"warningBg",Ve(y.warning.main,.5)),j(y.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),j(y.Slider,"primaryTrack",Ve(y.primary.main,.5)),j(y.Slider,"secondaryTrack",Ve(y.secondary.main,.5)),j(y.Slider,"errorTrack",Ve(y.error.main,.5)),j(y.Slider,"infoTrack",Ve(y.info.main,.5)),j(y.Slider,"successTrack",Ve(y.success.main,.5)),j(y.Slider,"warningTrack",Ve(y.warning.main,.5));const N=Rf(y.background.default,.98);j(y.SnackbarContent,"bg",N),j(y.SnackbarContent,"color",Ur(()=>y.getContrastText(N))),j(y.SpeedDialAction,"fabHoverBg",Rf(y.background.paper,.15)),j(y.StepConnector,"border",k("palette-grey-600")),j(y.StepContent,"border",k("palette-grey-600")),j(y.Switch,"defaultColor",k("palette-grey-300")),j(y.Switch,"defaultDisabledColor",k("palette-grey-600")),j(y.Switch,"primaryDisabledColor",Ve(y.primary.main,.55)),j(y.Switch,"secondaryDisabledColor",Ve(y.secondary.main,.55)),j(y.Switch,"errorDisabledColor",Ve(y.error.main,.55)),j(y.Switch,"infoDisabledColor",Ve(y.info.main,.55)),j(y.Switch,"successDisabledColor",Ve(y.success.main,.55)),j(y.Switch,"warningDisabledColor",Ve(y.warning.main,.55)),j(y.TableCell,"border",Ve(Af(y.divider,1),.68)),j(y.Tooltip,"bg",Af(y.grey[700],.92))}vi(y.background,"default"),vi(y.background,"paper"),vi(y.common,"background"),vi(y.common,"onBackground"),vi(y,"divider"),Object.keys(y).forEach(N=>{const P=y[N];P&&typeof P=="object"&&(P.main&&j(y[N],"mainChannel",pc(mc(P.main))),P.light&&j(y[N],"lightChannel",pc(mc(P.light))),P.dark&&j(y[N],"darkChannel",pc(mc(P.dark))),P.contrastText&&j(y[N],"contrastTextChannel",pc(mc(P.contrastText))),N==="text"&&(vi(y[N],"primary"),vi(y[N],"secondary")),N==="action"&&(P.active&&vi(y[N],"active"),P.selected&&vi(y[N],"selected")))})}),C=e.reduce((R,y)=>zn(R,y),C);const x={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:DB(C)},{vars:D,generateThemeVars:b,generateStyleSheets:S}=oB(C,x);return C.vars=D,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([R,y])=>{C[R]=y}),C.generateThemeVars=b,C.generateStyleSheets=S,C.generateSpacing=function(){return Vx(u.spacing,_E(this))},C.getColorSchemeSelector=aB(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=o,C.unstable_sxConfig={...bg,...u==null?void 0:u.unstable_sxConfig},C.unstable_sx=function(y){return Ol({sx:y,theme:this})},C.toRuntimeSource=Gx,C}function Tb(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:SE({...n===!0?{}:n.palette,mode:e})})}function UB(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return tw(t,...e);let d=n;"palette"in t||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=tw({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},Tb(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},Tb(h,"light",u.light)),h}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),FB({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const $B=UB();function Jx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jB=t=>Jx(t)&&t!=="classes",dh=L6({themeId:x5,defaultTheme:$B,rootShouldForwardProp:jB}),bE=nB;function Xx(t){return tB(t)}function BB(t){return wE("MuiSvgIcon",t)}Ux("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zB=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Bs(e)}`,`fontSize${Bs(n)}`]};return qx(i,BB,r)},WB=dh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Bs(n.color)}`],e[`fontSize${Bs(n.fontSize)}`]]}})(bE(({theme:t})=>{var e,n,r,i,s,o,a,l,u,d,h,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,v])=>v&&v.main).map(([v])=>{var T,I;return{props:{color:v},style:{color:(I=(T=(t.vars??t).palette)==null?void 0:T[v])==null?void 0:I.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(g=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),sm=L.forwardRef(function(e,n){const r=Xx({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...m}=r,g=L.isValidElement(i)&&i.type==="svg",v={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:g},T={};d||(T.viewBox=f);const I=zB(v);return O.jsxs(WB,{as:a,className:Mc(I.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...T,...m,...g&&i.props,ownerState:v,children:[g?i.props.children:i,h?O.jsx("title",{children:h}):null]})});sm&&(sm.muiName="SvgIcon");function Zx(t,e){function n(r,i){return O.jsx(sm,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=sm.muiName,L.memo(L.forwardRef(n))}const qB=Zx(O.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),HB=Zx(O.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function KB(t){return wE("MuiRating",t)}const Ju=Ux("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function GB(t){const e=t.toString().split(".")[1];return e?e.length:0}function I_(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(GB(e)))}const QB=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${Bs(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return qx(a,KB,e)},YB=dh("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ju.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Bs(n.size)}`],n.readOnly&&e.readOnly]}})(bE(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Ju.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ju.focusVisible} .${Ju.iconActive}`]:{outline:"1px solid #999"},[`& .${Ju.visuallyHidden}`]:Y6,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),eO=dh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),JB=dh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(bE(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),XB=dh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Jx(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function ZB(t){const{value:e,...n}=t;return O.jsx("span",{...n})}function Sb(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:m,onBlur:g,onChange:v,onClick:T,onFocus:I,readOnly:w,ownerState:E,ratingValue:C,ratingValueRounded:x}=t,D=o?h===C:h<=C,b=h<=a,S=h<=i,R=h===x,y=`${m}-${Wx()}`,k=O.jsx(JB,{as:u,value:h,className:Mc(e.icon,D?e.iconFilled:e.iconEmpty,b&&e.iconHover,S&&e.iconFocus,d&&e.iconActive),ownerState:{...E,iconEmpty:!D,iconFilled:D,iconHover:b,iconFocus:S,iconActive:d},children:r&&!D?r:l});return w?O.jsx("span",{...f,children:k}):O.jsxs(L.Fragment,{children:[O.jsxs(eO,{ownerState:{...E,emptyValueFocused:void 0},htmlFor:y,...f,children:[k,O.jsx("span",{className:e.visuallyHidden,children:s(h)})]}),O.jsx("input",{className:e.visuallyHidden,onFocus:I,onBlur:g,onChange:v,onClick:T,disabled:n,value:h,id:y,type:"radio",name:m,checked:R})]})}const e9=O.jsx(qB,{fontSize:"inherit"}),t9=O.jsx(HB,{fontSize:"inherit"});function n9(t){return`${t||"0"} Star${t!==1?"s":""}`}const r9=L.forwardRef(function(e,n){const r=Xx({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:o=null,disabled:a=!1,emptyIcon:l=t9,emptyLabelText:u="Empty",getLabelText:d=n9,highlightSelectedOnly:h=!1,icon:f=e9,IconContainerComponent:m=ZB,max:g=5,name:v,onChange:T,onChangeActive:I,onMouseLeave:w,onMouseMove:E,precision:C=1,readOnly:x=!1,size:D="medium",value:b,...S}=r,R=Wx(v),[y,k]=G6({controlled:b,default:o,name:"Rating"}),N=I_(y,C),P=X6(),[{hover:ee,focus:Ce},Ae]=L.useState({hover:-1,focus:-1});let ce=N;ee!==-1&&(ce=ee),Ce!==-1&&(ce=Ce);const[H,Z]=L.useState(!1),re=L.useRef(),pe=Q6(re,n),de=Fe=>{E&&E(Fe);const _t=re.current,{right:an,left:ns,width:gi}=_t.getBoundingClientRect();let rs;P?rs=(an-Fe.clientX)/gi:rs=(Fe.clientX-ns)/gi;let fr=I_(g*rs+C/2,C);fr=Bx(fr,C,g),Ae(Vr=>Vr.hover===fr&&Vr.focus===fr?Vr:{hover:fr,focus:fr}),Z(!1),I&&ee!==fr&&I(Fe,fr)},ae=Fe=>{w&&w(Fe);const _t=-1;Ae({hover:_t,focus:_t}),I&&ee!==_t&&I(Fe,_t)},yt=Fe=>{let _t=Fe.target.value===""?null:parseFloat(Fe.target.value);ee!==-1&&(_t=ee),k(_t),T&&T(Fe,_t)},Lt=Fe=>{Fe.clientX===0&&Fe.clientY===0||(Ae({hover:-1,focus:-1}),k(null),T&&parseFloat(Fe.target.value)===N&&T(Fe,null))},dr=Fe=>{mb(Fe.target)&&Z(!0);const _t=parseFloat(Fe.target.value);Ae(an=>({hover:an.hover,focus:_t}))},hr=Fe=>{if(ee!==-1)return;mb(Fe.target)||Z(!1);const _t=-1;Ae(an=>({hover:an.hover,focus:_t}))},[Ey,Uh]=L.useState(!1),Lr={...r,component:i,defaultValue:o,disabled:a,emptyIcon:l,emptyLabelText:u,emptyValueFocused:Ey,focusVisible:H,getLabelText:d,icon:f,IconContainerComponent:m,max:g,precision:C,readOnly:x,size:D},On=QB(Lr);return O.jsxs(YB,{as:i,ref:pe,onMouseMove:de,onMouseLeave:ae,className:Mc(On.root,s,x&&"MuiRating-readOnly"),ownerState:Lr,role:x?"img":null,"aria-label":x?d(ce):null,...S,children:[Array.from(new Array(g)).map((Fe,_t)=>{const an=_t+1,ns={classes:On,disabled:a,emptyIcon:l,focus:Ce,getLabelText:d,highlightSelectedOnly:h,hover:ee,icon:f,IconContainerComponent:m,name:R,onBlur:hr,onChange:yt,onClick:Lt,onFocus:dr,ratingValue:ce,ratingValueRounded:N,readOnly:x,ownerState:Lr},gi=an===Math.ceil(ce)&&(ee!==-1||Ce!==-1);if(C<1){const rs=Array.from(new Array(1/C));return O.jsx(XB,{className:Mc(On.decimal,gi&&On.iconActive),ownerState:Lr,iconActive:gi,children:rs.map((fr,Vr)=>{const po=I_(an-1+(Vr+1)*C,C);return O.jsx(Sb,{...ns,isActive:!1,itemValue:po,labelProps:{style:rs.length-1===Vr?{}:{width:po===ce?`${(Vr+1)*C*100}%`:"0%",overflow:"hidden",position:"absolute"}}},po)})},an)}return O.jsx(Sb,{...ns,isActive:gi,itemValue:an},an)}),!x&&!a&&O.jsxs(eO,{className:Mc(On.label,On.labelEmptyValue),ownerState:Lr,children:[O.jsx("input",{className:On.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:N==null,onFocus:()=>Uh(!0),onBlur:()=>Uh(!1),onChange:yt}),O.jsx("span",{className:On.visuallyHidden,children:u})]})]})});var tO={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(i0,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,d){this._input=u,this._value=d}return e=function(u){var d,h,f,m;if(e.isNumeral(u))d=u.value();else if(u===0||typeof u>"u")d=0;else if(u===null||n.isNaN(u))d=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)d=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(m=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,m&&u.match(m)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(u)}else d=Number(u)||null;return new l(u,d)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,d,h){var f=s[e.options.currentLocale],m=!1,g=!1,v=0,T="",I=1e12,w=1e9,E=1e6,C=1e3,x="",D=!1,b,S,R,y,k,N,P;if(u=u||0,S=Math.abs(u),e._.includes(d,"(")?(m=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(k=e._.includes(d,"+")?d.indexOf("+"):u<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(b=d.match(/a(k|m|b|t)?/),b=b?b[1]:!1,e._.includes(d," a")&&(T=" "),d=d.replace(new RegExp(T+"a[kmbt]?"),""),S>=I&&!b||b==="t"?(T+=f.abbreviations.trillion,u=u/I):S<I&&S>=w&&!b||b==="b"?(T+=f.abbreviations.billion,u=u/w):S<w&&S>=E&&!b||b==="m"?(T+=f.abbreviations.million,u=u/E):(S<E&&S>=C&&!b||b==="k")&&(T+=f.abbreviations.thousand,u=u/C)),e._.includes(d,"[.]")&&(g=!0,d=d.replace("[.]",".")),R=u.toString().split(".")[0],y=d.split(".")[1],N=d.indexOf(","),v=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,y?(e._.includes(y,"[")?(y=y.replace("]",""),y=y.split("["),x=e._.toFixed(u,y[0].length+y[1].length,h,y[1].length)):x=e._.toFixed(u,y.length,h),R=x.split(".")[0],e._.includes(x,".")?x=f.delimiters.decimal+x.split(".")[1]:x="",g&&Number(x.slice(1))===0&&(x="")):R=e._.toFixed(u,0,h),T&&!b&&Number(R)>=1e3&&T!==f.abbreviations.trillion)switch(R=String(Number(R)/1e3),T){case f.abbreviations.thousand:T=f.abbreviations.million;break;case f.abbreviations.million:T=f.abbreviations.billion;break;case f.abbreviations.billion:T=f.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),D=!0),R.length<v)for(var ee=v-R.length;ee>0;ee--)R="0"+R;return N>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(R=""),P=R+x+(T||""),m?P=(m&&D?"(":"")+P+(m&&D?")":""):k>=0?P=k===0?(D?"-":"+")+P:P+(D?"-":"+"):D&&(P="-"+P),P},stringToNumber:function(u){var d=s[a.currentLocale],h=u,f={thousand:3,million:6,billion:9,trillion:12},m,g,v;if(a.zeroFormat&&u===a.zeroFormat)g=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)g=null;else{g=1,d.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(m in f)if(v=new RegExp("[^a-zA-Z]"+d.abbreviations[m]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(v)){g*=Math.pow(10,f[m]);break}g*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),g*=Number(u)}return g},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,d){return u.indexOf(d)!==-1},insert:function(u,d,h){return u.slice(0,h)+d+u.slice(h)},reduce:function(u,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(u),f=h.length>>>0,m=0,g;if(arguments.length===3)g=arguments[2];else{for(;m<f&&!(m in h);)m++;if(m>=f)throw new TypeError("Reduce of empty array with no initial value");g=h[m++]}for(;m<f;m++)m in h&&(g=d(g,h[m],m,h));return g},multiplier:function(u){var d=u.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(u,d,h,f){var m=u.toString().split("."),g=d-(f||0),v,T,I,w;return m.length===2?v=Math.min(Math.max(m[1].length,g),d):v=g,I=Math.pow(10,v),w=(h(u+"e+"+v)/I).toFixed(v),f>d-v&&(T=new RegExp("\\.?0{1,"+(f-(d-v))+"}$"),w=w.replace(T,"")),w}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,d,h){if(d=d.toLowerCase(),this[u+"s"][d])throw new TypeError(d+" "+u+" already registered.");return this[u+"s"][d]=h,h},e.validate=function(u,d){var h,f,m,g,v,T,I,w;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{I=e.localeData(d)}catch{I=e.localeData(e.locale())}return m=I.currency.symbol,v=I.abbreviations,h=I.delimiters.decimal,I.delimiters.thousands==="."?f="\\.":f=I.delimiters.thousands,w=u.match(/^[^\d]+/),w!==null&&(u=u.substr(1),w[0]!==m)||(w=u.match(/[^\d]+$/),w!==null&&(u=u.slice(0,-1),w[0]!==v.thousand&&w[0]!==v.million&&w[0]!==v.billion&&w[0]!==v.trillion))?!1:(T=new RegExp(f+"{2}"),u.match(/[^\d.,]/g)?!1:(g=u.split(h),g.length>2?!1:g.length<2?!!g[0].match(/^\d+.*\d$/)&&!g[0].match(T):g[0].length===1?!!g[0].match(/^\d+$/)&&!g[0].match(T)&&!!g[1].match(/^\d+$/):!!g[0].match(/^\d+.*\d$/)&&!g[0].match(T)&&!!g[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,d){var h=this._value,f=u||a.defaultFormat,m,g,v;if(d=d||Math.round,h===0&&a.zeroFormat!==null)g=a.zeroFormat;else if(h===null&&a.nullFormat!==null)g=a.nullFormat;else{for(m in i)if(f.match(i[m].regexps.format)){v=i[m].format;break}v=v||e._.numberToFormat,g=v(h,f,d)}return g},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,g,v){return f+Math.round(d*m)}return this._value=n.reduce([this._value,u],h,0)/d,this},subtract:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,g,v){return f-Math.round(d*m)}return this._value=n.reduce([u],h,Math.round(this._value*d))/d,this},multiply:function(u){function d(h,f,m,g){var v=n.correctionFactor(h,f);return Math.round(h*v)*Math.round(f*v)/Math.round(v*v)}return this._value=n.reduce([this._value,u],d,1),this},divide:function(u){function d(h,f,m,g){var v=n.correctionFactor(h,f);return Math.round(h*v)/Math.round(f*v)}return this._value=n.reduce([this._value,u],d),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var d=u%10;return~~(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,d,h){var f=e._.includes(d," BPS")?" ":"",m;return u=u*1e4,d=d.replace(/\s?BPS/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"BPS"),m=m.join("")):m=m+f+"BPS",m},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=u.suffixes.concat(d.suffixes.filter(function(m){return u.suffixes.indexOf(m)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(m,g,v){var T,I=e._.includes(g,"ib")?d:u,w=e._.includes(g," b")||e._.includes(g," ib")?" ":"",E,C,x;for(g=g.replace(/\s?i?b/,""),E=0;E<=I.suffixes.length;E++)if(C=Math.pow(I.base,E),x=Math.pow(I.base,E+1),m===null||m===0||m>=C&&m<x){w+=I.suffixes[E],C>0&&(m=m/C);break}return T=e._.numberToFormat(m,g,v),T+w},unformat:function(m){var g=e._.stringToNumber(m),v,T;if(g){for(v=u.suffixes.length-1;v>=0;v--){if(e._.includes(m,u.suffixes[v])){T=Math.pow(u.base,v);break}if(e._.includes(m,d.suffixes[v])){T=Math.pow(d.base,v);break}}g*=T||1}return g}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},g,v,T;for(d=d.replace(/\s?\$\s?/,""),g=e._.numberToFormat(u,d,h),u>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),T=0;T<m.before.length;T++)switch(v=m.before[T],v){case"$":g=e._.insert(g,f.currency.symbol,T);break;case" ":g=e._.insert(g," ",T+f.currency.symbol.length-1);break}for(T=m.after.length-1;T>=0;T--)switch(v=m.after[T],v){case"$":g=T===m.after.length-1?g+f.currency.symbol:e._.insert(g,f.currency.symbol,-(m.after.length-(1+T)));break;case" ":g=T===m.after.length-1?g+" ":e._.insert(g," ",-(m.after.length-(1+T)+f.currency.symbol.length-1));break}return g}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,d,h){var f,m=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",g=m.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(g[0]),d,h),f+"e"+g[1]},unformat:function(u){var d=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(u,"e-")?f*=-1:f;function m(g,v,T,I){var w=e._.correctionFactor(g,v),E=g*w*(v*w)/(w*w);return E}return e._.reduce([h,Math.pow(10,f)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m,g=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),g+=f.ordinal(u),m=e._.numberToFormat(u,d,h),m+g}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,d,h){var f=e._.includes(d," %")?" ":"",m;return e.options.scalePercentBy100&&(u=u*100),d=d.replace(/\s?\%/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"%"),m=m.join("")):m=m+f+"%",m},unformat:function(u){var d=e._.stringToNumber(u);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,d,h){var f=Math.floor(u/60/60),m=Math.floor((u-f*60*60)/60),g=Math.round(u-f*60*60-m*60);return f+":"+(m<10?"0"+m:m)+":"+(g<10?"0"+g:g)},unformat:function(u){var d=u.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(tO);var i9=tO.exports;const s9=s0(i9),Rg=({amount:t})=>{const e=s9(t).format("$0,0.00");return O.jsx("div",{children:e})};Rg.propTypes={amount:ie.number.isRequired};const o9="_card_container_1fmo8_1",a9="_button_1fmo8_21",l9="_rating_1fmo8_73",u9="_product_container_1fmo8_83",c9="_product_flexed_1fmo8_109",gc={card_container:o9,button:a9,rating:l9,product_container:u9,product_flexed:c9},Gi=L.createContext(),nO=({children:t,reducer:e,intialState:n})=>O.jsx(Gi.Provider,{value:L.useReducer(e,n),children:t});nO.propTypes={children:ie.node.isRequired,reducer:ie.func.isRequired,intialState:ie.object.isRequired};const tr={ADD_TO_BASKET:"ADD_TO BASKET",REMOVE_FROM_BASEKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASEKT"};function pa({product:t,flex:e,renderDesc:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:l,description:u}=t,[d,h]=L.useContext(Gi);console.log(d);const f=()=>{h({type:tr.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:l,description:u}})};return O.jsxs("div",{className:`${gc.card_container} ${e?gc.product_flexed:""}`,children:[O.jsx(Ir,{to:`/products/${o}`,children:O.jsx("img",{src:i,alt:""})}),O.jsxs("div",{className:gc.rating,children:[O.jsx("h3",{children:s}),n&&O.jsx("div",{style:{maxWidth:"750px"},children:u}),O.jsxs("div",{children:[O.jsx(r9,{value:a==null?void 0:a.rate,precision:.1}),O.jsx("small",{children:a==null?void 0:a.count})]}),O.jsx("div",{children:O.jsx(Rg,{amount:l})}),r&&O.jsx("button",{className:gc.button,onClick:f,children:"Add to cart"})]})]})}pa.propTypes={product:ie.shape({image:ie.string.isRequired,title:ie.string.isRequired,id:ie.number.isRequired,rating:ie.shape({rate:ie.number.isRequired,count:ie.number.isRequired}).isRequired,price:ie.number.isRequired,description:ie.string.isRequired}).isRequired,flex:ie.bool,renderDesc:ie.bool,renderAdd:ie.bool};var d9={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function rO(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return d9[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function ol(t){var e=rO(t);return"".concat(e.value).concat(e.unit)}var iO=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},om=function(){return om=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},om.apply(this,arguments)},h9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},f9=iO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function nw(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=h9(t,["loading","color","speedMultiplier","cssOverride","size"]),f=om({background:"transparent !important",width:ol(d),height:ol(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(f9," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?L.createElement("span",om({style:f},h)):null}var vt=function(){return vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vt.apply(this,arguments)},p9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},m9=iO("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function g9(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,d=u===void 0?15:u,h=t.width,f=h===void 0?5:h,m=t.radius,g=m===void 0?2:m,v=t.margin,T=v===void 0?2:v,I=p9(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=rO(T).value,E=w+18,C=E/2+E/5.5,x=vt({display:"inherit",position:"relative",fontSize:"0",top:E,left:E,width:"".concat(E*3,"px"),height:"".concat(E*3,"px")},l),D=function(Ce){return{position:"absolute",width:ol(f),height:ol(d),margin:ol(T),backgroundColor:i,borderRadius:ol(g),transition:"2s",animationFillMode:"both",animation:"".concat(m9," ").concat(1.2/o,"s ").concat(Ce*.12,"s infinite ease-in-out")}},b=vt(vt({},D(1)),{top:"".concat(E,"px"),left:"0"}),S=vt(vt({},D(2)),{top:"".concat(C,"px"),left:"".concat(C,"px"),transform:"rotate(-45deg)"}),R=vt(vt({},D(3)),{top:"0",left:"".concat(E,"px"),transform:"rotate(90deg)"}),y=vt(vt({},D(4)),{top:"".concat(-1*C,"px"),left:"".concat(C,"px"),transform:"rotate(45deg)"}),k=vt(vt({},D(5)),{top:"".concat(-1*E,"px"),left:"0"}),N=vt(vt({},D(6)),{top:"".concat(-1*C,"px"),left:"".concat(-1*C,"px"),transform:"rotate(-45deg)"}),P=vt(vt({},D(7)),{top:"0",left:"".concat(-1*E,"px"),transform:"rotate(90deg)"}),ee=vt(vt({},D(8)),{top:"".concat(C,"px"),left:"".concat(-1*C,"px"),transform:"rotate(45deg)"});return n?L.createElement("span",vt({style:x},I),L.createElement("span",{style:b}),L.createElement("span",{style:S}),L.createElement("span",{style:R}),L.createElement("span",{style:y}),L.createElement("span",{style:k}),L.createElement("span",{style:N}),L.createElement("span",{style:P}),L.createElement("span",{style:ee})):null}function AE(){return O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:O.jsx(g9,{color:"#36d7b7"})})}function y9(){const[t,e]=L.useState([]),[n,r]=L.useState(!1);return L.useEffect(()=>{r(!0),tt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),O.jsx(O.Fragment,{children:n?O.jsx(AE,{}):O.jsx("section",{className:gc.product_container,children:t.map(i=>O.jsx(pa,{product:i,renderAdd:!0},i.id))})})}var sO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bb=we.createContext&&we.createContext(sO),_9=["attr","size","title"];function v9(t,e){if(t==null)return{};var n=w9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){E9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E9(t,e,n){return e=I9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t){var e=T9(t,"string");return typeof e=="symbol"?e:e+""}function T9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oO(t){return t&&t.map((e,n)=>we.createElement(e.tag,lm({key:n},e.attr),oO(e.child)))}function hu(t){return e=>we.createElement(S9,am({attr:lm({},t.attr)},e),oO(t.child))}function S9(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=v9(t,_9),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),we.createElement("svg",am({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:lm(lm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&we.createElement("title",null,s),t.children)};return bb!==void 0?we.createElement(bb.Consumer,null,n=>e(n)):e(sO)}function b9(t){return hu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function A9(t){return hu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(t)}const R9="_header_container_x5wgb_1",P9="_fixed_x5wgb_19",C9="_logo_container_x5wgb_33",k9="_delivery_x5wgb_61",x9="_search_x5wgb_83",O9="_order_container_x5wgb_161",N9="_language_x5wgb_189",D9="_cart_x5wgb_217",L9="_lower_container_x5wgb_241",Ei={header_container:R9,fixed:P9,logo_container:C9,delivery:k9,search:x9,order_container:O9,language:N9,cart:D9,lower_container:L9};function V9(t){return hu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}function M9(t){return hu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function F9(t){return hu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function U9(t){return hu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(t)}const $9=()=>O.jsx("div",{className:Ei.lower_container,children:O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx(U9,{}),O.jsx("p",{children:"All"})]}),O.jsx("li",{children:"Todays Deals"}),O.jsx("li",{children:"Customer Service"}),O.jsx("li",{children:"Registry"}),O.jsx("li",{children:"Gift Cards"}),O.jsx("li",{children:"Sell"})]})}),j9=()=>{};var Rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new z9;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W9=function(t){const e=aO(t);return lO.encodeByteArray(e,!0)},um=function(t){return W9(t).replace(/\./g,"")},Pg=function(t){try{return lO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!q9(n)||(t[n]=cm(t[n],e[n]));return t}function q9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=()=>RE().__FIREBASE_DEFAULTS__,K9=()=>{if(typeof process>"u"||typeof Rb>"u")return;const t=Rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pg(t[1]);return e&&JSON.parse(e)},Cg=()=>{try{return j9()||H9()||K9()||G9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q9=t=>{var e,n;return(n=(e=Cg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uO=()=>{var t;return(t=Cg())===null||t===void 0?void 0:t.config},PE=t=>{var e;return(e=Cg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[um(JSON.stringify(n)),um(JSON.stringify(o)),""].join(".")}const Fc={};function X9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function Z9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Pb=!1;function kE(t,e){if(typeof window>"u"||typeof document>"u"||!Qi(window.location.host)||Fc[t]===e||Fc[t]||Pb)return;Fc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=X9().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Pb=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Z9(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),I=n("preprendIcon"),w=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(T,v);const C=u();l(w,I),E.append(w,g,T,C),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function kg(){var t;const e=(t=Cg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ez(){return typeof window<"u"||dO()}function dO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function hO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OE(){const t=ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fO(){return!kg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pO(){return!kg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Id(){try{return typeof indexedDB=="object"}catch{return!1}}function tz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="FirebaseError";class Nt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nz,Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi.prototype.create)}}class mi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nt(i,a,r)}}function rz(t,e){return t.replace(iz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kb(s)&&kb(o)){if(!kr(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NE(t,e){const n=new sz(t,e);return n.subscribe.bind(n)}class sz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=T_),i.error===void 0&&(i.error=T_),i.complete===void 0&&(i.complete=T_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function T_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uz(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lz(t){return t===So?void 0:t}function uz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new az(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=[];var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const yO={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},cz=fe.INFO,dz={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},hz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hh{constructor(e){this.name=e,this._logLevel=cz,this._logHandler=hz,this._userLogHandler=null,DE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}function fz(t){DE.forEach(e=>{e.setLogLevel(t)})}function pz(t,e){for(const n of DE){let r=null;e&&e.level&&(r=yO[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:fe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const mz=(t,e)=>e.some(n=>t instanceof n);let xb,Ob;function gz(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yz(){return Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _O=new WeakMap,rw=new WeakMap,vO=new WeakMap,S_=new WeakMap,LE=new WeakMap;function _z(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ds(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_O.set(n,t)}).catch(()=>{}),LE.set(e,t),e}function vz(t){if(rw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rw.set(t,e)}let iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wz(t){iw=t(iw)}function Ez(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(b_(this),e,...n);return vO.set(r,e.sort?e.sort():[e]),Ds(r)}:yz().includes(t)?function(...e){return t.apply(b_(this),e),Ds(_O.get(this))}:function(...e){return Ds(t.apply(b_(this),e))}}function Iz(t){return typeof t=="function"?Ez(t):(t instanceof IDBTransaction&&vz(t),mz(t,gz())?new Proxy(t,iw):t)}function Ds(t){if(t instanceof IDBRequest)return _z(t);if(S_.has(t))return S_.get(t);const e=Iz(t);return e!==t&&(S_.set(t,e),LE.set(e,t)),e}const b_=t=>LE.get(t);function Tz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Sz=["get","getKey","getAll","getAllKeys","count"],bz=["put","add","delete","clear"],A_=new Map;function Nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A_.get(e))return A_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return A_.set(e,s),s}wz(t=>({...t,get:(e,n,r)=>Nb(e,n)||t.get(e,n,r),has:(e,n)=>!!Nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",sw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new hh("@firebase/app"),Pz="@firebase/app-compat",Cz="@firebase/analytics-compat",kz="@firebase/analytics",xz="@firebase/app-check-compat",Oz="@firebase/app-check",Nz="@firebase/auth",Dz="@firebase/auth-compat",Lz="@firebase/database",Vz="@firebase/data-connect",Mz="@firebase/database-compat",Fz="@firebase/functions",Uz="@firebase/functions-compat",$z="@firebase/installations",jz="@firebase/installations-compat",Bz="@firebase/messaging",zz="@firebase/messaging-compat",Wz="@firebase/performance",qz="@firebase/performance-compat",Hz="@firebase/remote-config",Kz="@firebase/remote-config-compat",Gz="@firebase/storage",Qz="@firebase/storage-compat",Yz="@firebase/firestore",Jz="@firebase/ai",Xz="@firebase/firestore-compat",Zz="firebase",eW="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]",tW={[dm]:"fire-core",[Pz]:"fire-core-compat",[kz]:"fire-analytics",[Cz]:"fire-analytics-compat",[Oz]:"fire-app-check",[xz]:"fire-app-check-compat",[Nz]:"fire-auth",[Dz]:"fire-auth-compat",[Lz]:"fire-rtdb",[Vz]:"fire-data-connect",[Mz]:"fire-rtdb-compat",[Fz]:"fire-fn",[Uz]:"fire-fn-compat",[$z]:"fire-iid",[jz]:"fire-iid-compat",[Bz]:"fire-fcm",[zz]:"fire-fcm-compat",[Wz]:"fire-perf",[qz]:"fire-perf-compat",[Hz]:"fire-rc",[Kz]:"fire-rc-compat",[Gz]:"fire-gcs",[Qz]:"fire-gcs-compat",[Yz]:"fire-fst",[Xz]:"fire-fst-compat",[Jz]:"fire-vertex","fire-js":"fire-js",[Zz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Map,Nl=new Map,Dl=new Map;function Td(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wO(t,e){t.container.addOrOverwriteComponent(e)}function ci(t){const e=t.name;if(Dl.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Dl.set(e,t);for(const n of qs.values())Td(n,t);for(const n of Nl.values())Td(n,t);return!0}function Og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nW(t,e,n=Ws){Og(t,e).clearInstance(n)}function EO(t){return t.options!==void 0}function Ee(t){return t==null?!1:t.settings!==void 0}function rW(){Dl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new mi("app","Firebase",iW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IO=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e){const n=Pg(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class sW extends IO{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._serverConfig.authIdToken&&Db(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Db(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Wn(dm,sw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ME(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ir.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=eW;function VE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ws,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(n||(n=uO()),!n)throw ir.create("no-options");const s=qs.get(i);if(s){if(kr(n,s.options)&&kr(r,s.config))return s;throw ir.create("duplicate-app",{appName:i})}const o=new gO(i);for(const l of Dl.values())o.addComponent(l);const a=new IO(n,r,o);return qs.set(i,a),a}function oW(t,e){if(ez()&&!dO())throw ir.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let n;EO(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ir.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Nl.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new gO(s);for(const u of Dl.values())a.addComponent(u);const l=new sW(n,e,s,a);return Nl.set(s,l),l}function TO(t=Ws){const e=qs.get(t);if(!e&&t===Ws&&uO())return VE();if(!e)throw ir.create("no-app",{appName:t});return e}function aW(){return Array.from(qs.values())}async function ME(t){let e=!1;const n=t.name;qs.has(n)?(e=!0,qs.delete(n)):Nl.has(n)&&t.decRefCount()<=0&&(Nl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Wn(t,e,n){var r;let i=(r=tW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}ci(new lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function SO(t,e){if(t!==null&&typeof t!="function")throw ir.create("invalid-log-argument");pz(t,e)}function bO(t){fz(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="firebase-heartbeat-database",uW=1,Sd="firebase-heartbeat-store";let R_=null;function AO(){return R_||(R_=Tz(lW,uW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),R_}async function cW(t){try{const n=(await AO()).transaction(Sd),r=await n.objectStore(Sd).get(RO(t));return await n.done,r}catch(e){if(e instanceof Nt)Bi.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function Lb(t,e){try{const r=(await AO()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,RO(t)),await r.done}catch(n){if(n instanceof Nt)Bi.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function RO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=1024,hW=30;class fW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hW){const o=gW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vb(),{heartbeatsToSend:r,unsentEntries:i}=pW(this._heartbeatsCache.heartbeats),s=um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bi.warn(n),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function pW(t,e=dW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Id()?tz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mb(t){return um(JSON.stringify({version:2,heartbeats:t})).length}function gW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){ci(new lr("platform-logger",e=>new Az(e),"PRIVATE")),ci(new lr("heartbeat",e=>new fW(e),"PRIVATE")),Wn(dm,sw,t),Wn(dm,sw,"esm2017"),Wn("fire-js","")}yW("");const _W=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Nt,SDK_VERSION:Yn,_DEFAULT_ENTRY_NAME:Ws,_addComponent:Td,_addOrOverwriteComponent:wO,_apps:qs,_clearComponents:rW,_components:Dl,_getProvider:Og,_isFirebaseApp:EO,_isFirebaseServerApp:Ee,_registerComponent:ci,_removeServiceInstance:nW,_serverApps:Nl,deleteApp:ME,getApp:TO,getApps:aW,initializeApp:VE,initializeServerApp:oW,onLog:SO,registerVersion:Wn,setLogLevel:bO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n){this._delegate=e,this.firebase=n,Td(e,new lr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ME(this._delegate)))}_getService(e,n=Ws){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ws){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Td(this._delegate,e)}_addOrOverwriteComponent(e){wO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Fb=new mi("app-compat","Firebase",wW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Wn,setLogLevel:bO,onLog:SO,apps:null,SDK_VERSION:Yn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:_W}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Ws,!Cb(e,u))throw Fb.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=VE(u,d);if(Cb(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(ci(u)&&u.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw Fb.create("invalid-app-argument",{appName:d});return m[h]()};u.serviceProps!==void 0&&cm(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,u.multipleInstances?m:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){const t=EW(vW);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:PO,extendNamespace:e,createSubscribe:NE,ErrorFactory:mi,deepExtend:cm});function e(n){cm(t,n)}return t}const IW=PO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new hh("@firebase/app-compat"),TW="@firebase/app-compat",SW="0.4.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t){Wn(TW,SW,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=RE();if(t.firebase!==void 0){Ub.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ub.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const fu=IW;bW();var AW="firebase",RW="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fu.registerVersion(AW,RW,"app-compat");function pu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PW=CO,kO=new mi("auth","Firebase",CO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new hh("@firebase/auth");function CW(t,...e){hm.logLevel<=fe.WARN&&hm.warn(`Auth (${Yn}): ${t}`,...e)}function ap(t,...e){hm.logLevel<=fe.ERROR&&hm.error(`Auth (${Yn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw FE(t,...e)}function si(t,...e){return FE(t,...e)}function xO(t,e,n){const r=Object.assign(Object.assign({},PW()),{[e]:n});return new mi("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return xO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kO.create(t,...e)}function se(t,e,...n){if(!t)throw FE(e,...n)}function Pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function zi(t,e){t||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kW(){return $b()==="http:"||$b()==="https:"}function $b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kW()||xE()||"connection"in navigator)?navigator.onLine:!0}function OW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=cO()||xg()}get(){return xW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OO=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LW=new fh(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oo(t,e,n,r,i={}){return NO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Dr(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return hO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qi(t.emulatorConfig.host)&&(u.credentials="include"),OO.fetch()(await DO(t,t.config.apiHost,n,a),u)})}async function NO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NW),e);try{const i=new MW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xO(t,d,u);xr(t,d)}}catch(i){if(i instanceof Nt)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function ph(t,e,n,r,i={}){const s=await oo(t,e,n,r,i);return"mfaPendingCredential"in s&&xr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function DO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?UE(t.config,i):`${t.config.apiScheme}://${i}`;return DW.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function VW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let MW=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),LW.get())})}};function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function jb(t){return t!==void 0&&t.enterprise!==void 0}let FW=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function UW(t,e){return oo(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(t,e){return oo(t,"POST","/v1/accounts:delete",e)}async function fm(t,e){return oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jW(t,e=!1){const n=ne(t),r=await n.getIdToken(e),i=$E(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uc(P_(i.auth_time)),issuedAtTime:Uc(P_(i.iat)),expirationTime:Uc(P_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function P_(t){return Number(t)*1e3}function $E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pg(n);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Bb(t){const e=$E(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nt&&BW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zW=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bd(t,fm(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LO(s.providerUserInfo):[],a=qW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function WW(t){const e=ne(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LO(t){return t.map(e=>{var{providerId:n}=e,r=pu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){const n=await NO(t,{},async()=>{const r=Dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await DO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qi(t.emulatorConfig.host)&&(l.credentials="include"),OO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KW(t,e){return oo(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_=class lw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Bb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lw;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lw,this.toJSON())}_performRefresh(){return Pi("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let al=class yc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bd(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jW(this,e)}reload(){return WW(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ee(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await bd(this,$W(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:C,isAnonymous:x,providerData:D,stsTokenManager:b}=n;se(E&&b,e,"internal-error");const S=C_.fromJSON(this.name,b);se(typeof E=="string",e,"internal-error"),us(h,e.name),us(f,e.name),se(typeof C=="boolean",e,"internal-error"),se(typeof x=="boolean",e,"internal-error"),us(m,e.name),us(g,e.name),us(v,e.name),us(T,e.name),us(I,e.name),us(w,e.name);const R=new yc({uid:E,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:x,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:I,lastLoginAt:w});return D&&Array.isArray(D)&&(R.providerData=D.map(y=>Object.assign({},y))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new C_;i.updateFromServerResponse(n);const s=new yc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?LO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new C_;a.updateFromIdToken(r);const l=new yc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new aw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;function Ci(t){zi(t instanceof Function,"Expected a class definition");let e=zb.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VO=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};VO.type="NONE";const Wb=VO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,n){return`firebase:${t}:${e}:${n}`}let qb=class up{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=lp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fm(this.auth,{idToken:e}).catch(()=>{});return n?al._fromGetAccountInfoResponse(this.auth,n,e):null}return al._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new up(Ci(Wb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ci(Wb);const o=lp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await fm(e,{idToken:d}).catch(()=>{});if(!f)break;h=await al._fromGetAccountInfoResponse(e,f,d)}else h=al._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new up(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new up(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BO(e))return"Blackberry";if(zO(e))return"Webos";if(FO(e))return"Safari";if((e.includes("chrome/")||UO(e))&&!e.includes("edge/"))return"Chrome";if(jO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MO(t=ve()){return/firefox\//i.test(t)}function FO(t=ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UO(t=ve()){return/crios\//i.test(t)}function $O(t=ve()){return/iemobile/i.test(t)}function jO(t=ve()){return/android/i.test(t)}function BO(t=ve()){return/blackberry/i.test(t)}function zO(t=ve()){return/webos/i.test(t)}function jE(t=ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GW(t=ve()){var e;return jE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QW(){return OE()&&document.documentMode===10}function WO(t=ve()){return jE(t)||jO(t)||zO(t)||BO(t)||/windows phone/i.test(t)||$O(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e=[]){let n;switch(t){case"Browser":n=Hb(ve());break;case"Worker":n=`${Hb(ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YW=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e={}){return oo(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=6;let ZW=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e8=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new YW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await qb.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fm(this,{idToken:e}),r=await al._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ee(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ee(this.app))return Promise.reject(Li(this));const n=e?ne(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ee(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ee(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JW(this),n=new ZW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await qb.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ee(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ma(t){return ne(t)}let Kb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NE(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t8(t){Ng=t}function HO(t){return Ng.loadJS(t)}function n8(){return Ng.recaptchaEnterpriseScript}function r8(){return Ng.gapiScript}function i8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}let s8=class{constructor(){this.enterprise=new o8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},o8=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};const a8="recaptcha-enterprise",KO="NO_RECAPTCHA";let l8=class{constructor(e){this.type=a8,this.auth=ma(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{UW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new FW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;jb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(KO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s8().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&jb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n8();l.length!==0&&(l+=a),HO(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};async function Gb(t,e,n,r=!1,i=!1){const s=new l8(t);let o;if(i)o=KO;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function uw(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t,e){const n=Og(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(kr(s,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function c8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d8(t,e,n){const r=ma(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=GO(e),{host:o,port:a}=h8(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(kr(u,r.config.emulator)&&kr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Qi(o)?(CE(`${s}//${o}${l}`),kE("Auth",!0)):f8()}function GO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h8(t){const e=GO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Qb(o)}}}function Qb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BE=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}};async function p8(t,e){return oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return ph(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e){return ph(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function y8(t,e){return ph(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yb=class cw extends BE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cw(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cw(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,n,"signInWithPassword",m8);case"emailLink":return g8(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,r,"signUpPassword",p8);case"emailLink":return y8(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return ph(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="http://localhost";let Dg=class dw extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new dw(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:_8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dr(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w8(t){const e=Tr(Xr(t)).link,n=e?Tr(Xr(e)).deep_link_id:null,r=Tr(Xr(t)).deep_link_id;return(r?Tr(Xr(r)).link:null)||r||n||e||t}let E8=class QO{constructor(e){var n,r,i,s,o,a;const l=Tr(Xr(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=v8((i=l.mode)!==null&&i!==void 0?i:null);se(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=w8(e);try{return new QO(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg=class YO{constructor(){this.providerId=YO.PROVIDER_ID}static credential(e,n){return Yb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E8.parseLink(n);return se(r,"argument-error"),Yb._fromEmailAndCode(e,r.code,r.tenantId)}};Lg.PROVIDER_ID="password";Lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JO=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=class extends JO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XO=class Ua extends mh{constructor(){super("facebook.com")}static credential(e){return Dg._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}};XO.FACEBOOK_SIGN_IN_METHOD="facebook.com";XO.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZO=class $a extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dg._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $a.credential(n,r)}catch{return null}}};ZO.GOOGLE_SIGN_IN_METHOD="google.com";ZO.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eN=class ja extends mh{constructor(){super("github.com")}static credential(e){return Dg._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}};eN.GITHUB_SIGN_IN_METHOD="github.com";eN.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN=class Ba extends mh{constructor(){super("twitter.com")}static credential(e,n){return Dg._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ba.credential(n,r)}catch{return null}}};tN.TWITTER_SIGN_IN_METHOD="twitter.com";tN.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e){return ph(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class hw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await al._fromIdTokenResponse(e,r,i),o=Jb(r);return new hw({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Jb(r);return new hw({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function Jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T8=class fw extends Nt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fw(e,n,r,i)}};function nN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?T8._fromErrorAndOperation(t,s,e,r):s})}async function S8(t,e,n=!1){const r=await bd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vg._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e,n=!1){const{auth:r}=t;if(Ee(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const s=await bd(t,nN(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=$E(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Vg._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e,n=!1){if(Ee(t.app))return Promise.reject(Li(t));const r="signIn",i=await nN(t,r,e),s=await Vg._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function A8(t,e){return rN(ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t){const e=ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R8(t,e,n){if(Ee(t.app))return Promise.reject(Li(t));const r=ma(t),o=await uw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iN(t),l}),a=await Vg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function P8(t,e,n){return Ee(t.app)?Promise.reject(Li(t)):A8(ne(t),Lg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iN(t),r})}function C8(t,e,n,r){return ne(t).onIdTokenChanged(e,n,r)}function k8(t,e,n){return ne(t).beforeAuthStateChanged(e,n)}const mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sN=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=1e3,O8=10;let oN=class extends sN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};oN.type="LOCAL";const N8=oN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aN=class extends sN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};aN.type="SESSION";const lN=aN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uN=class cN{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cN(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await D8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};uN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L8=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=zE("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function V8(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function M8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U8(){return dN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebaseLocalStorageDb",$8=1,gm="firebaseLocalStorage",fN="fbase_key";let gh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Mg(t,e){return t.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function j8(){const t=indexedDB.deleteDatabase(hN);return new gh(t).toPromise()}function pw(){const t=indexedDB.open(hN,$8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gm,{keyPath:fN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),await j8(),e(await pw()))})})}async function Xb(t,e,n){const r=Mg(t,!0).put({[fN]:e,value:n});return new gh(r).toPromise()}async function B8(t,e){const n=Mg(t,!1).get(e),r=await new gh(n).toPromise();return r===void 0?null:r.value}function Zb(t,e){const n=Mg(t,!0).delete(e);return new gh(n).toPromise()}const z8=800,W8=3;let pN=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uN._getInstance(U8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M8(),!this.activeServiceWorker)return;this.sender=new L8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pw();return await Xb(e,mm,"1"),await Zb(e,mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mg(i,!1).getAll();return new gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};pN.type="LOCAL";const q8=pN;new fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t,e){return e?Ci(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WE=class extends BE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function K8(t){return rN(t.auth,new WE(t),t.bypassAuthState)}function G8(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),b8(n,new WE(t),t.bypassAuthState)}async function Q8(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),S8(n,new WE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K8;case"linkViaPopup":case"linkViaRedirect":return Q8;case"reauthViaPopup":case"reauthViaRedirect":return G8;default:xr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new fh(2e3,1e4);let J8=class _c extends mN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=zE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y8.get())};e()}};J8.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="pendingRedirect",cp=new Map;let Z8=class extends mN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cp.get(this.auth._key());if(!e){try{const r=await eq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cp.set(this.auth._key(),e)}return this.bypassAuthState||cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function eq(t,e){const n=rq(e),r=nq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tq(t,e){cp.set(t._key(),e)}function nq(t){return Ci(t._redirectPersistence)}function rq(t){return lp(X8,t.config.apiKey,t.name)}async function iq(t,e,n=!1){if(Ee(t.app))return Promise.reject(Li(t));const r=ma(t),i=H8(r,e),o=await new Z8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=10*60*1e3;let oq=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sq&&this.cachedEventUids.clear(),this.cachedEventUids.has(eA(e))}saveEventToCache(e){this.cachedEventUids.add(eA(e)),this.lastProcessedEventTime=Date.now()}};function eA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lq(t,e={}){return oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cq=/^https?/;async function dq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lq(t);for(const n of e)try{if(hq(n))return}catch{}xr(t,"unauthorized-domain")}function hq(t){const e=ow(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cq.test(n))return!1;if(uq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=new fh(3e4,6e4);function tA(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pq(t){return new Promise((e,n)=>{var r,i,s;function o(){tA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tA(),n(si(t,"network-request-failed"))},timeout:fq.get()})}if(!((i=(r=oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=oi().gapi)===null||s===void 0)&&s.load)o();else{const a=i8("iframefcb");return oi()[a]=()=>{gapi.load?o():n(si(t,"network-request-failed"))},HO(`${r8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dp=null,e})}let dp=null;function mq(t){return dp=dp||pq(t),dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new fh(5e3,15e3),yq="__/auth/iframe",_q="emulator/auth/iframe",vq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eq(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,_q):`https://${t.config.authDomain}/${yq}`,r={apiKey:e.apiKey,appName:t.name,v:Yn},i=wq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Dr(r).slice(1)}`}async function Iq(t){const e=await mq(t),n=oi().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:Eq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=si(t,"network-request-failed"),a=oi().setTimeout(()=>{s(o)},gq.get());function l(){oi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sq=500,bq=600,Aq="_blank",Rq="http://localhost";let nA=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Pq(t,e,n,r=Sq,i=bq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Tq),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ve().toLowerCase();n&&(a=UO(u)?Aq:n),MO(u)&&(e=e||Rq,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(GW(u)&&a!=="_self")return Cq(e||"",a),new nA(null);const h=window.open(e||"",a,d);se(h,t,"popup-blocked");try{h.focus()}catch{}return new nA(h)}function Cq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="__/auth/handler",xq="emulator/auth/handler",Oq=encodeURIComponent("fac");async function rA(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(e instanceof JO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof mh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Oq}=${encodeURIComponent(l)}`:"";return`${Nq(t)}?${Dr(a).slice(1)}${u}`}function Nq({config:t}){return t.emulator?UE(t,xq):`https://${t.authDomain}/${kq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="webStorageSupport";let Dq=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lN,this._completeRedirectFn=iq,this._overrideRedirectResult=tq}async _openPopup(e,n,r,i){var s;zi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rA(e,n,r,ow(),i);return Pq(e,o,zE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await rA(e,n,r,ow(),i);return V8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Iq(e),r=new oq(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k_,{type:k_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[k_];o!==void 0&&n(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WO()||FO()||jE()}};const Lq=Dq;var iA="@firebase/auth",sA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vq=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fq(t){ci(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qO(t)},u=new e8(r,i,s,l);return c8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ci(new lr("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(r=>new Vq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(iA,sA,Mq(t)),Wn(iA,sA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=5*60,$q=PE("authIdTokenMaxAge")||Uq;let oA=null;const jq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$q)return;const i=n==null?void 0:n.token;oA!==i&&(oA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bq(t=TO()){const e=Og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u8(t,{popupRedirectResolver:Lq,persistence:[q8,N8,lN]}),r=PE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=jq(s.toString());k8(n,o,()=>o(n.currentUser)),C8(n,a=>o(a))}}const i=Q9("auth");return i&&d8(n,`http://${i}`),n}function zq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fq("Browser");var aA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,yN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function R(){}R.prototype=S.prototype,b.D=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(y,k,N){for(var P=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)P[ee-2]=arguments[ee];return S.prototype[k].apply(y,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,R){R||(R=0);var y=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)y[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;16>k;++k)y[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],k=b.g[2];var N=b.g[3],P=S+(N^R&(k^N))+y[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=N+(k^S&(R^k))+y[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(R^N&(S^R))+y[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=R+(S^k&(N^S))+y[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=S+(N^R&(k^N))+y[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(k^S&(R^k))+y[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(R^N&(S^R))+y[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=R+(S^k&(N^S))+y[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=S+(N^R&(k^N))+y[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(k^S&(R^k))+y[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(R^N&(S^R))+y[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=R+(S^k&(N^S))+y[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=S+(N^R&(k^N))+y[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(k^S&(R^k))+y[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(R^N&(S^R))+y[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=R+(S^k&(N^S))+y[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=S+(k^N&(R^k))+y[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^k&(S^R))+y[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^R&(N^S))+y[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(k^N))+y[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(R^k))+y[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^k&(S^R))+y[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^R&(N^S))+y[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(k^N))+y[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(R^k))+y[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^k&(S^R))+y[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^R&(N^S))+y[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(k^N))+y[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(R^k))+y[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^k&(S^R))+y[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^R&(N^S))+y[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(k^N))+y[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=S+(R^k^N)+y[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^k)+y[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^R)+y[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=R+(k^N^S)+y[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=S+(R^k^N)+y[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^k)+y[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^R)+y[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=R+(k^N^S)+y[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=S+(R^k^N)+y[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^k)+y[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^R)+y[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=R+(k^N^S)+y[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=S+(R^k^N)+y[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^k)+y[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^R)+y[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=R+(k^N^S)+y[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=S+(k^(R|~N))+y[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~k))+y[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~R))+y[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=R+(N^(k|~S))+y[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=S+(k^(R|~N))+y[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~k))+y[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~R))+y[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=R+(N^(k|~S))+y[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=S+(k^(R|~N))+y[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~k))+y[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~R))+y[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=R+(N^(k|~S))+y[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=S+(k^(R|~N))+y[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~k))+y[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~R))+y[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=R+(N^(k|~S))+y[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var R=S-this.blockSize,y=this.B,k=this.h,N=0;N<S;){if(k==0)for(;N<=R;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<S;)if(y[k++]=b.charCodeAt(N++),k==this.blockSize){i(this,y),k=0;break}}else for(;N<S;)if(y[k++]=b[N++],k==this.blockSize){i(this,y),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var R=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=R&255,R/=256;for(this.u(b),b=Array(16),S=R=0;4>S;++S)for(var y=0;32>y;y+=8)b[R++]=this.g[S]>>>y&255;return b};function s(b,S){var R=a;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function o(b,S){this.h=S;for(var R=[],y=!0,k=b.length-1;0<=k;k--){var N=b[k]|0;y&&N==S||(R[k]=N,y=!1)}this.g=R}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return T(u(-b));for(var S=[],R=1,y=0;b>=R;y++)S[y]=b/R|0,R*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return T(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(S,8)),y=h,k=0;k<b.length;k+=8){var N=Math.min(8,b.length-k),P=parseInt(b.substring(k,k+N),S);8>N?(N=u(Math.pow(S,N)),y=y.j(N).add(u(P))):(y=y.j(R),y=y.add(u(P)))}return y}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var b=0,S=1,R=0;R<this.g.length;R++){var y=this.i(R);b+=(0<=y?y:4294967296+y)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(g(this))return"0";if(v(this))return"-"+T(this).toString(b);for(var S=u(Math.pow(b,6)),R=this,y="";;){var k=C(R,S).g;R=I(R,k.j(S));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=k,g(R))return N+y;for(;6>N.length;)N="0"+N;y=N+y}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function g(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=I(this,b),v(b)?-1:g(b)?0:1};function T(b){for(var S=b.g.length,R=[],y=0;y<S;y++)R[y]=~b.g[y];return new o(R,~b.h).add(f)}t.abs=function(){return v(this)?T(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],y=0,k=0;k<=S;k++){var N=y+(this.i(k)&65535)+(b.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);y=P>>>16,N&=65535,P&=65535,R[k]=P<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function I(b,S){return b.add(T(S))}t.j=function(b){if(g(this)||g(b))return h;if(v(this))return v(b)?T(this).j(T(b)):T(T(this).j(b));if(v(b))return T(this.j(T(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,R=[],y=0;y<2*S;y++)R[y]=0;for(y=0;y<this.g.length;y++)for(var k=0;k<b.g.length;k++){var N=this.i(y)>>>16,P=this.i(y)&65535,ee=b.i(k)>>>16,Ce=b.i(k)&65535;R[2*y+2*k]+=P*Ce,w(R,2*y+2*k),R[2*y+2*k+1]+=N*Ce,w(R,2*y+2*k+1),R[2*y+2*k+1]+=P*ee,w(R,2*y+2*k+1),R[2*y+2*k+2]+=N*ee,w(R,2*y+2*k+2)}for(y=0;y<S;y++)R[y]=R[2*y+1]<<16|R[2*y];for(y=S;y<2*S;y++)R[y]=0;return new o(R,0)};function w(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function E(b,S){this.g=b,this.h=S}function C(b,S){if(g(S))throw Error("division by zero");if(g(b))return new E(h,h);if(v(b))return S=C(T(b),S),new E(T(S.g),T(S.h));if(v(S))return S=C(b,T(S)),new E(T(S.g),S.h);if(30<b.g.length){if(v(b)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var R=f,y=S;0>=y.l(b);)R=x(R),y=x(y);var k=D(R,1),N=D(y,1);for(y=D(y,2),R=D(R,2);!g(y);){var P=N.add(y);0>=P.l(b)&&(k=k.add(R),N=P),y=D(y,1),R=D(R,1)}return S=I(b,k.j(S)),new E(k,S)}for(k=h;0<=b.l(S);){for(R=Math.max(1,Math.floor(b.m()/S.m())),y=Math.ceil(Math.log(R)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),N=u(R),P=N.j(S);v(P)||0<P.l(b);)R-=y,N=u(R),P=N.j(S);g(N)&&(N=f),k=k.add(N),b=I(b,P)}return new E(k,b)}t.A=function(b){return C(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],y=0;y<S;y++)R[y]=this.i(y)&b.i(y);return new o(R,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],y=0;y<S;y++)R[y]=this.i(y)|b.i(y);return new o(R,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],y=0;y<S;y++)R[y]=this.i(y)^b.i(y);return new o(R,this.h^b.h)};function x(b){for(var S=b.g.length+1,R=[],y=0;y<S;y++)R[y]=b.i(y)<<1|b.i(y-1)>>>31;return new o(R,b.h)}function D(b,S){var R=S>>5;S%=32;for(var y=b.g.length-R,k=[],N=0;N<y;N++)k[N]=0<S?b.i(N+R)>>>S|b.i(N+R+1)<<32-S:b.i(N+R);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ls=o}).apply(typeof aA<"u"?aA:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _N,vc,vN,hp,mw,wN,EN,IN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var M=c[A];if(!(M in _))break e;_=_[M]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var _=0,A=!1,M={next:function(){if(!A&&_<c.length){var $=_++;return{value:p($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,_){return c.call.apply(c.bind,arguments)}function h(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function g(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,M,$){for(var G=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)G[Le-2]=arguments[Le];return p.prototype[M].apply(A,G)}}function v(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function T(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(l(A)){const M=c.length||0,$=A.length||0;c.length=M+$;for(let G=0;G<$;G++)c[M+G]=A[G]}else c.push(A)}}class I{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var x=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function b(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function S(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(c,p){let _,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(_ in A)c[_]=A[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function N(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Z;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,_){const A=Ce.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ce=new I(()=>new Ae,c=>c.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,H=!1,Z=new ee,re=()=>{const c=a.Promise.resolve(void 0);ce=()=>{c.then(pe)}};var pe=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(_){N(_)}var p=Ce;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}H=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return c}();function Lt(c,p){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(x){e:{try{C(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Lt.aa.h.call(this)}}g(Lt,ae);var dr={2:"touch",3:"pen",4:"mouse"};Lt.prototype.h=function(){Lt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),Ey=0;function Uh(c,p,_,A,M){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=M,this.key=++Ey,this.da=this.fa=!1}function Lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function On(c){this.src=c,this.g={},this.h=0}On.prototype.add=function(c,p,_,A,M){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var G=_t(c,p,A,M);return-1<G?(p=c[G],_||(p.fa=!1)):(p=new Uh(p,this.src,$,!!A,M),p.fa=_,c.push(p)),p};function Fe(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],M=Array.prototype.indexOf.call(A,p,void 0),$;($=0<=M)&&Array.prototype.splice.call(A,M,1),$&&(Lr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _t(c,p,_,A){for(var M=0;M<c.length;++M){var $=c[M];if(!$.da&&$.listener==p&&$.capture==!!_&&$.ha==A)return M}return-1}var an="closure_lm_"+(1e6*Math.random()|0),ns={};function gi(c,p,_,A,M){if(Array.isArray(p)){for(var $=0;$<p.length;$++)gi(c,p[$],_,A,M);return null}return _=IT(_),c&&c[hr]?c.K(p,_,u(A)?!!A.capture:!!A,M):rs(c,p,_,!1,A,M)}function rs(c,p,_,A,M,$){if(!p)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Le=Iy(c);if(Le||(c[an]=Le=new On(c)),_=Le.add(p,_,A,G,$),_.proxy)return _;if(A=fr(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)yt||(M=G),M===void 0&&(M=!1),c.addEventListener(p.toString(),A,M);else if(c.attachEvent)c.attachEvent(ET(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fr(){function c(_){return p.call(c.src,c.listener,_)}const p=gV;return c}function Vr(c,p,_,A,M){if(Array.isArray(p))for(var $=0;$<p.length;$++)Vr(c,p[$],_,A,M);else A=u(A)?!!A.capture:!!A,_=IT(_),c&&c[hr]?(c=c.i,p=String(p).toString(),p in c.g&&($=c.g[p],_=_t($,_,A,M),-1<_&&(Lr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[p],c.h--)))):c&&(c=Iy(c))&&(p=c.g[p.toString()],c=-1,p&&(c=_t(p,_,A,M)),(_=-1<c?p[c]:null)&&po(_))}function po(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[hr])Fe(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(ET(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Iy(p))?(Fe(_,c),_.h==0&&(_.src=null,p[an]=null)):Lr(c)}}}function ET(c){return c in ns?ns[c]:ns[c]="on"+c}function gV(c,p){if(c.da)c=!0;else{p=new Lt(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&po(c),c=_.call(A,p)}return c}function Iy(c){return c=c[an],c instanceof On?c:null}var Ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function IT(c){return typeof c=="function"?c:(c[Ty]||(c[Ty]=function(p){return c.handleEvent(p)}),c[Ty])}function qt(){de.call(this),this.i=new On(this),this.M=this,this.F=null}g(qt,de),qt.prototype[hr]=!0,qt.prototype.removeEventListener=function(c,p,_,A){Vr(this,c,p,_,A)};function ln(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ae(p,c);else if(p instanceof ae)p.target=p.target||c;else{var M=p;p=new ae(A,c),y(p,M)}if(M=!0,_)for(var $=_.length-1;0<=$;$--){var G=p.g=_[$];M=$h(G,A,!0,p)&&M}if(G=p.g=c,M=$h(G,A,!0,p)&&M,M=$h(G,A,!1,p)&&M,_)for($=0;$<_.length;$++)G=p.g=_[$],M=$h(G,A,!1,p)&&M}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)Lr(_[A]);delete c.g[p],c.h--}}this.F=null},qt.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},qt.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function $h(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,$=0;$<p.length;++$){var G=p[$];if(G&&!G.da&&G.capture==_){var Le=G.listener,Vt=G.ha||G.src;G.fa&&Fe(c.i,G),M=Le.call(Vt,A)!==!1&&M}}return M&&!A.defaultPrevented}function TT(c,p,_){if(typeof c=="function")_&&(c=f(c,_));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function ST(c){c.g=TT(()=>{c.g=null,c.i&&(c.i=!1,ST(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class yV extends de{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ST(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Au(c){de.call(this),this.h=c,this.g={}}g(Au,de);var bT=[];function AT(c){D(c.g,function(p,_){this.g.hasOwnProperty(_)&&po(p)},c),c.g={}}Au.prototype.N=function(){Au.aa.N.call(this),AT(this)},Au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sy=a.JSON.stringify,_V=a.JSON.parse,vV=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function by(){}by.prototype.h=null;function RT(c){return c.h||(c.h=c.i())}function PT(){}var Ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ay(){ae.call(this,"d")}g(Ay,ae);function Ry(){ae.call(this,"c")}g(Ry,ae);var mo={},CT=null;function jh(){return CT=CT||new qt}mo.La="serverreachability";function kT(c){ae.call(this,mo.La,c)}g(kT,ae);function Pu(c){const p=jh();ln(p,new kT(p))}mo.STAT_EVENT="statevent";function xT(c,p){ae.call(this,mo.STAT_EVENT,c),this.stat=p}g(xT,ae);function un(c){const p=jh();ln(p,new xT(p,c))}mo.Ma="timingevent";function OT(c,p){ae.call(this,mo.Ma,c),this.size=p}g(OT,ae);function Cu(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ku(){this.g=!0}ku.prototype.xa=function(){this.g=!1};function wV(c,p,_,A,M,$){c.info(function(){if(c.g)if($)for(var G="",Le=$.split("&"),Vt=0;Vt<Le.length;Vt++){var Se=Le[Vt].split("=");if(1<Se.length){var Ht=Se[0];Se=Se[1];var Kt=Ht.split("_");G=2<=Kt.length&&Kt[1]=="type"?G+(Ht+"="+Se+"&"):G+(Ht+"=redacted&")}}else G=null;else G=$;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+_+`
`+G})}function EV(c,p,_,A,M,$,G){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+_+`
`+$+" "+G})}function Ia(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+TV(c,_)+(A?" "+A:"")})}function IV(c,p){c.info(function(){return"TIMEOUT: "+p})}ku.prototype.info=function(){};function TV(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Sy(_)}catch{return p}}var Bh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Py;function zh(){}g(zh,by),zh.prototype.g=function(){return new XMLHttpRequest},zh.prototype.i=function(){return{}},Py=new zh;function is(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new Au(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DT}function DT(){this.i=null,this.g="",this.h=!1}var LT={},Cy={};function ky(c,p,_){c.L=1,c.v=Kh(yi(p)),c.m=_,c.P=!0,VT(c,null)}function VT(c,p){c.F=Date.now(),Wh(c),c.A=yi(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),YT(_.i,"t",A),c.C=0,_=c.j.J,c.h=new DT,c.g=pS(c.j,_?p:null,!c.m),0<c.O&&(c.M=new yV(f(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(bT[0]=M.toString()),M=bT);for(var $=0;$<M.length;$++){var G=gi(_,M[$],A||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Pu(),wV(c.i,c.u,c.A,c.l,c.R,c.m)}is.prototype.ca=function(c){c=c.target;const p=this.M;p&&_i(c)==3?p.j():this.Y(c)},is.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=_i(this.g);var p=this.g.Ba();const ba=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||rS(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=ba?Pu(3):Pu(2)),xy(this);var _=this.g.Z();this.X=_;t:if(MT(this)){var A=rS(this.g);c="";var M=A.length,$=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){go(this),xu(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!($&&p==M-1)});A.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,EV(this.i,this.u,this.A,this.l,this.R,Kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Vt=this.g;if((Le=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Le)){var Se=Le;break t}}Se=null}if(_=Se)Ia(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,_);else{this.o=!1,this.s=3,un(12),go(this),xu(this);break e}}if(this.P){_=!0;let pr;for(;!this.J&&this.C<G.length;)if(pr=SV(this,G),pr==Cy){Kt==4&&(this.s=4,un(14),_=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==LT){this.s=4,un(15),Ia(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else Ia(this.i,this.l,pr,null),Oy(this,pr);if(MT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||G.length!=0||this.h.h||(this.s=1,un(16),_=!1),this.o=this.o&&_,!_)Ia(this.i,this.l,G,"[Invalid Chunked Response]"),go(this),xu(this);else if(0<G.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Fy(Ht),Ht.M=!0,un(11))}}else Ia(this.i,this.l,G,null),Oy(this,G);Kt==4&&go(this),this.o&&!this.J&&(Kt==4?cS(this.j,this):(this.o=!1,Wh(this)))}else jV(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),go(this),xu(this)}}}catch{}finally{}};function MT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function SV(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Cy:(_=Number(p.substring(_,A)),isNaN(_)?LT:(A+=1,A+_>p.length?Cy:(p=p.slice(A,A+_),c.C=A+_,p)))}is.prototype.cancel=function(){this.J=!0,go(this)};function Wh(c){c.S=Date.now()+c.I,FT(c,c.I)}function FT(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cu(f(c.ba,c),p)}function xy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}is.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(IV(this.i,this.A),this.L!=2&&(Pu(),un(17)),go(this),this.s=2,xu(this)):FT(this,this.S-c)};function xu(c){c.j.G==0||c.J||cS(c.j,c)}function go(c){xy(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,AT(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Oy(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Ny(_.h,c))){if(!c.K&&Ny(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Zh(_),Jh(_);else break e;My(_),un(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=Cu(f(_.Za,_),6e3));if(1>=jT(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _o(_,11)}else if((c.K||_.g==c)&&Zh(_),!w(p))for(M=_.Da.g.parse(p),p=0;p<M.length;p++){let Se=M[p];if(_.T=Se[0],Se=Se[1],_.G==2)if(Se[0]=="c"){_.K=Se[1],_.ia=Se[2];const Ht=Se[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Kt=Se[4];Kt!=null&&(_.Aa=Kt,_.j.info("SVER="+_.Aa));const ba=Se[5];ba!=null&&typeof ba=="number"&&0<ba&&(A=1.5*ba,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const pr=c.g;if(pr){const tf=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tf){var $=A.h;$.g||tf.indexOf("spdy")==-1&&tf.indexOf("quic")==-1&&tf.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Dy($,$.h),$.h=null))}if(A.D){const Uy=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uy&&(A.ya=Uy,Be(A.I,A.D,Uy))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var G=c;if(A.qa=fS(A,A.J?A.ia:null,A.W),G.K){BT(A.h,G);var Le=G,Vt=A.L;Vt&&(Le.I=Vt),Le.B&&(xy(Le),Wh(Le)),A.g=G}else lS(A);0<_.i.length&&Xh(_)}else Se[0]!="stop"&&Se[0]!="close"||_o(_,7);else _.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?_o(_,7):Vy(_):Se[0]!="noop"&&_.l&&_.l.ta(Se),_.v=0)}}Pu(4)}catch{}}var bV=class{constructor(c,p){this.g=c,this.map=p}};function UT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $T(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jT(c){return c.h?1:c.g?c.g.size:0}function Ny(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Dy(c,p){c.g?c.g.add(p):c.h=p}function BT(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}UT.prototype.cancel=function(){if(this.i=zT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return v(c.i)}function AV(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function RV(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function WT(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=RV(c),A=AV(c),M=A.length,$=0;$<M;$++)p.call(void 0,A[$],_&&_[$],c)}var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PV(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),M=null;if(0<=A){var $=c[_].substring(0,A);M=c[_].substring(A+1)}else $=c[_];p($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yo){this.h=c.h,qh(this,c.j),this.o=c.o,this.g=c.g,Hh(this,c.s),this.l=c.l;var p=c.i,_=new Du;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),HT(this,_),this.m=c.m}else c&&(p=String(c).match(qT))?(this.h=!1,qh(this,p[1]||"",!0),this.o=Ou(p[2]||""),this.g=Ou(p[3]||"",!0),Hh(this,p[4]),this.l=Ou(p[5]||"",!0),HT(this,p[6]||"",!0),this.m=Ou(p[7]||"")):(this.h=!1,this.i=new Du(null,this.h))}yo.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Nu(p,KT,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Nu(p,KT,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nu(_,_.charAt(0)=="/"?xV:kV,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nu(_,NV)),c.join("")};function yi(c){return new yo(c)}function qh(c,p,_){c.j=_?Ou(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Hh(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function HT(c,p,_){p instanceof Du?(c.i=p,DV(c.i,c.h)):(_||(p=Nu(p,OV)),c.i=new Du(p,c.h))}function Be(c,p,_){c.i.set(p,_)}function Kh(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ou(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nu(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,CV),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function CV(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var KT=/[#\/\?@]/g,kV=/[#\?:]/g,xV=/[#\?]/g,OV=/[#\?@]/g,NV=/#/g;function Du(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ss(c){c.g||(c.g=new Map,c.h=0,c.i&&PV(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Du.prototype,t.add=function(c,p){ss(this),this.i=null,c=Ta(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function GT(c,p){ss(c),p=Ta(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function QT(c,p){return ss(c),p=Ta(c,p),c.g.has(p)}t.forEach=function(c,p){ss(this),this.g.forEach(function(_,A){_.forEach(function(M){c.call(p,M,A,this)},this)},this)},t.na=function(){ss(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const M=c[A];for(let $=0;$<M.length;$++)_.push(p[A])}return _},t.V=function(c){ss(this);let p=[];if(typeof c=="string")QT(this,c)&&(p=p.concat(this.g.get(Ta(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},t.set=function(c,p){return ss(this),this.i=null,c=Ta(this,c),QT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function YT(c,p,_){GT(c,p),0<_.length&&(c.i=null,c.g.set(Ta(c,p),v(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const $=encodeURIComponent(String(A)),G=this.V(A);for(A=0;A<G.length;A++){var M=$;G[A]!==""&&(M+="="+encodeURIComponent(String(G[A]))),c.push(M)}}return this.i=c.join("&")};function Ta(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function DV(c,p){p&&!c.j&&(ss(c),c.i=null,c.g.forEach(function(_,A){var M=A.toLowerCase();A!=M&&(GT(this,A),YT(this,M,_))},c)),c.j=p}function LV(c,p){const _=new ku;if(a.Image){const A=new Image;A.onload=m(os,_,"TestLoadImage: loaded",!0,p,A),A.onerror=m(os,_,"TestLoadImage: error",!1,p,A),A.onabort=m(os,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=m(os,_,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function VV(c,p){const _=new ku,A=new AbortController,M=setTimeout(()=>{A.abort(),os(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(M),$.ok?os(_,"TestPingServer: ok",!0,p):os(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),os(_,"TestPingServer: error",!1,p)})}function os(c,p,_,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(_)}catch{}}function MV(){this.g=new vV}function FV(c,p,_){const A=_||"";try{WT(c,function(M,$){let G=M;u(M)&&(G=Sy(M)),p.push(A+$+"="+encodeURIComponent(G))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function Gh(c){this.l=c.Ub||null,this.j=c.eb||!1}g(Gh,by),Gh.prototype.g=function(){return new Qh(this.l,this.j)},Gh.prototype.i=function(c){return function(){return c}}({});function Qh(c,p){qt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Qh,qt),t=Qh.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Vu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lu(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vu(this)),this.g&&(this.readyState=3,Vu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;JT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function JT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Lu(this):Vu(this),this.readyState==3&&JT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Lu(this))},t.Qa=function(c){this.g&&(this.response=c,Lu(this))},t.ga=function(){this.g&&Lu(this)};function Lu(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vu(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Vu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function XT(c){let p="";return D(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ly(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=XT(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,p,_))}function rt(c){qt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(rt,qt);var UV=/^https?$/i,$V=["POST","PUT"];t=rt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Py.g(),this.v=this.o?RT(this.o):RT(Py),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch($){ZT(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)_.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($V,p,void 0))||A||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,G]of _)this.g.setRequestHeader($,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nS(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ZT(this,$)}};function ZT(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,eS(c),Yh(c)}function eS(c){c.A||(c.A=!0,ln(c,"complete"),ln(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ln(this,"complete"),ln(this,"abort"),Yh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yh(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tS(this):this.bb())},t.bb=function(){tS(this)};function tS(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_i(c)!=4||c.Z()!=2)){if(c.u&&_i(c)==4)TT(c.Ea,0,c);else if(ln(c,"readystatechange"),_i(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=G===0){var M=String(c.D).match(qT)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!UV.test(M?M.toLowerCase():"")}_=A}if(_)ln(c,"complete"),ln(c,"success");else{c.m=6;try{var $=2<_i(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",eS(c)}}finally{Yh(c)}}}}function Yh(c,p){if(c.g){nS(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ln(c,"ready");try{_.onreadystatechange=A}catch{}}}function nS(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _i(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),_V(p)}};function rS(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jV(c){const p={};c=(c.g&&2<=_i(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var _=k(c[A]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=p[M]||[];p[M]=$,$.push(_)}b(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mu(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function iS(c){this.Aa=0,this.i=[],this.j=new ku,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mu("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mu("baseRetryDelayMs",5e3,c),this.cb=Mu("retryDelaySeedMs",1e4,c),this.Wa=Mu("forwardChannelMaxRetries",2,c),this.wa=Mu("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new UT(c&&c.concurrentRequestLimit),this.Da=new MV,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iS.prototype,t.la=8,t.G=1,t.connect=function(c,p,_,A){un(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=fS(this,null,this.W),Xh(this)};function Vy(c){if(sS(c),c.G==3){var p=c.U++,_=yi(c.I);if(Be(_,"SID",c.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),Fu(c,_),p=new is(c,c.j,p),p.L=2,p.v=Kh(yi(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=pS(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Wh(p)}hS(c)}function Jh(c){c.g&&(Fy(c),c.g.cancel(),c.g=null)}function sS(c){Jh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xh(c){if(!$T(c.h)&&!c.s){c.s=!0;var p=c.Ga;ce||re(),H||(ce(),H=!0),Z.add(p,c),c.B=0}}function BV(c,p){return jT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cu(f(c.Ga,c,p),dS(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new is(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),y($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=aS(this,M,p),_=yi(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Fu(this,_),$&&(this.O?p="headers="+encodeURIComponent(String(XT($)))+"&"+p:this.m&&Ly(_,this.m,$)),Dy(this.h,M),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),M.T=!0,ky(M,_,null)):ky(M,_,p),this.G=2}}else this.G==3&&(c?oS(this,c):this.i.length==0||$T(this.h)||oS(this))};function oS(c,p){var _;p?_=p.l:_=c.U++;const A=yi(c.I);Be(A,"SID",c.K),Be(A,"RID",_),Be(A,"AID",c.T),Fu(c,A),c.m&&c.o&&Ly(A,c.m,c.o),_=new is(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=aS(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Dy(c.h,_),ky(_,A,p)}function Fu(c,p){c.H&&D(c.H,function(_,A){Be(p,A,_)}),c.l&&WT({},function(_,A){Be(p,A,_)})}function aS(c,p,_){_=Math.min(c.i.length,_);var A=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let $=-1;for(;;){const G=["count="+_];$==-1?0<_?($=M[0].g,G.push("ofs="+$)):$=0:G.push("ofs="+$);let Le=!0;for(let Vt=0;Vt<_;Vt++){let Se=M[Vt].g;const Ht=M[Vt].map;if(Se-=$,0>Se)$=Math.max(0,M[Vt].g-100),Le=!1;else try{FV(Ht,G,"req"+Se+"_")}catch{A&&A(Ht)}}if(Le){A=G.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function lS(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ce||re(),H||(ce(),H=!0),Z.add(p,c),c.v=0}}function My(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cu(f(c.Fa,c),dS(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cu(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),Jh(this),uS(this))};function Fy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uS(c){c.g=new is(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=yi(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),Fu(c,p),c.m&&c.o&&Ly(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Kh(yi(p)),_.m=null,_.P=!0,VT(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Jh(this),My(this),un(19))};function Zh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function cS(c,p){var _=null;if(c.g==p){Zh(c),Fy(c),c.g=null;var A=2}else if(Ny(c.h,p))_=p.D,BT(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;A=jh(),ln(A,new OT(A,_)),Xh(c)}else lS(c);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&BV(c,p)||A==2&&My(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),M){case 1:_o(c,5);break;case 4:_o(c,10);break;case 3:_o(c,6);break;default:_o(c,2)}}}function dS(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function _o(c,p){if(c.j.info("Error code "+p),p==2){var _=f(c.fb,c),A=c.Xa;const M=!A;A=new yo(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qh(A,"https"),Kh(A),M?LV(A.toString(),_):VV(A.toString(),_)}else un(2);c.G=0,c.l&&c.l.sa(p),hS(c),sS(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function hS(c){if(c.G=0,c.ka=[],c.l){const p=zT(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function fS(c,p,_){var A=_ instanceof yo?yi(_):new yo(_);if(A.g!="")p&&(A.g=p+"."+A.g),Hh(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var $=new yo(null);A&&qh($,A),p&&($.g=p),M&&Hh($,M),_&&($.l=_),A=$}return _=c.D,p=c.ya,_&&p&&Be(A,_,p),Be(A,"VER",c.la),Fu(c,A),A}function pS(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new rt(new Gh({eb:_})):new rt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mS(){}t=mS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ef(){}ef.prototype.g=function(c,p){return new Nn(c,p)};function Nn(c,p){qt.call(this),this.g=new iS(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Sa(this)}g(Nn,qt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Vy(this.g)},Nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Sy(c),c=_);p.i.push(new bV(p.Ya++,c)),p.G==3&&Xh(p)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,Nn.aa.N.call(this)};function gS(c){Ay.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}g(gS,Ay);function yS(){Ry.call(this),this.status=1}g(yS,Ry);function Sa(c){this.g=c}g(Sa,mS),Sa.prototype.ua=function(){ln(this.g,"a")},Sa.prototype.ta=function(c){ln(this.g,new gS(c))},Sa.prototype.sa=function(c){ln(this.g,new yS)},Sa.prototype.ra=function(){ln(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,IN=function(){return new ef},EN=function(){return jh()},wN=mo,mw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bh.NO_ERROR=0,Bh.TIMEOUT=8,Bh.HTTP_ERROR=6,hp=Bh,NT.COMPLETE="complete",vN=NT,PT.EventType=Ru,Ru.OPEN="a",Ru.CLOSE="b",Ru.ERROR="c",Ru.MESSAGE="d",qt.prototype.listen=qt.prototype.K,vc=PT,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,_N=rt}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});const lA="@firebase/firestore",uA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new hh("@firebase/firestore");function za(){return Hs.logLevel}function Wq(t){Hs.setLogLevel(t)}function z(t,...e){if(Hs.logLevel<=fe.DEBUG){const n=e.map(qE);Hs.debug(`Firestore (${mu}): ${t}`,...n)}}function dt(t,...e){if(Hs.logLevel<=fe.ERROR){const n=e.map(qE);Hs.error(`Firestore (${mu}): ${t}`,...n)}}function Hn(t,...e){if(Hs.logLevel<=fe.WARN){const n=e.map(qE);Hs.warn(`Firestore (${mu}): ${t}`,...n)}}function qE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TN(t,r,n)}function TN(t,e,n){let r=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dt(r),new Error(r)}function X(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TN(e,i,r)}function qq(t,e){t||Y(57014,e)}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class Kq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gq{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){X(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string",31837,{l:r}),new SN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class Qq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Qq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ee(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){X(this.o===void 0,3512);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Xq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function gw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{const s=HE(),o=Zq(s.encode(dA(t,n)),s.encode(dA(e,n)));return o!==0?o:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function dA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Zq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function Ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function bN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__name__";class jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=jr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=jr.isNumericId(e),i=jr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jr.extractNumericId(e).compare(jr.extractNumericId(n)):gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ge extends jr{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const e7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends jr{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return e7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hA}static keyField(){return new Qe([hA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ge.fromString(e))}static fromName(e){return new K(ge.fromString(e).popFirst(5))}static empty(){return new K(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e,n){if(!n)throw new B(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AN(t,e,n,r){if(e===!0&&r===!0)throw new B(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fA(t){if(!K.isDocumentKey(t))throw new B(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pA(t){if(K.isDocumentKey(t))throw new B(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new B(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function PN(t,e){if(e<=0)throw new B(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){const n={typeString:t};return e&&(n.value=e),n}function yh(t,e){if(!RN(t))throw new B(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new B(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=-62135596800,gA=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gA);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mA)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gA}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yh(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:St("string",ke._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new ke(0,0))}static max(){return new te(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;class ym{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function yw(t){return t.fields.find(e=>e.kind===2)}function bo(t){return t.fields.filter(e=>e.kind!==2)}ym.UNKNOWN_ID=-1;class fp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ad{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ad(0,Kn.min())}}function CN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Kn(i,K.empty(),e)}function kN(t){return new Kn(t.readTime,t.key,Vl)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(te.min(),K.empty(),Vl)}static max(){return new Kn(te.max(),K.empty(),Vl)}}function QE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==xN)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="SimpleDb";class Ug{static open(e,n,r,i){try{return new Ug(n,e.transaction(i,r))}catch(s){throw new $c(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Bt,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new $c(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=YE(r.target.error);this.S.reject(new $c(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(z(Ln,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new n7(n)}}class ai{static delete(e){return z(Ln,"Removing database:",e),Po(RE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Id())return!1;if(ai.F())return!0;const e=ve(),n=ai.M(e),r=0<n&&n<10,i=NN(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,ai.M(ve())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(z(Ln,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new $c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new B(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new B(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new $c(e,o))},i.onupgradeneeded=s=>{z(Ln,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,i.transaction,s.oldVersion,this.version).next(()=>{z(Ln,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(Hn('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=Ug.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.v(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(z(Ln,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function NN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class t7{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Po(this.$.delete())}}class $c extends B{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function lo(t){return t.name==="IndexedDbTransactionError"}class n7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z(Ln,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(z(Ln,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Po(r)}add(e){return z(Ln,"ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(n=>(n===void 0&&(n=null),z(Ln,"GET",this.store.name,e,n),n))}delete(e){return z(Ln,"DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return z(Ln,"COUNT",this.store.name),Po(this.store.count())}j(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new V((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.J(s,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){z(Ln,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const i=this.cursor(r);return this.J(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}ee(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=s=>{const o=YE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new t7(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const d=u.catch(h=>(l.done(),V.reject(h)));r.push(d)}l.isDone?i():l.W===null?a.continue():a.continue(l.W)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Po(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=YE(r.target.error);n(i)}})}let yA=!1;function YE(t){const e=ai.M(ve());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yA||(yA=!0,setTimeout(()=>{throw r},0)),r}}return t}const jc="IndexBackfiller";class r7{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){z(jc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();z(jc,`Documents written: ${n}`)}catch(n){lo(n)?z(jc,"Ignoring IndexedDB error during index backfill: ",n):await ao(n)}await this.ne(6e4)})}}class i7{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let i=n,s=!0;return V.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z(jc,`Processing collection: ${o}`),this.se(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.oe(i,s)).next(a=>(z(jc,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}oe(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=kN(s);QE(o,r)>0&&(r=o)}),new Kn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Tn.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=-1;function _h(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function DN(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="";function rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_A(e)),e=s7(t.get(n),e);return _A(e)}function s7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _m:n+="";break;default:n+=s}}return n}function _A(t){return t+_m+""}function Zr(t){const e=t.length;if(X(e>=2,64408,{path:t}),e===2)return X(t.charAt(0)===_m&&t.charAt(1)==="",56145,{path:t}),ge.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf(_m,s);switch((o<0||o>n)&&Y(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Y(61167,{path:t})}s=o+2}return new ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="remoteDocuments",vh="owner",Oa="owner",Pd="mutationQueues",o7="userId",wr="mutations",vA="batchId",Mo="userMutationsIndex",wA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e){return[t,rn(e)]}function LN(t,e,n){return[t,rn(e),n]}const a7={},Ml="documentMutations",vm="remoteDocumentsV14",l7=["prefixPath","collectionGroup","readTime","documentId"],mp="documentKeyIndex",u7=["prefixPath","collectionGroup","documentId"],VN="collectionGroupIndex",c7=["collectionGroup","readTime","prefixPath","documentId"],Cd="remoteDocumentGlobal",_w="remoteDocumentGlobalKey",Fl="targets",MN="queryTargetsIndex",d7=["canonicalId","targetId"],Ul="targetDocuments",h7=["targetId","path"],JE="documentTargetsIndex",f7=["path","targetId"],wm="targetGlobalKey",Wo="targetGlobal",kd="collectionParents",p7=["collectionId","parent"],$l="clientMetadata",m7="clientId",$g="bundles",g7="bundleId",jg="namedQueries",y7="name",XE="indexConfiguration",_7="indexId",vw="collectionGroupIndex",v7="collectionGroup",Bc="indexState",w7=["indexId","uid"],FN="sequenceNumberIndex",E7=["uid","sequenceNumber"],zc="indexEntries",I7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UN="documentKeyIndex",T7=["indexId","uid","orderedDocumentKey"],Bg="documentOverlays",S7=["userId","collectionPath","documentId"],ww="collectionPathOverlayIndex",b7=["userId","collectionPath","largestBatchId"],$N="collectionGroupOverlayIndex",A7=["userId","collectionGroup","largestBatchId"],ZE="globals",R7="name",jN=[Pd,wr,Ml,Ao,Fl,vh,Wo,Ul,$l,Cd,kd,$g,jg],P7=[...jN,Bg],BN=[Pd,wr,Ml,vm,Fl,vh,Wo,Ul,$l,Cd,kd,$g,jg,Bg],zN=BN,eI=[...zN,XE,Bc,zc],C7=eI,WN=[...eI,ZE],k7=WN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends ON{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function Pt(t,e){const n=Q(t);return ai.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IA(this.data.getIterator())}getIteratorFrom(e){return new IA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class IA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Na(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new De(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HN("Invalid base64 string: "+s):s}}(e);return new at(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const O7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(X(!!t,39018),typeof t=="string"){let e=0;const n=O7.exec(t);if(X(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="server_timestamp",GN="__type__",QN="__previous_value__",YN="__local_write_time__";function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GN])===null||n===void 0?void 0:n.stringValue)===KN}function Wg(t){const e=t.mapValue.fields[QN];return zg(e)?Wg(e):e}function xd(t){const e=Wi(t.mapValue.fields[YN].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Iw="(default)";class Ks{constructor(e,n){this.projectId=e,this.database=n||Iw}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database===Iw}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="__type__",JN="__max__",Ts={mapValue:{fields:{__type__:{stringValue:JN}}}},nI="__vector__",jl="value",gp={nullValue:"NULL_VALUE"};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:XN(t)?9007199254740991:qg(t)?10:11:Y(28295,{value:t})}function di(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wi(i.timestampValue),a=Wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?Rd(o)===Rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(EA(o)!==EA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!di(o[l],a[l])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Od(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Qs(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ke(s.integerValue||s.doubleValue),l=Ke(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return TA(t.timestampValue,e.timestampValue);case 4:return TA(xd(t),xd(e));case 5:return gw(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qi(s),l=qi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=oe(a[u],l[u]);if(d!==0)return d}return oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Ke(s.latitude),Ke(o.latitude));return a!==0?a:oe(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h[jl])===null||a===void 0?void 0:a.arrayValue,g=(l=f[jl])===null||l===void 0?void 0:l.arrayValue,v=oe(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:SA(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ts.mapValue&&o===Ts.mapValue)return 0;if(s===Ts.mapValue)return 1;if(o===Ts.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=gw(l[h],d[h]);if(f!==0)return f;const m=Qs(a[l[h]],u[d[h]]);if(m!==0)return m}return oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{le:n})}}function TA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Wi(t),r=Wi(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function SA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Qs(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Bl(t){return Tw(t)}function Tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tw(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function yp(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wg(t);return e?16+yp(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+yp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return uo(r.fields,(s,o)=>{i+=s.length+yp(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function ea(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sw(t){return!!t&&"integerValue"in t}function Nd(t){return!!t&&"arrayValue"in t}function bA(t){return!!t&&"nullValue"in t}function AA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _p(t){return!!t&&"mapValue"in t}function qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tI])===null||n===void 0?void 0:n.stringValue)===nI}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}const ZN={mapValue:{fields:{[tI]:{stringValue:nI},[jl]:{arrayValue:{}}}}};function D7(t){return"nullValue"in t?gp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ea(Ks.empty(),K.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?qg(t)?ZN:{mapValue:{}}:Y(35942,{value:t})}function L7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ea(Ks.empty(),K.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?ZN:"mapValue"in t?qg(t)?{mapValue:{}}:Ts:Y(61959,{value:t})}function RA(t,e){const n=Qs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PA(t,e){const n=Qs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Wc(this.value))}}function eD(t){const e=[];return uo(t.fields,(n,r)=>{const i=new Qe([n]);if(_p(r)){const s=eD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new We(e,0,te.min(),te.min(),te.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new We(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new We(e,2,n,te.min(),te.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,te.min(),te.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.position=e,this.inclusive=n}}function CA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Qs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function V7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class _e extends tD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M7(e,n,r):n==="array-contains"?new $7(e,r):n==="in"?new aD(e,r):n==="not-in"?new j7(e,r):n==="array-contains-any"?new B7(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F7(e,r):new U7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qs(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oe extends tD{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Oe(e,n)}matches(e){return zl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zl(t){return t.op==="and"}function bw(t){return t.op==="or"}function rI(t){return nD(t)&&zl(t)}function nD(t){for(const e of t.filters)if(e instanceof Oe)return!1;return!0}function Aw(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(rI(t))return t.filters.map(e=>Aw(e)).join(",");{const e=t.filters.map(n=>Aw(n)).join(",");return`${t.op}(${e})`}}function rD(t,e){return t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rD(o,i.filters[a]),!0):!1}(t,e):void Y(19439)}function iD(t,e){const n=t.filters.concat(e);return Oe.create(n,t.op)}function sD(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(sD).join(" ,")+"}"}(t):"Filter"}class M7 extends _e{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class F7 extends _e{constructor(e,n){super(e,"in",n),this.keys=oD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U7 extends _e{constructor(e,n){super(e,"not-in",n),this.keys=oD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class $7 extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nd(n)&&Od(n.arrayValue,this.value)}}class aD extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}}class j7 extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Od(this.value.arrayValue,n)}}class B7 extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function Rw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new z7(t,e,n,r,i,s,o)}function ta(t){const e=Q(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Aw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.Pe=n}return e.Pe}function wh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kA(t.startAt,e.startAt)&&kA(t.endAt,e.endAt)}function Em(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Im(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function xA(t,e,n){let r=gp,i=!0;for(const s of Im(t,e)){let o=gp,a=!0;switch(s.op){case"<":case"<=":o=D7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=gp}RA({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];RA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function OA(t,e,n){let r=Ts,i=!0;for(const s of Im(t,e)){let o=Ts,a=!0;switch(s.op){case">=":case">":o=L7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ts}PA({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lD(t,e,n,r,i,s,o,a){return new Yi(t,e,n,r,i,s,o,a)}function gu(t){return new Yi(t)}function NA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iI(t){return t.collectionGroup!==null}function yl(t){const e=Q(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new De(Qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Dd(s,r))}),n.has(Qe.keyField().canonicalString())||e.Te.push(new Dd(Qe.keyField(),r))}return e.Te}function gn(t){const e=Q(t);return e.Ie||(e.Ie=W7(e,yl(t))),e.Ie}function W7(t,e){if(t.limitType==="F")return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dd(i.field,s)});const n=t.endAt?new Ys(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ys(t.startAt.position,t.startAt.inclusive):null;return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pw(t,e){const n=t.filters.concat([e]);return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tm(t,e,n){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return wh(gn(t),gn(e))&&t.limitType===e.limitType}function uD(t){return`${ta(gn(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sD(i)).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of yl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=CA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,yl(r),i)||r.endAt&&!function(o,a,l){const u=CA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,yl(r),i))}(t,e)}function cD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dD(t){return(e,n)=>{let r=!1;for(const i of yl(t)){const s=q7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function q7(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Qs(l,u):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new je(K.comparator);function bn(){return H7}const hD=new je(K.comparator);function wc(...t){let e=hD;for(const n of t)e=e.insert(n.key,n);return e}function fD(t){let e=hD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return qc()}function pD(){return qc()}function qc(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const K7=new je(K.comparator),G7=new De(K.comparator);function ue(...t){let e=G7;for(const n of t)e=e.add(n);return e}const Q7=new De(oe);function sI(){return Q7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function mD(t){return{integerValue:""+t}}function gD(t,e){return DN(e)?mD(e):oI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function Y7(t,e,n){return t instanceof Wl?function(i,s){const o={fields:{[GN]:{stringValue:KN},[YN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zg(s)&&(s=Wg(s)),s&&(o.fields[QN]=s),{mapValue:o}}(n,e):t instanceof na?_D(t,e):t instanceof ra?vD(t,e):function(i,s){const o=yD(i,s),a=DA(o)+DA(i.Ee);return Sw(o)&&Sw(i.Ee)?mD(a):oI(i.serializer,a)}(t,e)}function J7(t,e,n){return t instanceof na?_D(t,e):t instanceof ra?vD(t,e):n}function yD(t,e){return t instanceof ql?function(r){return Sw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wl extends Hg{}class na extends Hg{constructor(e){super(),this.elements=e}}function _D(t,e){const n=wD(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class ra extends Hg{constructor(e){super(),this.elements=e}}function vD(t,e){let n=wD(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class ql extends Hg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function DA(t){return Ke(t.integerValue||t.doubleValue)}function wD(t){return Nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.field=e,this.transform=n}}function X7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof na&&i instanceof na||r instanceof ra&&i instanceof ra?Ll(r.elements,i.elements,di):r instanceof ql&&i instanceof ql?di(r.Ee,i.Ee):r instanceof Wl&&i instanceof Wl}(t.transform,e.transform)}class Z7{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function ED(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _u(t.key,Ye.none()):new yu(t.key,t.data,Ye.none());{const n=t.data,r=$t.empty();let i=new De(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(t.key,r,new Sn(i.toArray()),Ye.none())}}function eH(t,e,n){t instanceof yu?function(i,s,o){const a=i.value.clone(),l=VA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,s,o){if(!vp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=VA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ID(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hc(t,e,n,r){return t instanceof yu?function(s,o,a,l){if(!vp(s.precondition,o))return a;const u=s.value.clone(),d=MA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(s,o,a,l){if(!vp(s.precondition,o))return a;const u=MA(s.fieldTransforms,l,o),d=o.data;return d.setAll(ID(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return vp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yD(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ll(r,i,(s,o)=>X7(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends Kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends Kg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ID(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VA(t,e,n){const r=new Map;X(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J7(o,a,n[i]))}return r}function MA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Y7(s,o,e))}return r}class _u extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ED(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(n,r)=>LA(n,r))&&Ll(this.baseMutations,e.baseMutations,(n,r)=>LA(n,r))}}class uI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return K7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ie;function TD(t){switch(t){case F.OK:return Y(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function SD(t){if(t===void 0)return dt("GRPC error has no .code"),F.UNKNOWN;switch(t){case wt.OK:return F.OK;case wt.CANCELLED:return F.CANCELLED;case wt.UNKNOWN:return F.UNKNOWN;case wt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case wt.INTERNAL:return F.INTERNAL;case wt.UNAVAILABLE:return F.UNAVAILABLE;case wt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case wt.NOT_FOUND:return F.NOT_FOUND;case wt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case wt.ABORTED:return F.ABORTED;case wt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case wt.DATA_LOSS:return F.DATA_LOSS;default:return Y(39323,{code:t})}}(Ie=wt||(wt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=new Ls([4294967295,4294967295],0);function FA(t){const e=HE().encode(t),n=new yN;return n.update(e),new Uint8Array(n.digest())}function UA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,s],0)]}class dI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ls.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(rH)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=FA(e),[r,i]=UA(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=FA(e),[r,i]=UA(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(te.min(),i,new je(oe),bn(),ue())}}class bh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bh(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class bD{constructor(e,n){this.targetId=e,this.De=n}}class AD{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $A{constructor(){this.ve=0,this.Ce=jA(),this.Fe=at.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new bh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=jA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,X(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class iH{constructor(e){this.We=e,this.Ge=new Map,this.ze=bn(),this.je=xf(),this.Je=xf(),this.He=new je(oe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Em(s))if(r===0){const o=new K(s.path);this.Xe(n,o,We.newNoDocument(o,te.min()))}else X(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qi(r).toUint8Array()}catch(l){if(l instanceof HN)return Hn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dI(o,i,s)}catch(l){return Hn(l instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&Em(a.target)){const l=new K(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,We.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=ue();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Sh(e,n,this.He,this.ze,r);return this.ze=bn(),this.je=xf(),this.Je=xf(),this.He=new je(oe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new $A,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new De(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new De(oe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $A),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function xf(){return new je(K.comparator)}function jA(){return new je(K.comparator)}const sH={asc:"ASCENDING",desc:"DESCENDING"},oH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aH={and:"AND",or:"OR"};class lH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cw(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function Hl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uH(t,e){return Hl(t,e.toTimestamp())}function ht(t){return X(!!t,49232),te.fromTimestamp(function(n){const r=Wi(n);return new ke(r.seconds,r.nanos)}(t))}function hI(t,e){return kw(t,e).canonicalString()}function kw(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PD(t){const e=ge.fromString(t);return X(FD(e),10190,{key:e.toString()}),e}function Ld(t,e){return hI(t.databaseId,e.path)}function li(t,e){const n=PD(e);if(n.get(1)!==t.databaseId.projectId)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(xD(n))}function CD(t,e){return hI(t.databaseId,e)}function kD(t){const e=PD(t);return e.length===4?ge.emptyPath():xD(e)}function xw(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xD(t){return X(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BA(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function OD(t,e,n){const r=li(t,e.name),i=ht(e.updateTime),s=e.createTime?ht(e.createTime):te.min(),o=new $t({mapValue:{fields:e.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function cH(t,e){return"found"in e?function(r,i){X(!!i.found,43571),i.found.name,i.found.updateTime;const s=li(r,i.found.name),o=ht(i.found.updateTime),a=i.found.createTime?ht(i.found.createTime):te.min(),l=new $t({mapValue:{fields:i.found.fields}});return We.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){X(!!i.missing,3894),X(!!i.readTime,22933);const s=li(r,i.missing),o=ht(i.readTime);return We.newNoDocument(s,o)}(t,e):Y(7234,{result:e})}function dH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(X(d===void 0||typeof d=="string",58123),at.fromBase64String(d||"")):(X(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),at.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:SD(u.code);return new B(d,u.message||"")}(o);n=new AD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=li(t,r.document.name),s=ht(r.document.updateTime),o=r.document.createTime?ht(r.document.createTime):te.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=We.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new wp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=li(t,r.document),s=r.readTime?ht(r.readTime):te.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=li(t,r.document),s=r.removedTargetIds||[];n=new wp([],s,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nH(i,s),a=r.targetId;n=new bD(a,o)}}return n}function Vd(t,e){let n;if(e instanceof yu)n={update:BA(t,e.key,e.value)};else if(e instanceof _u)n={delete:Ld(t,e.key)};else if(e instanceof Xi)n={update:BA(t,e.key,e.data),updateMask:yH(e.fieldMask)};else{if(!(e instanceof aI))return Y(16599,{Rt:e.type});n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function Ow(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ye.updateTime(ht(s.updateTime)):s.exists!==void 0?Ye.exists(s.exists):Ye.none()}(e.currentDocument):Ye.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Wl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new na(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new ra(d)}else"increment"in a?l=new ql(o,a.increment):Y(16584,{proto:a});const u=Qe.fromServerFormat(a.fieldPath);return new Th(u,l)}(t,i)):[];if(e.update){e.update.name;const i=li(t,e.update.name),s=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Sn(u.map(d=>Qe.fromServerFormat(d)))}(e.updateMask);return new Xi(i,s,o,n,r)}return new yu(i,s,n,r)}if(e.delete){const i=li(t,e.delete);return new _u(i,n)}if(e.verify){const i=li(t,e.verify);return new aI(i,n)}return Y(1463,{proto:e})}function hH(t,e){return t&&t.length>0?(X(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ht(i.updateTime):ht(s);return o.isEqual(te.min())&&(o=ht(s)),new Z7(o,i.transformResults||[])}(n,e))):[]}function ND(t,e){return{documents:[CD(t,e.path)]}}function DD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CD(t,i);const s=function(u){if(u.length!==0)return MD(Oe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:qa(f.field),direction:pH(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function LD(t){let e=kD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=VD(h);return f instanceof Oe&&rI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Dd(Ha(g.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,_h(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ys(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Ys(m,f)}(n.endAt)),lD(e,i,o,s,a,"F",l,u)}function fH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(n.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ha(n.unaryFilter.field);return _e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ha(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return _e.create(Ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>VD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function pH(t){return sH[t]}function mH(t){return oH[t]}function gH(t){return aH[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Qe.fromServerFormat(t.fieldPath)}function MD(t){return t instanceof _e?function(n){if(n.op==="=="){if(AA(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(bA(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AA(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(bA(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:mH(n.op),value:n.value}}}(t):t instanceof Oe?function(n){const r=n.getFilters().map(i=>MD(i));return r.length===1?r[0]:{compositeFilter:{op:gH(n.op),filters:r}}}(t):Y(54877,{filter:t})}function yH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,i,s=te.min(),o=te.min(),a=at.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.gt=e}}function _H(t,e){let n;if(e.document)n=OD(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=K.fromSegments(e.noDocument.path),i=sa(e.noDocument.readTime);n=We.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Y(56709);{const r=K.fromSegments(e.unknownDocument.path),i=sa(e.unknownDocument.version);n=We.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ke(i[0],i[1]);return te.fromTimestamp(s)}(e.readTime)),n}function zA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ld(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Hl(s,o.version.toTimestamp()),createTime:Hl(s,o.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ia(e.version)};else{if(!e.isUnknownDocument())return Y(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ia(e.version)}}return r}function Sm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ia(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function sa(t){const e=new ke(t.seconds,t.nanoseconds);return te.fromTimestamp(e)}function Co(t,e){const n=(e.baseMutations||[]).map(s=>Ow(t.gt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Ow(t.gt,s)),i=ke.fromMillis(e.localWriteTimeMs);return new lI(e.batchId,i,n,r)}function Ic(t){const e=sa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?sa(t.lastLimboFreeSnapshotVersion):te.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return X(o===1,1966,{count:o}),gn(gu(kD(s.documents[0])))}(t.query):function(s){return gn(LD(s))}(t.query),new ki(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,at.fromBase64String(t.resumeToken))}function $D(t,e){const n=ia(e.snapshotVersion),r=ia(e.lastLimboFreeSnapshotVersion);let i;i=Em(e.target)?ND(t.gt,e.target):DD(t.gt,e.target).Vt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ta(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function fI(t){const e=LD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}function x_(t,e){return new cI(e.largestBatchId,Ow(t.gt,e.overlayMutation))}function WA(t,e){const n=e.path.lastSegment();return[t,rn(e.path.popLast()),n]}function qA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ia(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{getBundleMetadata(e,n){return HA(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:sa(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return HA(e).put(function(i){return{bundleId:i.id,createTime:ia(ht(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return KA(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:fI(s.bundledQuery),readTime:sa(s.readTime)}}(r)})}saveNamedQuery(e,n){return KA(e).put(function(i){return{name:i.name,readTime:ia(ht(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function HA(t){return Pt(t,$g)}function KA(t){return Pt(t,jg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new Gg(e,r)}getOverlay(e,n){return Xu(e).get(WA(this.userId,n)).next(r=>r?x_(this.serializer,r):null)}getOverlays(e,n){const r=ei();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cI(n,o);i.push(this.wt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(rn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xu(e).Y(ww,a))}),V.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ei(),s=rn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xu(e).j(ww,o).next(a=>{for(const l of a){const u=x_(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ei();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xu(e).X({index:$N,range:a},(l,u,d)=>{const h=x_(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}wt(e,n){return Xu(e).put(function(i,s,o){const[a,l,u]=WA(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vd(i.gt,o.mutation)}}(this.serializer,this.userId,n))}}function Xu(t){return Pt(t,Bg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{St(e){return Pt(e,ZE)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?at.fromUint8Array(r):at.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ke(e.integerValue));else if("doubleValue"in e){const r=Ke(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Rd(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Wi(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(qi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?XN(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):qg(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Y(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;const s=e.fields||{};this.Ct(n,53);const o=jl,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ke(a)),this.xt(o,n),this.Dt(s[o],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),K.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}ko.Ut=new ko;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=255;function EH(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function GA(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=EH(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class IH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const i=n.codePointAt(0);this.Wt(240|i>>>18),this.Wt(128|63&i>>>12),this.Wt(128|63&i>>>6),this.Wt(128|63&i)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const i=n.codePointAt(0);this.jt(240|i>>>18),this.jt(128|63&i>>>12),this.jt(128|63&i>>>6),this.jt(128|63&i)}}this.Jt()}Zt(e){const n=this.Xt(e),r=GA(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}tn(e){const n=this.Xt(e),r=GA(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}nn(){this.rn(Da),this.rn(255)}sn(){this._n(Da),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===Da?(this.rn(Da),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Da?(this._n(Da),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TH{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class SH{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Zu{constructor(){this.un=new IH,this.cn=new TH(this.un),this.ln=new SH(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i){this.Pn=e,this.Tn=n,this.In=r,this.dn=i}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new xo(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:Ep(this.In),directionalValue:Ep(this.dn),orderedDocumentKey:Ep(n),documentKey:r.path.toArray()}}Rn(e,n,r){const i=this.An(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function cs(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=QA(t.In,e.In),n!==0?n:(n=QA(t.dn,e.dn),n!==0?n:K.comparator(t.Tn,e.Tn)))}function QA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Ep(t){return pO()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function YA(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class JA{constructor(e){this.Vn=new De((n,r)=>Qe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(X(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=yw(e);if(n!==void 0&&!this.yn(n))return!1;const r=bo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.yn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.wn(a,l)||!this.Sn(this.mn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.mn.length||!this.Sn(this.mn[o++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new De(Qe.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new fp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new fp(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new fp(r.field,r.dir==="asc"?0:1)));return new ym(ym.UNKNOWN_ID,this.collectionId,n,Ad.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){var e,n;if(X(t instanceof _e||t instanceof Oe,20012),t instanceof _e){if(t instanceof aD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>_e.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}const r=t.filters.map(i=>jD(i));return Oe.create(r,t.op)}function bH(t){if(t.getFilters().length===0)return[];const e=Lw(jD(t));return X(BD(e),7391),Nw(e)||Dw(e)?[e]:e.getFilters()}function Nw(t){return t instanceof _e}function Dw(t){return t instanceof Oe&&rI(t)}function BD(t){return Nw(t)||Dw(t)||function(n){if(n instanceof Oe&&bw(n)){for(const r of n.getFilters())if(!Nw(r)&&!Dw(r))return!1;return!0}return!1}(t)}function Lw(t){if(X(t instanceof _e||t instanceof Oe,34018),t instanceof _e)return t;if(t.filters.length===1)return Lw(t.filters[0]);const e=t.filters.map(r=>Lw(r));let n=Oe.create(e,t.op);return n=bm(n),BD(n)?n:(X(n instanceof Oe,64498),X(zl(n),40251),X(n.filters.length>1,57927),n.filters.reduce((r,i)=>pI(r,i)))}function pI(t,e){let n;return X(t instanceof _e||t instanceof Oe,38388),X(e instanceof _e||e instanceof Oe,25473),n=t instanceof _e?e instanceof _e?function(i,s){return Oe.create([i,s],"and")}(t,e):XA(t,e):e instanceof _e?XA(e,t):function(i,s){if(X(i.filters.length>0&&s.filters.length>0,48005),zl(i)&&zl(s))return iD(i,s.getFilters());const o=bw(i)?i:s,a=bw(i)?s:i,l=o.filters.map(u=>pI(u,a));return Oe.create(l,"or")}(t,e),bm(n)}function XA(t,e){if(zl(e))return iD(e,t.getFilters());{const n=e.filters.map(r=>pI(t,r));return Oe.create(n,"or")}}function bm(t){if(X(t instanceof _e||t instanceof Oe,11850),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return bm(e[0]);if(nD(t))return t;const n=e.map(i=>bm(i)),r=[];return n.forEach(i=>{i instanceof _e?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this.Dn=new mI}addToCollectionParentIndex(e,n){return this.Dn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Kn.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class mI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="IndexedDbIndexManager",Of=new Uint8Array(0);class RH{constructor(e,n){this.databaseId=n,this.vn=new mI,this.Cn=new Ji(r=>ta(r),(r,i)=>wh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const s={collectionId:r,parent:rn(i)};return eR(e).put(s)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[bN(n),""],!1,!0);return eR(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Zr(o.parent))}return r})}addFieldIndex(e,n){const r=ec(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Va(e);return s.next(a=>{o.put(qA(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=ec(e),i=Va(e),s=La(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ec(e),r=La(e),i=Va(e);return n.Y().next(()=>r.Y()).next(()=>i.Y())}createTargetIndexes(e,n){return V.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new JA(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=La(e);let i=!0;const s=new Map;return V.forEach(this.Fn(n),o=>this.Mn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue();const a=[];return V.forEach(s,(l,u)=>{z(ZA,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${ta(n)}`);const d=function(E,C){const x=yw(C);if(x===void 0)return null;for(const D of Im(E,x.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(u,l),h=function(E,C){const x=new Map;for(const D of bo(C))for(const b of Im(E,D.fieldPath))switch(b.op){case"==":case"in":x.set(D.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return x.set(D.fieldPath.canonicalString(),b.value),Array.from(x.values())}return null}(u,l),f=function(E,C){const x=[];let D=!0;for(const b of bo(C)){const S=b.kind===0?xA(E,b.fieldPath,E.startAt):OA(E,b.fieldPath,E.startAt);x.push(S.value),D&&(D=S.inclusive)}return new Ys(x,D)}(u,l),m=function(E,C){const x=[];let D=!0;for(const b of bo(C)){const S=b.kind===0?OA(E,b.fieldPath,E.endAt):xA(E,b.fieldPath,E.endAt);x.push(S.value),D&&(D=S.inclusive)}return new Ys(x,D)}(u,l),g=this.xn(l,u,f),v=this.xn(l,u,m),T=this.On(l,u,h),I=this.Nn(l.indexId,d,g,f.inclusive,v,m.inclusive,T);return V.forEach(I,w=>r.H(w,n.limit).next(E=>{E.forEach(C=>{const x=K.fromSegments(C.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return V.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=bH(Oe.create(e.filters,"and")).map(r=>Rw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Bn(n[h/u]):Of,m=this.Ln(e,f,r[h%u],i),g=this.kn(e,f,s[h%u],o),v=a.map(T=>this.Ln(e,f,T,!0));d.push(...this.createRange(m,g,v))}return d}Ln(e,n,r,i){const s=new xo(e,K.empty(),n,r);return i?s:s.En()}kn(e,n,r,i){const s=new xo(e,K.empty(),n,r);return i?s.En():s}Mn(e,n){const r=new JA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.pn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Fn(n);return V.forEach(i,s=>this.Mn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new De(Qe.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}qn(e,n){const r=new Zu;for(const i of bo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.hn(i.kind);ko.Ut.bt(s,o)}return r.an()}Bn(e){const n=new Zu;return ko.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new Zu;return ko.Ut.bt(ea(this.databaseId,n),r.hn(function(s){const o=bo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let i=[];i.push(new Zu);let s=0;for(const o of bo(e)){const a=r[s++];for(const l of i)if(this.$n(n,o.fieldPath)&&Nd(a))i=this.Un(i,o,a);else{const u=l.hn(o.kind);ko.Ut.bt(a,u)}}return this.Kn(i)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Zu;l.seed(a.an()),ko.Ut.bt(o,l.hn(n.kind)),s.push(l)}return s}$n(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ec(e),i=Va(e);return(n?r.j(vw,IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Ad(h.sequenceNumber,new Kn(sa(h.readTime),new K(Zr(h.documentKey)),h.largestBatchId)):Ad.empty(),m=d.fields.map(([g,v])=>new fp(Qe.fromServerFormat(g),v));return new ym(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:oe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ec(e),s=Va(e);return this.Wn(e).next(o=>i.j(vw,IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>s.put(qA(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,l=>this.Gn(e,i,l).next(u=>{const d=this.zn(s,l);return u.isEqual(d)?V.resolve():this.jn(e,s,l,u,d)}))))})}Jn(e,n,r,i){return La(e).put(i.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,i){return La(e).delete(i.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const i=La(e);let s=new De(cs);return i.X({index:UN,range:IDBKeyRange.only([r.indexId,this.uid,Ep(this.Qn(r,n))])},(o,a)=>{s=s.add(new xo(r.indexId,n,YA(a.arrayValue),YA(a.directionalValue)))}).next(()=>s)}zn(e,n){let r=new De(cs);const i=this.qn(n,e);if(i==null)return r;const s=yw(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Nd(o))for(const a of o.arrayValue.values||[])r=r.add(new xo(n.indexId,e.key,this.Bn(a),i))}else r=r.add(new xo(n.indexId,e.key,Of,i));return r}jn(e,n,r,i,s){z(ZA,"Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,f){const m=l.getIterator(),g=u.getIterator();let v=Na(m),T=Na(g);for(;v||T;){let I=!1,w=!1;if(v&&T){const E=d(v,T);E<0?w=!0:E>0&&(I=!0)}else v!=null?w=!0:I=!0;I?(h(T),T=Na(g)):w?(f(v),v=Na(m)):(v=Na(m),T=Na(g))}}(i,s,cs,a=>{o.push(this.Jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),V.waitFor(o)}Wn(e){let n=1;return Va(e).X({index:FN,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>cs(o,a)).filter((o,a,l)=>!a||cs(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=cs(o,e),l=cs(o,n);if(a===0)i[0]=e.En();else if(a>0&&l<0)i.push(o),i.push(o.En());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Yn(i[o],i[o+1]))return[];const a=i[o].Rn(this.uid,Of,K.empty()),l=i[o+1].Rn(this.uid,Of,K.empty());s.push(IDBKeyRange.bound(a,l))}return s}Yn(e,n){return cs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tR)}getMinOffset(e,n){return V.mapArray(this.Fn(n),r=>this.Mn(e,r).next(i=>i||Y(44426))).next(tR)}}function eR(t){return Pt(t,kd)}function La(t){return Pt(t,zc)}function ec(t){return Pt(t,XE)}function Va(t){return Pt(t,Bc)}function tR(t){X(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;QE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Kn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zD=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e,n){const r=t.store(wr),i=t.store(Ml),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{X(a===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=LN(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return V.waitFor(s).next(()=>u)}function Am(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Y(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(zD,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);class Qg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static yt(e,n,r,i){X(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Qg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).X({index:Mo,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ka(e),o=ds(e);return o.add({}).next(a=>{X(typeof a=="number",49019);const l=new lI(a,n,r,i),u=function(m,g,v){const T=v.baseMutations.map(w=>Vd(m.gt,w)),I=v.mutations.map(w=>Vd(m.gt,w));return{userId:g,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:T,mutations:I}}(this.serializer,this.userId,l),d=[];let h=new De((f,m)=>oe(f.canonicalString(),m.canonicalString()));for(const f of i){const m=LN(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(u)),d.push(s.put(m,a7))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return ds(e).get(n).next(r=>r?(X(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Co(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?V.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ds(e).X({index:Mo,range:i},(o,a,l)=>{a.userId===this.userId&&(X(a.batchId>=r,47524,{er:r}),s=Co(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Vs;return ds(e).X({index:Mo,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Vs],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).j(Mo,n).next(r=>r.map(i=>Co(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ka(e).X({range:i},(o,a,l)=>{const[u,d,h]=o,f=Zr(d);if(u===this.userId&&n.path.isEqual(f))return ds(e).get(h).next(m=>{if(!m)throw Y(61480,{tr:o,batchId:h});X(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),s.push(Co(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(oe);const i=[];return n.forEach(s=>{const o=pp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ka(e).X({range:a},(u,d,h)=>{const[f,m,g]=u,v=Zr(m);f===this.userId&&s.path.isEqual(v)?r=r.add(g):h.done()});i.push(l)}),V.waitFor(i).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=pp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new De(oe);return Ka(e).X({range:o},(l,u,d)=>{const[h,f,m]=l,g=Zr(f);h===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(m)):d.done()}).next(()=>this.nr(e,a))}nr(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ds(e).get(s).next(o=>{if(o===null)throw Y(35274,{batchId:s});X(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(Co(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return WD(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ka(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Zr(s[1]);i.push(l)}else a.done()}).next(()=>{X(i.length===0,56720,{ir:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return qD(e,this.userId,n)}sr(e){return HD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Vs,lastStreamToken:""})}}function qD(t,e,n){const r=pp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ka(t).X({range:s,Z:!0},(a,l,u)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function ds(t){return Pt(t,wr)}function Ka(t){return Pt(t,Ml)}function HD(t){return Pt(t,Pd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new oa(0)}static ur(){return new oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new oa(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>te.fromTimestamp(new ke(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.lr(e,i)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ma(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(X(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ma(e).X((o,a)=>{const l=Ic(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ma(e).X((r,i)=>{const s=Ic(i);n(s)})}cr(e){return rR(e).get(wm).next(n=>(X(n!==null,2888),n))}lr(e,n){return rR(e).put(wm,n)}hr(e,n){return Ma(e).put($D(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ta(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ma(e).X({range:i,index:MN},(o,a,l)=>{const u=Ic(a);wh(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ws(e);return n.forEach(o=>{const a=rn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=ws(e);return V.forEach(n,s=>{const o=rn(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ws(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ws(e);let s=ue();return i.X({range:r,Z:!0},(o,a,l)=>{const u=Zr(o[1]),d=new K(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=rn(n.path),i=IDBKeyRange.bound([r],[bN(r)],!1,!0);let s=0;return ws(e).X({index:JE,Z:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}Et(e,n){return Ma(e).get(n).next(r=>r?Ic(r):null)}}function Ma(t){return Pt(t,Fl)}function rR(t){return Pt(t,Wo)}function ws(t){return Pt(t,Ul)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="LruGarbageCollector",CH=1048576;function sR([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class kH{constructor(e){this.Tr=e,this.buffer=new De(sR),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(iR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?z(iR,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Rr(3e5)})}}class xH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Tn.ue);const r=new kH(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(nR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nR):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),za()<=fe.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function GD(t,e){return new xH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.db=e,this.garbageCollector=GD(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,i)=>n(i))}addReference(e,n,r){return Nf(e,r)}removeReference(e,n,r){return Nf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Nf(e,n)}Sr(e,n){return function(i,s){let o=!1;return HD(i).ee(a=>qD(i,a,s).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.wr(e,(o,a)=>{if(a<=n){const l=this.Sr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,te.min()),ws(e).delete(function(h){return[0,rn(h.path)]}(o))))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Nf(e,n)}wr(e,n){const r=ws(e);let i,s=Tn.ue;return r.X({index:JE},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Tn.ue&&n(new K(Zr(i)),s),s=u,i=l):s=Tn.ue}).next(()=>{s!==Tn.ue&&n(new K(Zr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nf(t,e){return ws(t).put(function(r,i){return{targetId:0,path:rn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return wo(e).put(r)}removeEntry(e,n,r){return wo(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Sm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=We.newInvalidDocument(n);return wo(e).X({index:mp,range:IDBKeyRange.only(tc(n))},(i,s)=>{r=this.Dr(n,s)}).next(()=>r)}vr(e,n){let r={size:0,document:We.newInvalidDocument(n)};return wo(e).X({index:mp,range:IDBKeyRange.only(tc(n))},(i,s)=>{r={document:this.Dr(n,s),size:Am(s)}}).next(()=>r)}getEntries(e,n){let r=bn();return this.Cr(e,n,(i,s)=>{const o=this.Dr(i,s);r=r.insert(i,o)}).next(()=>r)}Fr(e,n){let r=bn(),i=new je(K.comparator);return this.Cr(e,n,(s,o)=>{const a=this.Dr(s,o);r=r.insert(s,a),i=i.insert(s,Am(o))}).next(()=>({documents:r,Mr:i}))}Cr(e,n,r){if(n.isEmpty())return V.resolve();let i=new De(lR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(tc(i.first()),tc(i.last())),o=i.getIterator();let a=o.getNext();return wo(e).X({index:mp,range:s},(l,u,d)=>{const h=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&lR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.G(tc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wo(e).j(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=bn();for(const h of u){const f=this.Dr(K.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Ih(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=bn();const o=aR(n,r),a=aR(n,Kn.max());return wo(e).X({index:VN,range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this.Dr(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new DH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return oR(e).get(_w).next(n=>(X(!!n,20021),n))}br(e,n){return oR(e).put(_w,n)}Dr(e,n){if(n){const r=_H(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(te.min())))return r}return We.newInvalidDocument(e)}}function YD(t){return new NH(t)}class DH extends QD{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new Ji(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new De((s,o)=>oe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Nr.get(s);if(n.push(this.Or.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=zA(this.Or.serializer,o);i=i.add(s.path.popLast());const u=Am(l);r+=u-a.size,n.push(this.Or.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=zA(this.Or.serializer,o.convertToNoDocument(te.min()));n.push(this.Or.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Or.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:i})=>(i.forEach((s,o)=>{this.Nr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function oR(t){return Pt(t,Cd)}function wo(t){return Pt(t,vm)}function tc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aR(t,e){const n=e.documentKey.path.toArray();return[t,Sm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=oe(n[s],r[s]),i)return i;return i=oe(n.length,r.length),i||(i=oe(n[n.length-2],r[r.length-2]),i||oe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hc(r.mutation,i,Sn.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=bn();const o=qc(),a=function(){return qc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Xi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Hc(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new LH(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qc();let i=new je((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=pD();d.forEach(f=>{if(!s.has(f)){const m=ED(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(ei());let a=Vl,l=s;return o.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(d=>({batchId:a,changes:fD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wc();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,f){return new Yi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,We.newInvalidDocument(d)))});let a=wc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Hc(d.mutation,u,Sn.empty(),ke.now()),Ih(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return V.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ht(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:fI(i.bundledQuery),readTime:ht(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.overlays=new je(K.comparator),this.kr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=ei(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ei(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ei(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cI(n,r));let s=this.kr.get(n);s===void 0&&(s=ue(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.qr=new De(Ct.Qr),this.$r=new De(Ct.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ct(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new K(new ge([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new K(new ge([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ue();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return K.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new De(Ct.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Vs:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(oe);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new K(s),0);let a=new De(oe);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),V.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){X(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ct(n,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.ni=e,this.docs=function(){return new je(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=bn();const o=n.path,a=new K(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||QE(kN(d),r)<=0||(i.has(d.key)||Ih(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ri(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jH(this)}getSize(e){return V.resolve(this.size)}}class jH extends QD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.persistence=e,this.ii=new Ji(n=>ta(n),wh),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new gI,this.targetCount=0,this._i=oa.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),V.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.hr(n),V.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.ai={},this.overlays={},this.ui=new Tn(0),this.ci=!1,this.ci=!0,this.li=new FH,this.referenceDelegate=e(this),this.hi=new BH(this),this.indexManager=new AH,this.remoteDocumentCache=function(i){return new $H(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new UD(n),this.Ti=new VH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new UH(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new zH(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class zH extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ai=new gI,this.Ri=null}static Vi(e){return new Yg(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{const i=K.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return V.or([()=>V.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.gi=new Ji(r=>rn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GD(this,n)}static Vi(e,n){return new Rm(e,n)}Ii(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),V.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yp(e.data.value)),n}Sr(e,n,r){return V.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.serializer=e}q(e,n,r,i){const s=new Ug("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(vh)}(e),function(l){l.createObjectStore(Pd,{keyPath:o7}),l.createObjectStore(wr,{keyPath:vA,autoIncrement:!0}).createIndex(Mo,wA,{unique:!0}),l.createObjectStore(Ml)}(e),uR(e),function(l){l.createObjectStore(Ao)}(e));let o=V.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Ul),l.deleteObjectStore(Fl),l.deleteObjectStore(Wo)}(e),uR(e)),o=o.next(()=>function(l){const u=l.store(Wo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:te.min().toTimestamp(),targetCount:0};return u.put(wm,d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store(wr).j().next(h=>{l.deleteObjectStore(wr),l.createObjectStore(wr,{keyPath:vA,autoIncrement:!0}).createIndex(Mo,wA,{unique:!0});const f=u.store(wr),m=h.map(g=>f.put(g));return V.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore($l,{keyPath:m7})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.pi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Cd)}(e),this.yi(s)))),r<7&&i>=7&&(o=o.next(()=>this.wi(s))),r<8&&i>=8&&(o=o.next(()=>this.Si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.bi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore($g,{keyPath:g7})})(e),function(l){l.createObjectStore(jg,{keyPath:y7})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore(Bg,{keyPath:S7});u.createIndex(ww,b7,{unique:!1}),u.createIndex($N,A7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore(vm,{keyPath:l7});u.createIndex(mp,u7),u.createIndex(VN,c7)}(e)).next(()=>this.Di(e,s)).next(()=>e.deleteObjectStore(Ao))),r<14&&i>=14&&(o=o.next(()=>this.Ci(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(XE,{keyPath:_7,autoIncrement:!0}).createIndex(vw,v7,{unique:!1}),l.createObjectStore(Bc,{keyPath:w7}).createIndex(FN,E7,{unique:!1}),l.createObjectStore(zc,{keyPath:I7}).createIndex(UN,T7,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore(Bc).clear()}).next(()=>{n.objectStore(zc).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(ZE,{keyPath:R7})})(e)})),r<18&&i>=18&&pO()&&(o=o.next(()=>{n.objectStore(Bc).clear()}).next(()=>{n.objectStore(zc).clear()})),o}yi(e){let n=0;return e.store(Ao).X((r,i)=>{n+=Am(i)}).next(()=>{const r={byteSize:n};return e.store(Cd).put(_w,r)})}pi(e){const n=e.store(Pd),r=e.store(wr);return n.j().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,Vs],[s.userId,s.lastAcknowledgedBatchId]);return r.j(Mo,o).next(a=>V.forEach(a,l=>{X(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=Co(this.serializer,l);return WD(e,s.userId,u).next(()=>{})}))}))}wi(e){const n=e.store(Ul),r=e.store(Ao);return e.store(Wo).get(wm).next(i=>{const s=[];return r.X((o,a)=>{const l=new ge(o),u=function(h){return[0,rn(h)]}(l);s.push(n.get(u).next(d=>d?V.resolve():(h=>n.put({targetId:0,path:rn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(s))})}Si(e,n){e.createObjectStore(kd,{keyPath:p7});const r=n.store(kd),i=new mI,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:rn(l)})}};return n.store(Ao).X({Z:!0},(o,a)=>{const l=new ge(o);return s(l.popLast())}).next(()=>n.store(Ml).X({Z:!0},([o,a,l],u)=>{const d=Zr(a);return s(d.popLast())}))}bi(e){const n=e.store(Fl);return n.X((r,i)=>{const s=Ic(i),o=$D(this.serializer,s);return n.put(o)})}Di(e,n){const r=n.store(Ao),i=[];return r.X((s,o)=>{const a=n.store(vm),l=function(h){return h.document?new K(ge.fromString(h.document.name).popFirst(5)):h.noDocument?K.fromSegments(h.noDocument.path):h.unknownDocument?K.fromSegments(h.unknownDocument.path):Y(36783)}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>V.waitFor(i))}Ci(e,n){const r=n.store(wr),i=YD(this.serializer),s=new yI(Yg.Vi,this.serializer.gt);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:ue();Co(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),V.forEach(a,(l,u)=>{const d=new xt(u),h=Gg.yt(this.serializer,d),f=s.getIndexManager(d),m=Qg.yt(d,this.serializer,f,s.referenceDelegate);return new JD(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Ew(n,Tn.ue),l).next()})})}}function uR(t){t.createObjectStore(Ul,{keyPath:h7}).createIndex(JE,f7,{unique:!0}),t.createObjectStore(Fl,{keyPath:"targetId"}).createIndex(MN,d7,{unique:!0}),t.createObjectStore(Wo)}const hs="IndexedDbPersistence",O_=18e5,N_=5e3,D_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XD="main";class _I{constructor(e,n,r,i,s,o,a,l,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=s,this.window=o,this.document=a,this.Mi=u,this.xi=d,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=f=>Promise.resolve(),!_I.C())throw new B(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OH(this,i),this.Qi=n+XD,this.serializer=new UD(l),this.$i=new ai(this.Qi,this.Oi,new WH(this.serializer)),this.li=new wH,this.hi=new PH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YD(this.serializer),this.Ti=new vH,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&dt(hs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,D_);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new Tn(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(lo(e))return z(hs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z(hs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return nc(e).get(Oa).next(n=>V.resolve(this.Xi(n)))}es(e){return Df(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,O_)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Pt(n,$l);return r.j().next(i=>{const s=this.rs(i,O_),o=i.filter(a=>s.indexOf(a)===-1);return V.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?V.resolve(!0):nc(e).get(Oa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,N_)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,D_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Df(e).j().next(r=>this.rs(r,N_).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z(hs,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[vh,$l],e=>{const n=new Ew(e,Tn.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>Df(e).j().next(n=>this.rs(n,O_).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return Qg.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RH(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return Gg.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){z(hs,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===18?k7:l===17?WN:l===16?C7:l===15?eI:l===14?zN:l===13?BN:l===12?P7:l===11?jN:void Y(60245)}(this.Oi);let o;return this.$i.runTransaction(e,i,s,a=>(o=new Ew(a,this.ui?this.ui.next():Tn.ue),n==="readwrite-primary"?this.Ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new B(F.FAILED_PRECONDITION,xN);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ts(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ts(e){return nc(e).get(Oa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,N_)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new B(F.FAILED_PRECONDITION,D_)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(e).put(Oa,n)}static C(){return ai.C()}Yi(e){const n=nc(e);return n.get(Oa).next(r=>this.Xi(r)?(z(hs,"Releasing primary lease."),n.delete(Oa)):V.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;fO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return z(hs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt(hs,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nc(t){return Pt(t,vh)}function Df(t){return Pt(t,$l)}function vI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return fO()?8:NN(ve())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qH;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(za()<=fe.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(za()<=fe.DEBUG&&z("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(za()<=fe.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):V.resolve())}ps(e,n){if(NA(n))return V.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tm(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Tm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return NA(n)||i.isEqual(te.min())?V.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?V.resolve(null):(za()<=fe.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(n)),this.vs(e,o,n,CN(i,Vl)).next(a=>a))})}bs(e,n){let r=new De(dD(e));return n.forEach((i,s)=>{Ih(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return za()<=fe.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.gs.getDocumentsMatchingQuery(e,n,Kn.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="LocalStore",HH=3e8;class KH{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(oe),this.Ms=new Ji(s=>ta(s),wh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function eL(t,e,n,r){return new KH(t,e,n,r)}async function tL(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function GH(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=V.resolve();return f.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(v=>{const T=u.docVersions.get(g);X(T!==null,48541),v.version.compareTo(T)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nL(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function QH(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(at.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,T,I){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=HH?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=bn(),u=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(rL(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(te.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function rL(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=bn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z(EI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function YH(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vs),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kl(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Gl(t,e,n){const r=Q(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lo(o))throw o;z(EI,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Pm(t,e,n){const r=Q(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Q(l),f=h.Ms.get(d);return f!==void 0?V.resolve(h.Fs.get(f)):h.hi.getTargetData(u,d)}(r,o,gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(oL(r,cD(e),a),{documents:a,qs:s})))}function iL(t,e){const n=Q(t),r=Q(n.hi),i=n.Fs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(o=>o?o.target:null))}function sL(t,e){const n=Q(t),r=n.xs.get(e)||te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Os.getAllFromCollectionGroup(i,e,CN(r,Vl),Number.MAX_SAFE_INTEGER)).then(i=>(oL(n,e,i),i))}function oL(t,e,n){let r=t.xs.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}async function JH(t,e,n,r){const i=Q(t);let s=ue(),o=bn();for(const u of n){const d=e.Qs(u.metadata.name);u.document&&(s=s.add(d));const h=e.$s(u);h.setReadTime(e.Us(u.metadata.readTime)),o=o.insert(d,h)}const a=i.Os.newChangeBuffer({trackRemovals:!0}),l=await Kl(i,function(d){return gn(gu(ge.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>rL(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.hi.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.hi.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ls,d.ks)).next(()=>d.Ls)))}async function XH(t,e,n=ue()){const r=await Kl(t,gn(fI(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ht(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ti.saveNamedQuery(s,e);const a=r.withResumeToken(at.EMPTY_BYTE_STRING,o);return i.Fs=i.Fs.insert(a.targetId,a),i.hi.updateTargetData(s,a).next(()=>i.hi.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.hi.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ti.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firestore_clients";function cR(t,e){return`${aL}_${t}_${e}`}const lL="firestore_mutations";function dR(t,e,n){let r=`${lL}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const uL="firestore_targets";function L_(t,e){return`${uL}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="SharedClientState";class Cm{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ks(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new B(i.error.code,i.error.message))),o?new Cm(e,n,i.state,s):(dt(Wr,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ks(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new B(r.error.code,r.error.message))),s?new Kc(e,r.state,i):(dt(Wr,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class km{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ks(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=sI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=DN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new km(e,s):(dt(Wr,`Failed to parse client data for instance '${e}': ${n}`),null)}}class II{constructor(e,n){this.clientId=e,this.onlineState=n}static Ks(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new II(n.clientId,n.onlineState):(dt(Wr,`Failed to parse online state: ${e}`),null)}}class Vw{constructor(){this.activeTargetIds=sI()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V_{constructor(e,n,r,i,s){this.window=e,this.Fi=n,this.persistenceKey=r,this.js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Js=this.Hs.bind(this),this.Ys=new je(oe),this.started=!1,this.Zs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=cR(this.persistenceKey,this.js),this.eo=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ys=this.Ys.insert(this.js,new Vw),this.no=new RegExp(`^${aL}_${o}_([^_]*)$`),this.ro=new RegExp(`^${lL}_${o}_(\\d+)(?:_(.*))?$`),this.io=new RegExp(`^${uL}_${o}_(\\d+)$`),this.so=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.oo=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Js)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ps();for(const r of e){if(r===this.js)continue;const i=this.getItem(cR(this.persistenceKey,r));if(i){const s=km.Ks(r,i);s&&(this.Ys=this.Ys.insert(s.clientId,s))}}this._o();const n=this.storage.getItem(this.so);if(n){const r=this.ao(n);r&&this.uo(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.eo,JSON.stringify(e))}getAllActiveQueryTargets(){return this.co(this.Ys)}isActiveQueryTarget(e){let n=!1;return this.Ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.lo(e,"pending")}updateMutationState(e,n,r){this.lo(e,n,r),this.ho(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(L_(this.persistenceKey,e));if(i){const s=Kc.Ks(e,i);s&&(r=s.state)}}return n&&this.Po.Gs(e),this._o(),r}removeLocalQueryTarget(e){this.Po.zs(e),this._o()}isLocalQueryTarget(e){return this.Po.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(L_(this.persistenceKey,e))}updateQueryState(e,n,r){this.To(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ho(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Io(e)}notifyBundleLoaded(e){this.Eo(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z(Wr,"READ",e,n),n}setItem(e,n){z(Wr,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){z(Wr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(z(Wr,"EVENT",n.key,n.newValue),n.key===this.Xs)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.no.test(n.key)){if(n.newValue==null){const r=this.Ao(n.key);return this.Ro(r,null)}{const r=this.Vo(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.mo(n.key,n.newValue);if(r)return this.fo(r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.po(n.key,n.newValue);if(r)return this.yo(r)}}else if(n.key===this.so){if(n.newValue!==null){const r=this.ao(n.newValue);if(r)return this.uo(r)}}else if(n.key===this.eo){const r=function(s){let o=Tn.ue;if(s!=null)try{const a=JSON.parse(s);X(typeof a=="number",30636,{wo:s}),o=a}catch(a){dt(Wr,"Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Tn.ue&&this.sequenceNumberHandler(r)}else if(n.key===this.oo){const r=this.So(n.newValue);await Promise.all(r.map(i=>this.syncEngine.bo(i)))}}}else this.Zs.push(n)})}}get Po(){return this.Ys.get(this.js)}_o(){this.setItem(this.Xs,this.Po.Ws())}lo(e,n,r){const i=new Cm(this.currentUser,e,n,r),s=dR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}ho(e){const n=dR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Io(e){const n={clientId:this.js,onlineState:e};this.storage.setItem(this.so,JSON.stringify(n))}To(e,n,r){const i=L_(this.persistenceKey,e),s=new Kc(e,n,r);this.setItem(i,s.Ws())}Eo(e){const n=JSON.stringify(Array.from(e));this.setItem(this.oo,n)}Ao(e){const n=this.no.exec(e);return n?n[1]:null}Vo(e,n){const r=this.Ao(e);return km.Ks(r,n)}mo(e,n){const r=this.ro.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Cm.Ks(new xt(s),i,n)}po(e,n){const r=this.io.exec(e),i=Number(r[1]);return Kc.Ks(i,n)}ao(e){return II.Ks(e)}So(e){return JSON.parse(e)}async fo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Do(e.batchId,e.state,e.error);z(Wr,`Ignoring mutation for non-active user ${e.user.uid}`)}yo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Ys.insert(e,n):this.Ys.remove(e),i=this.co(this.Ys),s=this.co(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Co(o,a).then(()=>{this.Ys=r})}uo(e){this.Ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}co(e){let n=sI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class cL{constructor(){this.Fo=new Vw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Vw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="ConnectivityMonitor";class fR{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(hR,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){z(hR,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function Mw(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="RestConnection",eK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tK{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Iw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Mw(),a=this.Go(e,n.toUriEncodedString());z(M_,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=Qi(u);return this.jo(e,a,l,r,d).then(h=>(z(M_,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Hn(M_,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=eK[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class rK extends tK{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Mw();return new Promise((a,l)=>{const u=new _N;u.setWithCredentials(!0),u.listenOnce(vN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hp.NO_ERROR:const h=u.getResponseJson();z(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case hp.TIMEOUT:z(Yt,`RPC '${e}' ${o} timed out`),l(new B(F.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const f=u.getStatus();if(z(Yt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const v=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(g.status);l(new B(v,g.message))}else l(new B(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new B(F.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{z(Yt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);z(Yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Mw(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IN(),a=EN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");z(Yt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const g=new nK({Ho:T=>{m?z(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(z(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),z(Yt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Yo:()=>h.close()}),v=(T,I,w)=>{T.listen(I,E=>{try{w(E)}catch(C){setTimeout(()=>{throw C},0)}})};return v(h,vc.EventType.OPEN,()=>{m||(z(Yt,`RPC '${e}' stream ${i} transport opened.`),g.s_())}),v(h,vc.EventType.CLOSE,()=>{m||(m=!0,z(Yt,`RPC '${e}' stream ${i} transport closed`),g.__(),this.I_(h))}),v(h,vc.EventType.ERROR,T=>{m||(m=!0,Hn(Yt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),g.__(new B(F.UNAVAILABLE,"The operation could not be completed")))}),v(h,vc.EventType.MESSAGE,T=>{var I;if(!m){const w=T.data[0];X(!!w,16349);const E=w,C=(E==null?void 0:E.error)||((I=E[0])===null||I===void 0?void 0:I.error);if(C){z(Yt,`RPC '${e}' stream ${i} received error:`,C);const x=C.status;let D=function(R){const y=wt[R];if(y!==void 0)return SD(y)}(x),b=C.message;D===void 0&&(D=F.INTERNAL,b="Unknown error status: "+x+" with message "+C.message),m=!0,g.__(new B(D,b)),h.close()}else z(Yt,`RPC '${e}' stream ${i} received:`,w),g.a_(w)}}),v(a,wN.STAT_EVENT,T=>{T.stat===mw.PROXY?z(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===mw.NOPROXY&&z(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.o_()},0),g}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return typeof window<"u"?window:null}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new lH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="PersistentStream";class hL{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new TI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new B(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return z(pR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(z(pR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iK extends hL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=dH(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?ht(o.readTime):te.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=xw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Em(l)?{documents:ND(s,l)}:{query:DD(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RD(s,o.resumeToken);const u=Cw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Hl(s,o.snapshotVersion.toTimestamp());const u=Cw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=fH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=xw(this.serializer),n.removeTarget=e,this.k_(n)}}class sK extends hL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return X(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,X(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){X(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hH(e.writeResults,e.commitTime),r=ht(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=xw(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vd(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{}class aK extends oK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,kw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(F.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,kw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(F.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class lK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(dt(n),this._a=!1):z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class uK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{co(this)&&(z(aa,"Restarting streams for network reachability change."),await async function(l){const u=Q(l);u.Ia.add(4),await vu(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Rh(u)}(this))})}),this.Aa=new lK(r,i)}}async function Rh(t){if(co(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function Jg(t,e){const n=Q(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),AI(n)?bI(n):Eu(n).x_()&&SI(n,e))}function Ql(t,e){const n=Q(t),r=Eu(n);n.Ta.delete(e),r.x_()&&fL(n,e),n.Ta.size===0&&(r.x_()?r.B_():co(n)&&n.Aa.set("Unknown"))}function SI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).H_(e)}function fL(t,e){t.Ra.$e(e),Eu(t).Y_(e)}function bI(t){t.Ra=new iH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.Aa.aa()}function AI(t){return co(t)&&!Eu(t).M_()&&t.Ta.size>0}function co(t){return Q(t).Ia.size===0}function pL(t){t.Ra=void 0}async function cK(t){t.Aa.set("Online")}async function dK(t){t.Ta.forEach((e,n)=>{SI(t,e)})}async function hK(t,e){pL(t),AI(t)?(t.Aa.la(e),bI(t)):t.Aa.set("Unknown")}async function fK(t,e,n){if(t.Aa.set("Online"),e instanceof AD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){z(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(t,r)}else if(e instanceof wp?t.Ra.Ye(e):e instanceof bD?t.Ra.it(e):t.Ra.et(e),!n.isEqual(te.min()))try{const r=await nL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(at.EMPTY_BYTE_STRING,d.snapshotVersion)),fL(s,l);const h=new ki(d.target,l,u,d.sequenceNumber);SI(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z(aa,"Failed to raise snapshot:",r),await xm(t,r)}}async function xm(t,e,n){if(!lo(e))throw e;t.Ia.add(1),await vu(t),t.Aa.set("Offline"),n||(n=()=>nL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z(aa,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Rh(t)})}function mL(t,e){return e().catch(n=>xm(t,n,e))}async function wu(t){const e=Q(t),n=Js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Vs;for(;pK(e);)try{const i=await YH(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,mK(e,i)}catch(i){await xm(e,i)}gL(e)&&yL(e)}function pK(t){return co(t)&&t.Pa.length<10}function mK(t,e){t.Pa.push(e);const n=Js(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function gL(t){return co(t)&&!Js(t).M_()&&t.Pa.length>0}function yL(t){Js(t).start()}async function gK(t){Js(t).na()}async function yK(t){const e=Js(t);for(const n of t.Pa)e.X_(n.mutations)}async function _K(t,e,n){const r=t.Pa.shift(),i=uI.from(r,e,n);await mL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wu(t)}async function vK(t,e){e&&Js(t).Z_&&await async function(r,i){if(function(o){return TD(o)&&o!==F.ABORTED}(i.code)){const s=r.Pa.shift();Js(r).N_(),await mL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wu(r)}}(t,e),gL(t)&&yL(t)}async function mR(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),z(aa,"RemoteStore received new credentials");const r=co(n);n.Ia.add(3),await vu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Rh(n)}async function Fw(t,e){const n=Q(t);e?(n.Ia.delete(2),await Rh(n)):e||(n.Ia.add(2),await vu(n),n.Aa.set("Unknown"))}function Eu(t){return t.Va||(t.Va=function(n,r,i){const s=Q(n);return s.ia(),new iK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:cK.bind(null,t),e_:dK.bind(null,t),n_:hK.bind(null,t),J_:fK.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),AI(t)?bI(t):t.Aa.set("Unknown")):(await t.Va.stop(),pL(t))})),t.Va}function Js(t){return t.ma||(t.ma=function(n,r,i){const s=Q(n);return s.ia(),new sK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:gK.bind(null,t),n_:vK.bind(null,t),ea:yK.bind(null,t),ta:_K.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await wu(t)):(await t.ma.stop(),t.Pa.length>0&&(z(aa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new RI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(t,e){if(dt("AsyncQueue",`${e}: ${t}`),lo(t))return new B(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.fa=new je(K.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yl(e,n,_l.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class EK{constructor(){this.queries=yR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=yR(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new B(F.ABORTED,"Firestore shutting down"))}}function yR(){return new Ji(t=>uD(t),Eh)}async function PI(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new wK,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Iu(o,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&kI(n)}async function CI(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IK(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&kI(n)}function TK(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function kI(t){t.Da.forEach(e=>{e.next()})}var Uw,_R;(_R=Uw||(Uw={})).Fa="default",_R.Cache="cache";class xI{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Uw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,n){this.qa=e,this.byteLength=n}Qa(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.serializer=e}Qs(e){return li(this.serializer,e)}$s(e){return e.metadata.exists?OD(this.serializer,e.document,!1):We.newNoDocument(this.Qs(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return ht(e)}}class bK{constructor(e,n){this.$a=e,this.serializer=n,this.Ua=[],this.Ka=[],this.collectionGroups=new Set,this.progress=_L(e)}get queries(){return this.Ua}get documents(){return this.Ka}Wa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Ua.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Ka.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=ge.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Ka[this.Ka.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Ga(e){const n=new Map,r=new vR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Qs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}async za(e){const n=await JH(e,new vR(this.serializer),this.Ka,this.$a.id),r=this.Ga(this.documents);for(const i of this.Ua)await XH(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ja:this.collectionGroups,Ja:n}}}function _L(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.key=e}}class wL{constructor(e){this.key=e}}class EL{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=dD(e),this.eu=new _l(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new gR,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Ih(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),T=!0):this.iu(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(m?(o=o.add(m),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,g){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:T})}};return v(m)-v(g)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Yl(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gR,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new wL(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new vL(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ho="SyncEngine";class AK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RK{constructor(e){this.key=e,this.lu=!1}}class PK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ji(a=>uD(a),Eh),this.Tu=new Map,this.Iu=new Set,this.du=new je(K.comparator),this.Eu=new Map,this.Au=new gI,this.Ru={},this.Vu=new Map,this.mu=oa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CK(t,e,n=!0){const r=Xg(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await IL(r,e,n,!0),i}async function kK(t,e){const n=Xg(t);await IL(n,e,!0,!1)}async function IL(t,e,n,r){const i=await Kl(t.localStore,gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await OI(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Jg(t.remoteStore,i),a}async function OI(t,e,n,r,i){t.gu=(h,f,m)=>async function(v,T,I,w){let E=T.view.nu(I);E.Ds&&(E=await Pm(v.localStore,T.query,!1).then(({documents:b})=>T.view.nu(b,E)));const C=w&&w.targetChanges.get(T.targetId),x=w&&w.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(E,v.isPrimaryClient,C,x);return $w(v,T.targetId,D._u),D.snapshot}(t,h,f,m);const s=await Pm(t.localStore,e,!0),o=new EL(e,s.qs),a=o.nu(s.documents),l=bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);$w(t,n,u._u);const d=new AK(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function xK(t,e,n){const r=Q(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Eh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ql(r.remoteStore,i.targetId),Jl(r,i.targetId)}).catch(ao)):(Jl(r,i.targetId),await Gl(r.localStore,i.targetId,!0))}async function OK(t,e){const n=Q(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ql(n.remoteStore,r.targetId))}async function NK(t,e,n){const r=VI(t);try{const i=await function(o,a){const l=Q(o),u=ke.now(),d=a.reduce((m,g)=>m.add(g.key),ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=bn(),v=ue();return l.Os.getEntries(m,d).next(T=>{g=T,g.forEach((I,w)=>{w.isValidDocument()||(v=v.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(T=>{h=T;const I=[];for(const w of a){const E=tH(w,h.get(w.key).overlayedDocument);E!=null&&I.push(new Xi(w.key,E,eD(E.value.mapValue),Ye.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,I,a)}).next(T=>{f=T;const I=T.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,T.batchId,I)})}).then(()=>({batchId:f.batchId,changes:fD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new je(oe)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await Zi(r,i.changes),await wu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");n.reject(s)}}async function TL(t,e){const n=Q(t);try{const r=await QH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?X(o.lu,14607):i.removedDocuments.size>0&&(X(o.lu,42227),o.lu=!1))}),await Zi(n,r,e)}catch(r){await ao(r)}}function wR(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(u=!0)}),u&&kI(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DK(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new je(K.comparator);o=o.insert(s,We.newNoDocument(s,te.min()));const a=ue().add(s),l=new Sh(te.min(),new Map,new je(oe),o,a);await TL(r,l),r.du=r.du.remove(s),r.Eu.delete(e),LI(r)}else await Gl(r.localStore,e,!1).then(()=>Jl(r,e,n)).catch(ao)}async function LK(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await GH(n.localStore,e);DI(n,r,null),NI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zi(n,i)}catch(i){await ao(i)}}async function VK(t,e,n){const r=Q(t);try{const i=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(X(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);DI(r,e,n),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zi(r,i)}catch(i){await ao(i)}}async function MK(t,e){const n=Q(t);co(n.remoteStore)||z(ho,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===Vs)return void e.resolve();const i=n.Vu.get(r)||[];i.push(e),n.Vu.set(r,i)}catch(r){const i=Iu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function NI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function DI(t,e,n){const r=Q(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Jl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||SL(t,r)})}function SL(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ql(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),LI(t))}function $w(t,e,n){for(const r of n)r instanceof vL?(t.Au.addReference(r.key,e),FK(t,r)):r instanceof wL?(z(ho,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||SL(t,r.key)):Y(19791,{yu:r})}function FK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(z(ho,"New document in limbo: "+n),t.Iu.add(r),LI(t))}function LI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new K(ge.fromString(e)),r=t.mu.next();t.Eu.set(r,new RK(n)),t.du=t.du.insert(n,r),Jg(t.remoteStore,new ki(gn(gu(n.path)),r,"TargetPurposeLimboResolution",Tn.ue))}}async function Zi(t,e,n){const r=Q(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=wI.Es(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=Q(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,f=>V.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>V.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!lo(h))throw h;z(EI,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);d.Fs=d.Fs.insert(f,v)}}}(r.localStore,s))}async function UK(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){z(ho,"User change. New user:",e.toKey());const r=await tL(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new B(F.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zi(n,r.Bs)}}function $K(t,e){const n=Q(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}async function jK(t,e){const n=Q(t),r=await Pm(n.localStore,e.query,!0),i=e.view.uu(r);return n.isPrimaryClient&&$w(n,e.targetId,i._u),i}async function BK(t,e){const n=Q(t);return sL(n.localStore,e).then(r=>Zi(n,r))}async function zK(t,e,n,r){const i=Q(t),s=await function(a,l){const u=Q(a),d=Q(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Xn(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):V.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await wu(i.remoteStore):n==="acknowledged"||n==="rejected"?(DI(i,e,r||null),NI(i,e),function(a,l){Q(Q(a).mutationQueue).rr(l)}(i.localStore,e)):Y(6720,"Unknown batchState",{wu:n}),await Zi(i,s)):z(ho,"Cannot apply mutation batch with id: "+e)}async function WK(t,e){const n=Q(t);if(Xg(n),VI(n),e===!0&&n.fu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await ER(n,r.toArray());n.fu=!0,await Fw(n.remoteStore,!0);for(const s of i)Jg(n.remoteStore,s)}else if(e===!1&&n.fu!==!1){const r=[];let i=Promise.resolve();n.Tu.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Jl(n,o),Gl(n.localStore,o,!0))),Ql(n.remoteStore,o)}),await i,await ER(n,r),function(o){const a=Q(o);a.Eu.forEach((l,u)=>{Ql(a.remoteStore,u)}),a.Au.jr(),a.Eu=new Map,a.du=new je(K.comparator)}(n),n.fu=!1,await Fw(n.remoteStore,!1)}}async function ER(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const l=r.Tu.get(o);if(l&&l.length!==0){a=await Kl(r.localStore,gn(l[0]));for(const u of l){const d=r.Pu.get(u),h=await jK(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await iL(r.localStore,o);a=await Kl(r.localStore,u),await OI(r,bL(u),o,!1,a.resumeToken)}i.push(a)}return r.hu.J_(s),i}function bL(t){return lD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qK(t){return function(n){return Q(Q(n).persistence).Ps()}(Q(t).localStore)}async function HK(t,e,n,r){const i=Q(t);if(i.fu)return void z(ho,"Ignoring unexpected query state notification.");const s=i.Tu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await sL(i.localStore,cD(s[0])),a=Sh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",at.EMPTY_BYTE_STRING);await Zi(i,o,a);break}case"rejected":await Gl(i.localStore,e,!0),Jl(i,e,r);break;default:Y(64155,n)}}async function KK(t,e,n){const r=Xg(t);if(r.fu){for(const i of e){if(r.Tu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){z(ho,"Adding an already active target "+i);continue}const s=await iL(r.localStore,i),o=await Kl(r.localStore,s);await OI(r,bL(s),o.targetId,!1,o.resumeToken),Jg(r.remoteStore,o)}for(const i of n)r.Tu.has(i)&&await Gl(r.localStore,i,!1).then(()=>{Ql(r.remoteStore,i),Jl(r,i)}).catch(ao)}}function Xg(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$K.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DK.bind(null,e),e.hu.J_=IK.bind(null,e.eventManager),e.hu.pu=TK.bind(null,e.eventManager),e}function VI(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VK.bind(null,e),e}function GK(t,e,n){const r=Q(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(m,g){const v=Q(m),T=ht(g.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",I=>v.Ti.getBundleMetadata(I,g.id)).then(I=>!!I&&I.createTime.compareTo(T)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(_L(l));const u=new bK(l,o.serializer);let d=await o.Su();for(;d;){const f=await u.Wa(d);f&&a._updateProgress(f),d=await o.Su()}const h=await u.za(s.localStore);return await Zi(s,h.Ja,void 0),await function(m,g){const v=Q(m);return v.persistence.runTransaction("Save bundle","readwrite",T=>v.Ti.saveBundleMetadata(T,g))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ja)}catch(l){return Hn(ho,`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return eL(this.persistence,new ZD,e.initialUser,this.serializer)}Du(e){return new yI(Yg.Vi,this.serializer)}bu(e){return new cL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class QK extends Md{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){X(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KD(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new yI(r=>Rm.Vi(r,n),this.serializer)}}class AL extends Md{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await VI(this.Mu.syncEngine),await wu(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return eL(this.persistence,new ZD,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new KD(r,e.asyncQueue,n)}Fu(e,n){const r=new i7(n,this.persistence);return new r7(e.asyncQueue,r)}Du(e){const n=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new _I(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,dL(),Ip(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new cL}}class YK extends AL{constructor(e,n){super(e,n,!1),this.Mu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Mu.syncEngine;this.sharedClientState instanceof V_&&(this.sharedClientState.syncEngine={Do:zK.bind(null,n),vo:HK.bind(null,n),Co:KK.bind(null,n),Ps:qK.bind(null,n),bo:BK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ji(async r=>{await WK(this.Mu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}bu(e){const n=dL();if(!V_.C(n))throw new B(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new V_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UK.bind(null,this.syncEngine),await Fw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EK}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=function(s){return new rK(s)}(e.databaseInfo);return function(s,o,a,l){return new aK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wR(this.syncEngine,n,0),function(){return fR.C()?new fR:new ZH}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new PK(i,s,o,a,l,u);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);z(aa,"RemoteStore shutting down."),s.Ia.add(5),await vu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fd.provider={build:()=>new Fd};function IR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n){this.Nu=e,this.serializer=n,this.metadata=new Bt,this.buffer=new Uint8Array,this.Bu=function(){return new TextDecoder("utf-8")}(),this.Lu().then(r=>{r&&r.Qa()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))},r=>this.metadata.reject(r))}close(){return this.Nu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.Lu()}async Lu(){const e=await this.ku();if(e===null)return null;const n=this.Bu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Qu(r);return new SK(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex(e=>e===123)}async ku(){for(;this.$u()<0&&!await this.Uu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Qu(e){for(;this.buffer.length<e;)await this.Uu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Nu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Uu(){const e=await this.Nu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new B(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>Ld(o.serializer,h))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,ge.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=cH(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());X(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=K.fromPath(r);this.mutations.push(new aI(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>Vd(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,ge.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Y(50498,{Wu:e.constructor.name});n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new B(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?Ye.exists(!1):Ye.updateTime(n):Ye.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new B(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ye.updateTime(n)}return Ye.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new TI(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new XK(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!_h(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!TD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class eG{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z(Xs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z(Xs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function F_(t,e){t.asyncQueue.verifyOperationInProgress(),z(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Hn("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hn("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function TR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MI(t);z(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mR(e.remoteStore,i)),t._onlineComponents=e}async function MI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(Xs,"Using user provided OfflineComponentProvider");try{await F_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),await F_(t,new Md)}}else z(Xs,"Using default OfflineComponentProvider"),await F_(t,new QK(void 0));return t._offlineComponents}async function ey(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(Xs,"Using user provided OnlineComponentProvider"),await TR(t,t._uninitializedComponentsProvider._online)):(z(Xs,"Using default OnlineComponentProvider"),await TR(t,new Fd))),t._onlineComponents}function RL(t){return MI(t).then(e=>e.persistence)}function FI(t){return MI(t).then(e=>e.localStore)}function PL(t){return ey(t).then(e=>e.remoteStore)}function UI(t){return ey(t).then(e=>e.syncEngine)}function tG(t){return ey(t).then(e=>e.datastore)}async function Xl(t){const e=await ey(t),n=e.eventManager;return n.onListen=CK.bind(null,e.syncEngine),n.onUnlisten=xK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OK.bind(null,e.syncEngine),n}function nG(t){return t.asyncQueue.enqueue(async()=>{const e=await RL(t),n=await PL(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.Ia.delete(0),Rh(s)}(n)})}function rG(t){return t.asyncQueue.enqueue(async()=>{const e=await RL(t),n=await PL(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.Ia.add(0),await vu(s),s.Aa.set("Offline")}(n)})}function iG(t,e){const n=new Bt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Q(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new B(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Iu(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await FI(t),e,n)),n.promise}function CL(t,e,n={}){const r=new Bt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Zg({next:f=>{d.Ou(),o.enqueueAndForget(()=>CI(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new B(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new B(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new xI(gu(a.path),d,{includeMetadataChanges:!0,ka:!0});return PI(s,h)}(await Xl(t),t.asyncQueue,e,n,r)),r.promise}function sG(t,e){const n=new Bt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Pm(i,s,!0),l=new EL(s,a.qs),u=l.nu(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Iu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await FI(t),e,n)),n.promise}function kL(t,e,n={}){const r=new Bt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Zg({next:f=>{d.Ou(),o.enqueueAndForget(()=>CI(s,h)),f.fromCache&&l.source==="server"?u.reject(new B(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new xI(a,d,{includeMetadataChanges:!0,ka:!0});return PI(s,h)}(await Xl(t),t.asyncQueue,e,n,r)),r.promise}function oG(t,e){const n=new Zg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Da.add(s),s.next()}(await Xl(t),n)),()=>{n.Ou(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Da.delete(s)}(await Xl(t),n))}}function aG(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?HE().encode(o):o,function(d,h){return new JK(d,h)}(function(d,h){if(d instanceof Uint8Array)return IR(d,h);if(d instanceof ArrayBuffer)return IR(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Ah(e));t.asyncQueue.enqueueAndForget(async()=>{GK(await UI(t),i,r)})}function lG(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ti.getNamedQuery(o,i))}(await FI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firestore.googleapis.com",bR=!0;class AR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OL,this.ssl=bR}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CH)throw new B(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hq;switch(r.type){case"firstParty":return new Yq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SR.get(n);r&&(z("ComponentProvider","Removing Datastore"),SR.delete(n),r.terminate())}(this),Promise.resolve()}}function uG(t,e,n,r={}){var i;t=be(t,Ph);const s=Qi(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(CE(`https://${l}`),kE("Firestore",!0)),o.host!==OL&&o.host!==l&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!kr(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=xt.MOCK_USER;else{d=J9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new B(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new xt(f)}t._authCredentials=new Kq(new SN(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class NL{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new NL(this.firestore,e,this._query)}},$e=class Tc{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tc(this.firestore,e,this._key)}toJSON(){return{type:Tc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yh(n,Tc._jsonSchema))return new Tc(e,r||null,new K(ge.fromString(n.referencePath)))}};$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:St("string",$e._jsonSchemaVersion),referencePath:St("string")};let Ms=class DL extends yn{constructor(e,n,r){super(e,n,gu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new K(e))}withConverter(e){return new DL(this.firestore,e,this._path)}};function LL(t,e,...n){if(t=ne(t),GE("collection","path",e),t instanceof Ph){const r=ge.fromString(e,...n);return pA(r),new Ms(t,null,r)}{if(!(t instanceof $e||t instanceof Ms))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return pA(r),new Ms(t.firestore,null,r)}}function cG(t,e){if(t=be(t,Ph),GE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yn(t,null,function(r){return new Yi(ge.emptyPath(),r)}(e))}function Om(t,e,...n){if(t=ne(t),arguments.length===1&&(e=KE.newId()),GE("doc","path",e),t instanceof Ph){const r=ge.fromString(e,...n);return fA(r),new $e(t,null,new K(r))}{if(!(t instanceof $e||t instanceof Ms))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return fA(r),new $e(t.firestore,t instanceof Ms?t.converter:null,new K(r))}}function VL(t,e){return t=ne(t),e=ne(e),(t instanceof $e||t instanceof Ms)&&(e instanceof $e||e instanceof Ms)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ML(t,e){return t=ne(t),e=ne(e),t instanceof yn&&e instanceof yn&&t.firestore===e.firestore&&Eh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="AsyncQueue";class PR{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new TI(this,"async_queue_retry"),this.oc=()=>{const r=Ip();r&&z(RR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Bt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!lo(e))throw e;z(RR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,dt("INTERNAL UNHANDLED ERROR: ",CR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=RI.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:CR(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function CR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class dG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=-1;let ft=class extends Ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PR(e),this._firestoreClient=void 0,await e}}};function on(t){if(t._terminated)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FL(t),t._firestoreClient}function FL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new N7(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eG(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function fG(t,e){Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return UL(t,Fd.provider,{build:r=>new AL(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function pG(t){Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();UL(t,Fd.provider,{build:n=>new YK(n,e.cacheSizeBytes)})}function UL(t,e,n){if((t=be(t,ft))._firestoreClient||t._terminated)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new B(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},FL(t)}function mG(t){if(t._initialized&&!t._terminated)throw new B(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Bt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ai.C())return Promise.resolve();const i=r+XD;await ai.delete(i)}(vI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function gG(t){return function(n){const r=new Bt;return n.asyncQueue.enqueueAndForget(async()=>MK(await UI(n),r)),r.promise}(on(t=be(t,ft)))}function yG(t){return nG(on(t=be(t,ft)))}function _G(t){return rG(on(t=be(t,ft)))}function vG(t,e){const n=on(t=be(t,ft)),r=new dG;return aG(n,t._databaseId,e,r),r}function wG(t,e){return lG(on(t=be(t,ft)),e).then(n=>n?new yn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nn(at.fromBase64String(e))}catch(n){throw new B(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nn(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yh(e,nn._jsonSchema))return nn.fromBase64String(e.bytes)}}nn._jsonSchemaVersion="firestore/bytes/1.0",nn._jsonSchema={type:St("string",nn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(yh(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:St("string",Rr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yh(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ui(e.vectorValues);throw new B(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:St("string",ui._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=/^__.*__$/;class IG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class $L{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:t})}}class ty{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jL(this.Ec)&&EG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class TG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}Dc(e,n,r,i=!1){return new ty({Ec:e,methodName:n,bc:r,path:Qe.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ya(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new TG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ny(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);HI("Data must be an object, but it was:",o,r);const a=WL(r,o);let l,u;if(s.merge)l=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Bw(e,h,n);if(!o.contains(f))throw new B(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HL(d,f)||d.push(f)}l=new Sn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new IG(new $t(a),l,u)}class Ch extends ga{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function BL(t,e,n){return new ty({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $I extends ga{_toFieldTransform(e){return new Th(e.path,new Wl)}isEqual(e){return e instanceof $I}}class jI extends ga{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=BL(this,e,!0),r=this.vc.map(s=>_a(s,n)),i=new na(r);return new Th(e.path,i)}isEqual(e){return e instanceof jI&&kr(this.vc,e.vc)}}class BI extends ga{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=BL(this,e,!0),r=this.vc.map(s=>_a(s,n)),i=new ra(r);return new Th(e.path,i)}isEqual(e){return e instanceof BI&&kr(this.vc,e.vc)}}class zI extends ga{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new ql(e.serializer,gD(e.serializer,this.Cc));return new Th(e.path,n)}isEqual(e){return e instanceof zI&&this.Cc===e.Cc}}function WI(t,e,n,r){const i=t.Dc(1,e,n);HI("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();uo(r,(l,u)=>{const d=KI(e,l,n);u=ne(u);const h=i.gc(d);if(u instanceof Ch)s.push(d);else{const f=_a(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Sn(s);return new $L(o,a,i.fieldTransforms)}function qI(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[Bw(e,r,n)],l=[i];if(s.length%2!=0)throw new B(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Bw(e,s[f])),l.push(s[f+1]);const u=[],d=$t.empty();for(let f=a.length-1;f>=0;--f)if(!HL(u,a[f])){const m=a[f];let g=l[f];g=ne(g);const v=o.gc(m);if(g instanceof Ch)u.push(m);else{const T=_a(g,v);T!=null&&(u.push(m),d.set(m,T))}}const h=new Sn(u);return new $L(d,h,o.fieldTransforms)}function zL(t,e,n,r=!1){return _a(n,t.Dc(r?4:3,e))}function _a(t,e){if(qL(t=ne(t)))return HI("Unsupported field value:",e,t),WL(t,e);if(t instanceof ga)return function(r,i){if(!jL(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_a(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ke.fromDate(r);return{timestampValue:Hl(i.serializer,s)}}if(r instanceof ke){const s=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hl(i.serializer,s)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nn)return{bytesValue:RD(i.serializer,r._byteString)};if(r instanceof $e){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ui)return function(o,a){return{mapValue:{fields:{[tI]:{stringValue:nI},[jl]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return oI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Fg(r)}`)}(t,e)}function WL(t,e){const n={};return qN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{const s=_a(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Rr||t instanceof nn||t instanceof $e||t instanceof ga||t instanceof ui)}function HI(t,e,n){if(!qL(n)||!RN(n)){const r=Fg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Bw(t,e,n){if((e=ne(e))instanceof Zs)return e._internalPath;if(typeof e=="string")return KI(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const SG=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(SG)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zs(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(F.INVALID_ARGUMENT,a+t+l)}function HL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bG extends Ud{data(){return super.data()}}function ry(t,e){return typeof e=="string"?KI(t,e):e instanceof Zs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GI{}class kh extends GI{}function fs(t,e,...n){let r=[];e instanceof GI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof QI).length,a=s.filter(l=>l instanceof iy).length;if(o>1||o>0&&a>0)throw new B(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class iy extends kh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iy(e,n,r)}_apply(e){const n=this._parse(e);return QL(e._query,n),new yn(e.firestore,e.converter,Pw(e._query,n))}_parse(e){const n=ya(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xR(h,d);const g=[];for(const v of h)g.push(kR(l,s,v));f={arrayValue:{values:g}}}else f=kR(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xR(h,d),f=zL(a,o,h,d==="in"||d==="not-in");return _e.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AG(t,e,n){const r=e,i=ry("where",t);return iy._create(i,r,n)}class QI extends GI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)QL(o,l),o=Pw(o,l)}(e._query,n),new yn(e.firestore,e.converter,Pw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YI extends kh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dd(s,o)}(e._query,this._field,this._direction);return new yn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Yi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function RG(t,e="asc"){const n=e,r=ry("orderBy",t);return YI._create(r,n)}class sy extends kh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sy(e,n,r)}_apply(e){return new yn(e.firestore,e.converter,Tm(e._query,this._limit,this._limitType))}}function PG(t){return PN("limit",t),sy._create("limit",t,"F")}function CG(t){return PN("limitToLast",t),sy._create("limitToLast",t,"L")}class oy extends kh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new oy(e,n,r)}_apply(e){const n=GL(e,this.type,this._docOrFields,this._inclusive);return new yn(e.firestore,e.converter,function(i,s){return new Yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function kG(...t){return oy._create("startAt",t,!0)}function xG(...t){return oy._create("startAfter",t,!1)}class ay extends kh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ay(e,n,r)}_apply(e){const n=GL(e,this.type,this._docOrFields,this._inclusive);return new yn(e.firestore,e.converter,function(i,s){return new Yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function OG(...t){return ay._create("endBefore",t,!1)}function NG(...t){return ay._create("endAt",t,!0)}function GL(t,e,n,r){if(n[0]=ne(n[0]),n[0]instanceof Ud)return function(s,o,a,l,u){if(!l)throw new B(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of yl(s))if(h.field.isKeyField())d.push(ea(o,l.key));else{const f=l.data.field(h.field);if(zg(f))throw new B(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new B(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Ys(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ya(t.firestore);return function(o,a,l,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new B(F.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let g=0;g<d.length;g++){const v=d[g];if(f[g].field.isKeyField()){if(typeof v!="string")throw new B(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!iI(o)&&v.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const T=o.path.child(ge.fromString(v));if(!K.isDocumentKey(T))throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const I=new K(T);m.push(ea(a,I))}else{const T=zL(l,u,v);m.push(T)}}return new Ys(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function kR(t,e,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(e)&&n.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!K.isDocumentKey(r))throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ea(t,new K(r))}if(n instanceof $e)return ea(t,n._key);throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(n)}.`)}function xR(t,e){if(!Array.isArray(t)||t.length===0)throw new B(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QL(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JI{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[jl].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new ui(s)}convertGeoPoint(e){return new Rr(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);X(FD(r),9688,{name:e});const i=new Ks(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class DG extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let sr=class YL extends Ud{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=YL._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",sr._jsonSchema={type:St("string",sr._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};let Gc=class extends sr{data(e={}){return super.data(e)}},Pr=class JL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:LG(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=JL._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=KE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function LG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}function XL(t,e){return t instanceof sr&&e instanceof sr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Pr&&e instanceof Pr&&t._firestore===e._firestore&&ML(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){t=be(t,$e);const e=be(t.firestore,ft);return CL(on(e),t._key).then(n=>XI(e,t,n))}Pr._jsonSchemaVersion="firestore/querySnapshot/1.0",Pr._jsonSchema={type:St("string",Pr._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class va extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function MG(t){t=be(t,$e);const e=be(t.firestore,ft),n=on(e),r=new va(e);return iG(n,t._key).then(i=>new sr(e,r,t._key,i,new Fo(i!==null&&i.hasLocalMutations,!0),t.converter))}function FG(t){t=be(t,$e);const e=be(t.firestore,ft);return CL(on(e),t._key,{source:"server"}).then(n=>XI(e,t,n))}function UG(t){t=be(t,yn);const e=be(t.firestore,ft),n=on(e),r=new va(e);return KL(t._query),kL(n,t._query).then(i=>new Pr(e,r,t,i))}function $G(t){t=be(t,yn);const e=be(t.firestore,ft),n=on(e),r=new va(e);return sG(n,t._query).then(i=>new Pr(e,r,t,i))}function jG(t){t=be(t,yn);const e=be(t.firestore,ft),n=on(e),r=new va(e);return kL(n,t._query,{source:"server"}).then(i=>new Pr(e,r,t,i))}function OR(t,e,n){t=be(t,$e);const r=be(t.firestore,ft),i=ly(t.converter,e,n);return xh(r,[ny(ya(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ye.none())])}function NR(t,e,n,...r){t=be(t,$e);const i=be(t.firestore,ft),s=ya(i);let o;return o=typeof(e=ne(e))=="string"||e instanceof Zs?qI(s,"updateDoc",t._key,e,n,r):WI(s,"updateDoc",t._key,e),xh(i,[o.toMutation(t._key,Ye.exists(!0))])}function BG(t){return xh(be(t.firestore,ft),[new _u(t._key,Ye.none())])}function zG(t,e){const n=be(t.firestore,ft),r=Om(t),i=ly(t.converter,e);return xh(n,[ny(ya(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function ZL(t,...e){var n,r,i;t=ne(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jw(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof $e)u=be(t.firestore,ft),d=gu(t._key.path),l={next:h=>{e[o]&&e[o](XI(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=be(t,yn);u=be(h.firestore,ft),d=h._query;const f=new va(u);l={next:m=>{e[o]&&e[o](new Pr(u,f,h,m))},error:e[o+1],complete:e[o+2]},KL(t._query)}return function(f,m,g,v){const T=new Zg(v),I=new xI(m,T,g);return f.asyncQueue.enqueueAndForget(async()=>PI(await Xl(f),I)),()=>{T.Ou(),f.asyncQueue.enqueueAndForget(async()=>CI(await Xl(f),I))}}(on(u),d,a,l)}function WG(t,e){return oG(on(t=be(t,ft)),jw(e)?e:{next:e})}function xh(t,e){return function(r,i){const s=new Bt;return r.asyncQueue.enqueueAndForget(async()=>NK(await UI(r),i,s)),s.promise}(on(t),e)}function XI(t,e,n){const r=n.docs.get(e._key),i=new va(t);return new sr(t,i,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HG=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ya(e)}set(e,n,r){this._verifyNotCommitted();const i=Ss(e,this._firestore),s=ly(i.converter,n,r),o=ny(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ye.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ss(e,this._firestore);let o;return o=typeof(n=ne(n))=="string"||n instanceof Zs?qI(this._dataReader,"WriteBatch.update",s._key,n,r,i):WI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ye.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ss(e,this._firestore);return this._mutations=this._mutations.concat(new _u(n._key,Ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ss(t,e){if((t=ne(t)).firestore!==e)throw new B(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ya(e)}get(e){const n=Ss(e,this._firestore),r=new DG(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Y(24041);const s=i[0];if(s.isFoundDocument())return new Ud(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ud(this._firestore,r,n._key,null,n.converter);throw Y(18433,{doc:s})})}set(e,n,r){const i=Ss(e,this._firestore),s=ly(i.converter,n,r),o=ny(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Ss(e,this._firestore);let o;return o=typeof(n=ne(n))=="string"||n instanceof Zs?qI(this._dataReader,"Transaction.update",s._key,n,r,i):WI(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Ss(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GG=class extends KG{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ss(e,this._firestore),r=new va(this._firestore);return super.get(e).then(i=>new sr(this._firestore,r,n._key,i._document,new Fo(!1,!1),n.converter))}};function QG(t,e,n){t=be(t,ft);const r=Object.assign(Object.assign({},qG),n);return function(s){if(s.maxAttempts<1)throw new B(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Bt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await tG(s);new ZK(s.asyncQueue,u,a,o,l).zu()}),l.promise}(on(t),i=>e(new GG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(){return new Ch("deleteField")}function JG(){return new $I("serverTimestamp")}function XG(...t){return new jI("arrayUnion",t)}function ZG(...t){return new BI("arrayRemove",t)}function eQ(t){return new zI("increment",t)}(function(e,n=!0){(function(i){mu=i})(Yn),ci(new lr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ft(new Gq(r.getProvider("auth-internal")),new Jq(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wn(lA,uA,e),Wn(lA,uA,"esm2017")})();const tQ="@firebase/firestore-compat",nQ="0.3.53";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new B("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof Uint8Array>"u")throw new B("unimplemented","Uint8Arrays are not available in this environment.")}function LR(){if(!x7())throw new B("unimplemented","Blobs are unavailable in Firestore in this environment.")}let e2=class zw{constructor(e){this._delegate=e}static fromBase64String(e){return LR(),new zw(nn.fromBase64String(e))}static fromUint8Array(e){return DR(),new zw(nn.fromUint8Array(e))}toBase64(){return LR(),this._delegate.toBase64()}toUint8Array(){return DR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){return rQ(t,["next","error","complete"])}function rQ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{enableIndexedDbPersistence(e,n){return fG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return pG(e._delegate)}clearIndexedDbPersistence(e){return mG(e._delegate)}}class t2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ks||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){uG(this._delegate,e,n,r)}enableNetwork(){return yG(this._delegate)}disableNetwork(){return _G(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return gG(this._delegate)}onSnapshotsInSync(e){return WG(this._delegate,e)}get app(){if(!this._appCompat)throw new B("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zl(this,LL(this._delegate,e))}catch(n){throw pn(n,"collection()","Firestore.collection()")}}doc(e){try{return new nr(this,Om(this._delegate,e))}catch(n){throw pn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fn(this,cG(this._delegate,e))}catch(n){throw pn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return QG(this._delegate,n=>e(new n2(this,n)))}batch(){return on(this._delegate),new r2(new HG(this._delegate,e=>xh(this._delegate,e)))}loadBundle(e){return vG(this._delegate,e)}namedQuery(e){return wG(this._delegate,e).then(n=>n?new fn(this,n):null)}}class uy extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new e2(new nn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return nr.forKey(n,this.firestore,null)}}function sQ(t){Wq(t)}class n2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new uy(e)}get(e){const n=Uo(e);return this._delegate.get(n).then(r=>new $d(this._firestore,new sr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Uo(e);return r?(ZI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Uo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Uo(e);return this._delegate.delete(n),this}}class r2{constructor(e){this._delegate=e}set(e,n,r){const i=Uo(e);return r?(ZI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Uo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Uo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class la{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Gc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=la.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new la(e,new uy(e),n),i.set(n,s)),s}}la.INSTANCES=new WeakMap;class nr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new uy(e)}static forPath(e,n,r){if(e.length%2!==0)throw new B("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nr(n,new $e(n._delegate,r,new K(e)))}static forKey(e,n,r){return new nr(n,new $e(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Zl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zl(this.firestore,LL(this._delegate,e))}catch(n){throw pn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ne(e),e instanceof $e?VL(this._delegate,e):!1}set(e,n){n=ZI("DocumentReference.set",n);try{return n?OR(this._delegate,e,n):OR(this._delegate,e)}catch(r){throw pn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?NR(this._delegate,e):NR(this._delegate,e,n,...r)}catch(i){throw pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return BG(this._delegate)}onSnapshot(...e){const n=i2(e),r=s2(e,i=>new $d(this.firestore,new sr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ZL(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=MG(this._delegate):(e==null?void 0:e.source)==="server"?n=FG(this._delegate):n=VG(this._delegate),n.then(r=>new $d(this.firestore,new sr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new nr(this.firestore,e?this._delegate.withConverter(la.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pn(t,e,n){return t.message=t.message.replace(e,n),t}function i2(t){for(const e of t)if(typeof e=="object"&&!Ww(e))return e;return{}}function s2(t,e){var n,r;let i;return Ww(t[0])?i=t[0]:Ww(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class $d{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new nr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return XL(this._delegate,e._delegate)}}class jd extends $d{data(e){const n=this._delegate.data(e);return this._delegate._converter||qq(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class fn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new uy(e)}where(e,n,r){try{return new fn(this.firestore,fs(this._delegate,AG(e,n,r)))}catch(i){throw pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fn(this.firestore,fs(this._delegate,RG(e,n)))}catch(r){throw pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fn(this.firestore,fs(this._delegate,PG(e)))}catch(n){throw pn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fn(this.firestore,fs(this._delegate,CG(e)))}catch(n){throw pn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fn(this.firestore,fs(this._delegate,kG(...e)))}catch(n){throw pn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fn(this.firestore,fs(this._delegate,xG(...e)))}catch(n){throw pn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fn(this.firestore,fs(this._delegate,OG(...e)))}catch(n){throw pn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fn(this.firestore,fs(this._delegate,NG(...e)))}catch(n){throw pn(n,"endAt()","Query.endAt()")}}isEqual(e){return ML(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=$G(this._delegate):(e==null?void 0:e.source)==="server"?n=jG(this._delegate):n=UG(this._delegate),n.then(r=>new qw(this.firestore,new Pr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=i2(e),r=s2(e,i=>new qw(this.firestore,new Pr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ZL(this._delegate,n,r)}withConverter(e){return new fn(this.firestore,e?this._delegate.withConverter(la.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class oQ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new oQ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new jd(this._firestore,r))})}isEqual(e){return XL(this._delegate,e._delegate)}}class Zl extends fn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nr(this.firestore,e):null}doc(e){try{return e===void 0?new nr(this.firestore,Om(this._delegate)):new nr(this.firestore,Om(this._delegate,e))}catch(n){throw pn(n,"doc()","CollectionReference.doc()")}}add(e){return zG(this._delegate,e).then(n=>new nr(this.firestore,n))}isEqual(e){return VL(this._delegate,e._delegate)}withConverter(e){return new Zl(this.firestore,e?this._delegate.withConverter(la.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Uo(t){return be(t,$e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(...e){this._delegate=new Zs(...e)}static documentId(){return new eT(Qe.keyField().canonicalString())}isEqual(e){return e=ne(e),e instanceof Zs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static serverTimestamp(){const e=JG();return e._methodName="FieldValue.serverTimestamp",new Oo(e)}static delete(){const e=YG();return e._methodName="FieldValue.delete",new Oo(e)}static arrayUnion(...e){const n=XG(...e);return n._methodName="FieldValue.arrayUnion",new Oo(n)}static arrayRemove(...e){const n=ZG(...e);return n._methodName="FieldValue.arrayRemove",new Oo(n)}static increment(e){const n=eQ(e);return n._methodName="FieldValue.increment",new Oo(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ={Firestore:t2,GeoPoint:Rr,Timestamp:ke,Blob:e2,Transaction:n2,WriteBatch:r2,DocumentReference:nr,DocumentSnapshot:$d,Query:fn,QueryDocumentSnapshot:jd,QuerySnapshot:qw,CollectionReference:Zl,FieldPath:eT,FieldValue:Oo,setLogLevel:sQ,CACHE_SIZE_UNLIMITED:hG};function lQ(t,e){t.INTERNAL.registerComponent(new lr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},aQ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){lQ(t,(e,n)=>new t2(e,n,new iQ)),t.registerVersion(tQ,nQ)}uQ(fu);const rc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function o2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dQ=cQ,hQ=o2,a2=new mi("auth","Firebase",o2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new hh("@firebase/auth");function fQ(t,...e){Dm.logLevel<=fe.WARN&&Dm.warn(`Auth (${Yn}): ${t}`,...e)}function Tp(t,...e){Dm.logLevel<=fe.ERROR&&Dm.error(`Auth (${Yn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,...e){throw nT(t,...e)}function Rt(t,...e){return nT(t,...e)}function tT(t,e,n){const r=Object.assign(Object.assign({},hQ()),{[e]:n});return new mi("auth","Firebase",r).create(e,{appName:t.name})}function Dt(t){return tT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wt(t,"argument-error"),tT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a2.create(t,...e)}function W(t,e,...n){if(!t)throw nT(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function Or(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rT(){return VR()==="http:"||VR()==="https:"}function VR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rT()||xE()||"connection"in navigator)?navigator.onLine:!0}function mQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=cO()||xg()}get(){return pQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_Q=new Oh(3e4,6e4);function lt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ut(t,e,n,r,i={}){return u2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Dr(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return hO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qi(t.emulatorConfig.host)&&(u.credentials="include"),l2.fetch()(await c2(t,t.config.apiHost,n,a),u)})}async function u2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gQ),e);try{const i=new wQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tT(t,d,u);Wt(t,d)}}catch(i){if(i instanceof Nt)throw i;Wt(t,"network-request-failed",{message:String(i)})}}async function es(t,e,n,r,i={}){const s=await ut(t,e,n,r,i);return"mfaPendingCredential"in s&&Wt(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function c2(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?iT(t.config,i):`${t.config.apiScheme}://${i}`;return yQ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function vQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rt(this.auth,"network-request-failed")),_Q.get())})}}function Sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return t!==void 0&&t.getResponse!==void 0}function FR(t){return t!==void 0&&t.enterprise!==void 0}class d2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EQ(t){return(await ut(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function h2(t,e){return ut(t,"GET","/v2/recaptchaConfig",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(t,e){return ut(t,"POST","/v1/accounts:delete",e)}async function TQ(t,e){return ut(t,"POST","/v1/accounts:update",e)}async function Lm(t,e){return ut(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SQ(t,e=!1){const n=ne(t),r=await n.getIdToken(e),i=cy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qc(U_(i.auth_time)),issuedAtTime:Qc(U_(i.iat)),expirationTime:Qc(U_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function U_(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pg(n);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UR(t){const e=cy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nt&&bQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hi(t,Lm(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?f2(s.providerUserInfo):[],a=PQ(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function RQ(t){const e=ne(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f2(t){return t.map(e=>{var{providerId:n}=e,r=pu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(t,e){const n=await u2(t,{},async()=>{const r=Dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await c2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qi(t.emulatorConfig.host)&&(l.credentials="include"),l2.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kQ(t,e){return ut(t,"POST","/v2/accounts:revokeToken",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=UR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await CQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vl;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Hi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SQ(this,e)}reload(){return RQ(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ee(this.auth.app))return Promise.reject(Dt(this.auth));const e=await this.getIdToken();return await Hi(this,IQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:C,isAnonymous:x,providerData:D,stsTokenManager:b}=n;W(E&&b,e,"internal-error");const S=vl.fromJSON(this.name,b);W(typeof E=="string",e,"internal-error"),ps(h,e.name),ps(f,e.name),W(typeof C=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),ps(m,e.name),ps(g,e.name),ps(v,e.name),ps(T,e.name),ps(I,e.name),ps(w,e.name);const R=new Sr({uid:E,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:x,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:I,lastLoginAt:w});return D&&Array.isArray(D)&&(R.providerData=D.map(y=>Object.assign({},y))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new vl;i.updateFromServerResponse(n);const s=new Sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?f2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new vl;a.updateFromIdToken(r);const l=new Sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Map;function $n(t){Or(t instanceof Function,"Expected a class definition");let e=$R.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$R.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p2.type="NONE";const eu=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qo(this.userKey,i.apiKey,s),this.fullPersistenceKey=qo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lm(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl($n(eu),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||$n(eu);const o=qo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Lm(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Sr._fromGetAccountInfoResponse(e,f,d)}else h=Sr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v2(e))return"Blackberry";if(w2(e))return"Webos";if(g2(e))return"Safari";if((e.includes("chrome/")||y2(e))&&!e.includes("edge/"))return"Chrome";if(Nh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function m2(t=ve()){return/firefox\//i.test(t)}function g2(t=ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y2(t=ve()){return/crios\//i.test(t)}function _2(t=ve()){return/iemobile/i.test(t)}function Nh(t=ve()){return/android/i.test(t)}function v2(t=ve()){return/blackberry/i.test(t)}function w2(t=ve()){return/webos/i.test(t)}function Dh(t=ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xQ(t=ve()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function OQ(t=ve()){var e;return Dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NQ(){return OE()&&document.documentMode===10}function E2(t=ve()){return Dh(t)||Nh(t)||w2(t)||v2(t)||/windows phone/i.test(t)||_2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e=[]){let n;switch(t){case"Browser":n=jR(ve());break;case"Worker":n=`${jR(ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LQ(t,e={}){return ut(t,"GET","/v2/passwordPolicy",lt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=6;class MQ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BR(this),this.idTokenSubscription=new BR(this),this.beforeStateQueue=new DQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lm(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ee(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ee(this.app))return Promise.reject(Dt(this));const n=e?ne(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ee(this.app)?Promise.reject(Dt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ee(this.app)?Promise.reject(Dt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LQ(this),n=new MQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ee(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nt(t){return ne(t)}class BR{constructor(e){this.auth=e,this.observer=null,this.addObserver=NE(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UQ(t){Lh=t}function sT(t){return Lh.loadJS(t)}function $Q(){return Lh.recaptchaV2Script}function jQ(){return Lh.recaptchaEnterpriseScript}function BQ(){return Lh.gapiScript}function T2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=500,WQ=6e4,Vf=1e12;class qQ{constructor(e){this.auth=e,this.counter=Vf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new GQ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Vf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Vf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Vf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class HQ{constructor(){this.enterprise=new KQ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KQ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GQ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=QQ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},WQ)},zQ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function QQ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const YQ="recaptcha-enterprise",Yc="NO_RECAPTCHA";class S2{constructor(e){this.type=YQ,this.auth=nt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new d2(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;FR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Yc)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HQ().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jQ();l.length!==0&&(l+=a),sT(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ic(t,e,n,r=!1,i=!1){const s=new S2(t);let o;if(i)o=Yc;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fs(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ic(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ic(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ic(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await ic(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await ic(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}async function JQ(t){const e=nt(t),n=await h2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new d2(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new S2(e).verify()}function XQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZQ(t,e,n){const r=nt(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=b2(e),{host:o,port:a}=eY(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(kr(u,r.config.emulator)&&kr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Qi(o)?(CE(`${s}//${o}${l}`),kE("Auth",!0)):i||tY()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eY(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zR(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zR(o)}}}function zR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e){return ut(t,"POST","/v1/accounts:resetPassword",lt(t,e))}async function nY(t,e){return ut(t,"POST","/v1/accounts:update",e)}async function rY(t,e){return ut(t,"POST","/v1/accounts:signUp",e)}async function iY(t,e){return ut(t,"POST","/v1/accounts:update",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e){return es(t,"POST","/v1/accounts:signInWithPassword",lt(t,e))}async function dy(t,e){return ut(t,"POST","/v1/accounts:sendOobCode",lt(t,e))}async function oY(t,e){return dy(t,e)}async function aY(t,e){return dy(t,e)}async function lY(t,e){return dy(t,e)}async function uY(t,e){return dy(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(t,e){return es(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))}async function dY(t,e){return es(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Su{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fs(e,n,"signInWithPassword",sY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cY(e,{email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fs(e,r,"signUpPassword",rY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dY(e,{idToken:n,email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e){return es(t,"POST","/v1/accounts:signInWithIdp",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY="http://localhost";class hi extends Su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:hY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e){return ut(t,"POST","/v1/accounts:sendVerificationCode",lt(t,e))}async function fY(t,e){return es(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,e))}async function pY(t,e){const n=await es(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,e));if(n.temporaryProof)throw Sc(t,"account-exists-with-different-credential",n);return n}const mY={USER_NOT_FOUND:"user-not-found"};async function gY(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return es(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,n),mY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Su{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ho({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ho({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return fY(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return pY(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return gY(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Ho({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _Y(t){const e=Tr(Xr(t)).link,n=e?Tr(Xr(e)).deep_link_id:null,r=Tr(Xr(t)).deep_link_id;return(r?Tr(Xr(r)).link:null)||r||n||e||t}class hy{constructor(e){var n,r,i,s,o,a;const l=Tr(Xr(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=yY((i=l.mode)!==null&&i!==void 0?i:null);W(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_Y(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return Wd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return W(r,"argument-error"),Wd._fromEmailAndCode(e,r.code,r.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class El extends bu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),hi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),hi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return El.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return El.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new El(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends bu{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends bu{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="http://localhost";class tu extends Su{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new tu(r,s)}static _create(e,n){return new tu(e,n)}buildRequest(){return{requestUri:vY,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY="saml.";class Vm extends ts{constructor(e){W(e.startsWith(wY),"argument-error"),super(e)}static credentialFromResult(e){return Vm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=tu.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return tu._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends bu{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e){return es(t,"POST","/v1/accounts:signUp",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Sr._fromIdTokenResponse(e,r,i),o=qR(r);return new ur({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qR(r);return new ur({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EY(t){var e;if(Ee(t.app))return Promise.reject(Dt(t));const n=nt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ur({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await R2(n,{returnSecureToken:!0}),i=await ur._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Nt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mm(e,n,r,i)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mm._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IY(t,e){const n=ne(t);await fy(!0,n,e);const{providerUserInfo:r}=await TQ(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=C2(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function oT(t,e,n=!1){const r=await Hi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ur._forOperation(t,"link",r)}async function fy(t,e,n){await zd(e);const r=C2(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e,n=!1){const{auth:r}=t;if(Ee(r.app))return Promise.reject(Dt(r));const i="reauthenticate";try{const s=await Hi(t,P2(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=cy(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),ur._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e,n=!1){if(Ee(t.app))return Promise.reject(Dt(t));const r="signIn",i=await P2(t,r,e),s=await ur._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function py(t,e){return x2(nt(t),e)}async function O2(t,e){const n=ne(t);return await fy(!1,n,e.providerId),oT(n,e)}async function N2(t,e){return k2(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY(t,e){return es(t,"POST","/v1/accounts:signInWithCustomToken",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e){if(Ee(t.app))return Promise.reject(Dt(t));const n=nt(t),r=await TY(n,{token:e,returnSecureToken:!0}),i=await ur._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?aT._fromServerResponse(e,n):"totpInfo"in n?lT._fromServerResponse(e,n):Wt(e,"internal-error")}}class aT extends Vh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new aT(n)}}class lT extends Vh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new lT(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),W(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t){const e=nt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bY(t,e,n){const r=nt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&my(r,i,n),await Fs(r,i,"getOobCode",aY,"EMAIL_PASSWORD_PROVIDER")}async function AY(t,e,n){await A2(ne(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uT(t),r})}async function RY(t,e){await iY(ne(t),{oobCode:e})}async function D2(t,e){const n=ne(t),r=await A2(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Vh._fromServerResponse(nt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function PY(t,e){const{data:n}=await D2(ne(t),e);return n.email}async function CY(t,e,n){if(Ee(t.app))return Promise.reject(Dt(t));const r=nt(t),o=await Fs(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R2,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uT(t),l}),a=await ur._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kY(t,e,n){return Ee(t.app)?Promise.reject(Dt(t)):py(ne(t),fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xY(t,e,n){const r=nt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&my(r,o,a)}s(i,n),await Fs(r,i,"getOobCode",lY,"EMAIL_PASSWORD_PROVIDER")}function OY(t,e){const n=hy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function NY(t,e,n){if(Ee(t.app))return Promise.reject(Dt(t));const r=ne(t),i=fo.credentialWithLink(e,n||Bd());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),py(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DY(t,e){return ut(t,"POST","/v1/accounts:createAuthUri",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LY(t,e){const n=rT()?Bd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await DY(ne(t),r);return i||[]}async function VY(t,e){const n=ne(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&my(n.auth,i,e);const{email:s}=await oY(n.auth,i);s!==t.email&&await t.reload()}async function MY(t,e,n){const r=ne(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&my(r.auth,s,n);const{email:o}=await uY(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e){return ut(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ne(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Hi(r,FY(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $Y(t,e){const n=ne(t);return Ee(n.auth.app)?Promise.reject(Dt(n.auth)):L2(n,e,null)}function jY(t,e){return L2(ne(t),null,e)}async function L2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Hi(t,nY(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=cy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Il(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new zY(s,i);case"github.com":return new WY(s,i);case"google.com":return new qY(s,i);case"twitter.com":return new HY(s,i,t.screenName||null);case"custom":case"anonymous":return new Il(s,null);default:return new Il(s,r,i)}}class Il{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class V2 extends Il{constructor(e,n,r,i){super(e,n,r),this.username=i}}class zY extends Il{constructor(e,n){super(e,"facebook.com",n)}}class WY extends V2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class qY extends Il{constructor(e,n){super(e,"google.com",n)}}class HY extends V2{constructor(e,n,r){super(e,"twitter.com",n,r)}}function KY(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:BY(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new $o("enroll",e,n)}static _fromMfaPendingCredential(e){return new $o("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return $o._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return $o._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=nt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Vh._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=$o._fromMfaPendingCredential(i.mfaPendingCredential);return new cT(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await ur._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),ur._forOperation(n.user,n.operationType,u);default:Wt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function GY(t,e){var n;const r=ne(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),cT._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){return ut(t,"POST","/v2/accounts/mfaEnrollment:start",lt(t,e))}function QY(t,e){return ut(t,"POST","/v2/accounts/mfaEnrollment:finalize",lt(t,e))}function YY(t,e){return ut(t,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(t,e))}class dT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Vh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new dT(e)}async getSession(){return $o._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Hi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Hi(this.user,YY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const $_=new WeakMap;function JY(t){const e=ne(t);return $_.has(e)||$_.set(e,dT._fromUser(e)),$_.get(e)}const Fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=1e3,ZY=10;class F2 extends M2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);NQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F2.type="LOCAL";const hT=F2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2 extends M2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U2.type="SESSION";const ua=U2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await eJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Mh("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return window}function nJ(t){Et().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof Et().WorkerGlobalScope<"u"&&typeof Et().importScripts=="function"}async function rJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sJ(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebaseLocalStorageDb",oJ=1,Um="firebaseLocalStorage",j2="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yy(t,e){return t.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function aJ(){const t=indexedDB.deleteDatabase($2);return new Fh(t).toPromise()}function Kw(){const t=indexedDB.open($2,oJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Um,{keyPath:j2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Um)?e(r):(r.close(),await aJ(),e(await Kw()))})})}async function KR(t,e,n){const r=yy(t,!0).put({[j2]:e,value:n});return new Fh(r).toPromise()}async function lJ(t,e){const n=yy(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function GR(t,e){const n=yy(t,!0).delete(e);return new Fh(n).toPromise()}const uJ=800,cJ=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gy._getInstance(sJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rJ(),!this.activeServiceWorker)return;this.sender=new tJ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kw();return await KR(e,Fm,"1"),await GR(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lJ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yy(i,!1).getAll();return new Fh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const qd=B2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e){return ut(t,"POST","/v2/accounts/mfaSignIn:start",lt(t,e))}function dJ(t,e){return ut(t,"POST","/v2/accounts/mfaSignIn:finalize",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=T2("rcb"),hJ=new Oh(3e4,6e4);class fJ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Et().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(pJ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&MR(Et().grecaptcha)?Promise.resolve(Et().grecaptcha):new Promise((r,i)=>{const s=Et().setTimeout(()=>{i(Rt(e,"network-request-failed"))},hJ.get());Et()[j_]=()=>{Et().clearTimeout(s),delete Et()[j_];const a=Et().grecaptcha;if(!a||!MR(a)){i(Rt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${$Q()}?${Dr({onload:j_,render:"explicit",hl:n})}`;sT(o).catch(()=>{clearTimeout(s),i(Rt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Et().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function pJ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class mJ{async load(e){return new qQ(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="recaptcha",gJ={theme:"light",type:"image"};let yJ=class{constructor(e,n,r=Object.assign({},gJ)){this.parameters=r,this.type=Jc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nt(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mJ:new fJ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Et()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(rT()&&!fT(),this.auth,"internal-error"),await _J(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await EQ(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _J(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ho._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function vJ(t,e,n){if(Ee(t.app))return Promise.reject(Dt(t));const r=nt(t),i=await _y(r,e,ne(n));return new pT(i,s=>py(r,s))}async function wJ(t,e,n){const r=ne(t);await fy(!1,r,"phone");const i=await _y(r.auth,e,ne(n));return new pT(i,s=>O2(r,s))}async function EJ(t,e,n){const r=ne(t);if(Ee(r.auth.app))return Promise.reject(Dt(r.auth));const i=await _y(r.auth,e,ne(n));return new pT(i,s=>N2(r,s))}async function _y(t,e,n){var r;if(!t._getRecaptchaConfig())try{await JQ(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){W(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Fs(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Yc){W((n==null?void 0:n.type)===Jc,d,"argument-error");const f=await B_(d,h,n);return HR(d,f)}return HR(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{W(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;W(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Fs(t,a,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Yc){W((n==null?void 0:n.type)===Jc,h,"argument-error");const m=await B_(h,f,n);return QR(h,m)}return QR(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Fs(t,s,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Yc){W((n==null?void 0:n.type)===Jc,u,"argument-error");const h=await B_(u,d,n);return WR(u,h)}return WR(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function IJ(t,e){const n=ne(t);if(Ee(n.auth.app))return Promise.reject(Dt(n.auth));await oT(n,e)}async function B_(t,e,n){W(n.type===Jc,t,"argument-error");const r=await n.verify();W(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class Sp{constructor(e){this.providerId=Sp.PROVIDER_ID,this.auth=nt(e)}verifyPhoneNumber(e,n){return _y(this.auth,e,ne(n))}static credential(e,n){return Ho._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Sp.credentialFromTaggedObject(n)}static credentialFromError(e){return Sp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ho._fromTokenResponse(n,r):null}};ca.PROVIDER_ID="phone";ca.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){return e?$n(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TJ(t){return x2(t.auth,new mT(t),t.bypassAuthState)}function SJ(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),k2(n,new mT(t),t.bypassAuthState)}async function bJ(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),oT(n,new mT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TJ;case"linkViaPopup":case"linkViaRedirect":return bJ;case"reauthViaPopup":case"reauthViaRedirect":return SJ;default:Wt(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=new Oh(2e3,1e4);async function RJ(t,e,n){if(Ee(t.app))return Promise.reject(Rt(t,"operation-not-supported-in-this-environment"));const r=nt(t);Tu(t,e,ts);const i=wa(r,n);return new xi(r,"signInViaPopup",e,i).executeNotNull()}async function PJ(t,e,n){const r=ne(t);if(Ee(r.auth.app))return Promise.reject(Rt(r.auth,"operation-not-supported-in-this-environment"));Tu(r.auth,e,ts);const i=wa(r.auth,n);return new xi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function CJ(t,e,n){const r=ne(t);Tu(r.auth,e,ts);const i=wa(r.auth,n);return new xi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xi extends z2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Mh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AJ.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ="pendingRedirect",Xc=new Map;class xJ extends z2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await OJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OJ(t,e){const n=q2(e),r=W2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function gT(t,e){return W2(t)._set(q2(e),"true")}function NJ(){Xc.clear()}function yT(t,e){Xc.set(t._key(),e)}function W2(t){return $n(t._redirectPersistence)}function q2(t){return qo(kJ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(t,e,n){return LJ(t,e,n)}async function LJ(t,e,n){if(Ee(t.app))return Promise.reject(Dt(t));const r=nt(t);Tu(t,e,ts),await r._initializationPromise;const i=wa(r,n);return await gT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function VJ(t,e,n){return MJ(t,e,n)}async function MJ(t,e,n){const r=ne(t);if(Tu(r.auth,e,ts),Ee(r.auth.app))return Promise.reject(Dt(r.auth));await r.auth._initializationPromise;const i=wa(r.auth,n);await gT(i,r.auth);const s=await H2(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function FJ(t,e,n){return UJ(t,e,n)}async function UJ(t,e,n){const r=ne(t);Tu(r.auth,e,ts),await r.auth._initializationPromise;const i=wa(r.auth,n);await fy(!1,r,e.providerId),await gT(i,r.auth);const s=await H2(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function $J(t,e){return await nt(t)._initializationPromise,vy(t,e,!1)}async function vy(t,e,n=!1){if(Ee(t.app))return Promise.reject(Dt(t));const r=nt(t),i=wa(r,e),o=await new xJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function H2(t){const e=Mh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ=10*60*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(YR(e))}saveEventToCache(e){this.cachedEventUids.add(YR(e)),this.lastProcessedEventTime=Date.now()}}function YR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e={}){return ut(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WJ=/^https?/;async function qJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q2(t);for(const n of e)try{if(HJ(n))return}catch{}Wt(t,"unauthorized-domain")}function HJ(t){const e=Bd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WJ.test(n))return!1;if(zJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ=new Oh(3e4,6e4);function JR(){const t=Et().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GJ(t){return new Promise((e,n)=>{var r,i,s;function o(){JR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JR(),n(Rt(t,"network-request-failed"))},timeout:KJ.get()})}if(!((i=(r=Et().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Et().gapi)===null||s===void 0)&&s.load)o();else{const a=T2("iframefcb");return Et()[a]=()=>{gapi.load?o():n(Rt(t,"network-request-failed"))},sT(`${BQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bp=null,e})}let bp=null;function QJ(t){return bp=bp||GJ(t),bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new Oh(5e3,15e3),JJ="__/auth/iframe",XJ="emulator/auth/iframe",ZJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tX(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iT(e,XJ):`https://${t.config.authDomain}/${JJ}`,r={apiKey:e.apiKey,appName:t.name,v:Yn},i=eX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Dr(r).slice(1)}`}async function nX(t){const e=await QJ(t),n=Et().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:tX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rt(t,"network-request-failed"),a=Et().setTimeout(()=>{s(o)},YJ.get());function l(){Et().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iX=500,sX=600,oX="_blank",aX="http://localhost";class XR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lX(t,e,n,r=iX,i=sX){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rX),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ve().toLowerCase();n&&(a=y2(u)?oX:n),m2(u)&&(e=e||aX,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(OQ(u)&&a!=="_self")return uX(e||"",a),new XR(null);const h=window.open(e||"",a,d);W(h,t,"popup-blocked");try{h.focus()}catch{}return new XR(h)}function uX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="__/auth/handler",dX="emulator/auth/handler",hX=encodeURIComponent("fac");async function Gw(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(e instanceof ts){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof bu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${hX}=${encodeURIComponent(l)}`:"";return`${fX(t)}?${Dr(a).slice(1)}${u}`}function fX({config:t}){return t.emulator?iT(t,dX):`https://${t.authDomain}/${cX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="webStorageSupport";class pX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ua,this._completeRedirectFn=vy,this._overrideRedirectResult=yT}async _openPopup(e,n,r,i){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Gw(e,n,r,Bd(),i);return lX(e,o,Mh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Gw(e,n,r,Bd(),i);return nJ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nX(e),r=new K2(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(z_,{type:z_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[z_];o!==void 0&&n(!!o),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E2()||g2()||Dh()}}const mX=pX;class gX{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ti("unexpected MultiFactorSessionType")}}}class _T extends gX{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _T(e)}_finalizeEnroll(e,n,r){return QY(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return dJ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Y2{constructor(){}static assertion(e){return _T._fromCredential(e)}}Y2.FACTOR_ID="phone";var ZR="@firebase/auth",eP="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vX(t){ci(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I2(t)},u=new FQ(r,i,s,l);return XQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ci(new lr("auth-internal",e=>{const n=nt(e.getProvider("auth").getImmediate());return(r=>new yX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(ZR,eP,_X(t)),Wn(ZR,eP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=5*60;PE("authIdTokenMaxAge");function EX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vX("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=2e3;async function TX(t,e,n){var r;const{BuildInfo:i}=da();Or(e.sessionId,"AuthEvent did not contain a session ID");const s=await PX(e.sessionId),o={};return Dh()?o.ibi=i.packageName:Nh()?o.apn=i.packageName:Wt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Gw(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function SX(t){const{BuildInfo:e}=da(),n={};Dh()?n.iosBundleId=e.packageName:Nh()?n.androidPackageName=e.packageName:Wt(t,"operation-not-supported-in-this-environment"),await Q2(t,n)}function bX(t){const{cordova:e}=da();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,xQ()?"_blank":"_system","location=yes"),n(i)})})}async function AX(t,e,n){const{cordova:r}=da();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Rt(t,"redirect-cancelled-by-user"))},IX))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Nh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function RX(t){var e,n,r,i,s,o,a,l,u,d;const h=da();W(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function PX(t){const e=CX(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function CX(t){if(Or(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=20;class xX extends K2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function OX(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:LX(),postBody:null,tenantId:t.tenantId,error:Rt(t,"no-auth-event")}}function NX(t,e){return Qw()._set(Yw(t),e)}async function tP(t){const e=await Qw()._get(Yw(t));return e&&await Qw()._remove(Yw(t)),e}function DX(t,e){var n,r;const i=MX(e);if(i.includes("/__/auth/callback")){const s=Ap(i),o=s.firebaseError?VX(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Rt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function LX(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<kX;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Qw(){return $n(hT)}function Yw(t){return qo("authEvent",t.config.apiKey,t.name)}function VX(t){try{return JSON.parse(t)}catch{return null}}function MX(t){const e=Ap(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ap(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ap(i).link||i||r||n||t}function Ap(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Tr(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=500;class UX{constructor(){this._redirectPersistence=ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vy,this._overrideRedirectResult=yT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new xX(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Wt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){RX(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),NJ(),await this._originValidation(e);const o=OX(e,r,i);await NX(e,o);const a=await TX(e,o,n),l=await bX(a);return AX(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SX(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=da(),o=setTimeout(async()=>{await tP(e),n.onEvent(nP())},FX),a=async d=>{clearTimeout(o);const h=await tP(e);let f=null;h&&(d!=null&&d.url)&&(f=DX(h,d.url)),n.onEvent(f||nP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;da().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const $X=UX;function nP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(t,e){nt(t)._logFramework(e)}var BX="@firebase/auth-compat",zX="0.5.28";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=1e3;function Zc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function qX(){return Zc()==="http:"||Zc()==="https:"}function J2(t=ve()){return!!((Zc()==="file:"||Zc()==="ionic:"||Zc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function HX(){return xg()||kg()}function KX(){return OE()&&(document==null?void 0:document.documentMode)===11}function GX(t=ve()){return/Edge\/\d+/.test(t)}function QX(t=ve()){return KX()||GX(t)}function X2(){try{const t=self.localStorage,e=Mh();if(t)return t.setItem(e,"1"),t.removeItem(e),QX()?Id():!0}catch{return vT()&&Id()}return!1}function vT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function W_(){return(qX()||xE()||J2())&&!HX()&&X2()&&!vT()}function Z2(){return J2()&&typeof document<"u"}async function YX(){return Z2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},WX);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function JX(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn={LOCAL:"local",NONE:"none",SESSION:"session"},sc=W,eV="persistence";function XX(t,e){if(sc(Object.values(Vn).includes(e),t,"invalid-persistence-type"),xg()){sc(e!==Vn.SESSION,t,"unsupported-persistence-type");return}if(kg()){sc(e===Vn.NONE,t,"unsupported-persistence-type");return}if(vT()){sc(e===Vn.NONE||e===Vn.LOCAL&&Id(),t,"unsupported-persistence-type");return}sc(e===Vn.NONE||X2(),t,"unsupported-persistence-type")}async function Jw(t){await t._initializationPromise;const e=tV(),n=qo(eV,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function ZX(t,e){const n=tV();if(!n)return[];const r=qo(eV,t,e);switch(n.getItem(r)){case Vn.NONE:return[eu];case Vn.LOCAL:return[qd,ua];case Vn.SESSION:return[ua];default:return[]}}function tV(){var t;try{return((t=JX())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=W;class bs{constructor(){this.browserResolver=$n(mX),this.cordovaResolver=$n($X),this.underlyingResolver=null,this._redirectPersistence=ua,this._completeRedirectFn=vy,this._overrideRedirectResult=yT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Z2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await YX();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){return t.unwrap()}function tZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t){return rV(t)}function rZ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new iZ(t,GY(t,e))}else if(r){const i=rV(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function rV(t){const{_tokenResponse:e}=t instanceof Nt?t.customData:t;if(!e)return null;if(!(t instanceof Nt)&&"temporaryProof"in e&&"phoneNumber"in e)return ca.credentialFromResult(t);const n=e.providerId;if(!n||n===rc.PASSWORD)return null;let r;switch(n){case rc.GOOGLE:r=Kr;break;case rc.FACEBOOK:r=Hr;break;case rc.GITHUB:r=Gr;break;case rc.TWITTER:r=Qr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?tu._create(n,a):hi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new El(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Nt?r.credentialFromError(t):r.credentialFromResult(t)}function wn(t,e){return e.catch(n=>{throw n instanceof Nt&&rZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:nZ(n),additionalUserInfo:KY(n),user:Oi.getOrCreate(i)}})}async function Xw(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>wn(t,n.confirm(r))}}class iZ{constructor(e,n){this.resolver=n,this.auth=tZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wn(nV(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._delegate=e,this.multiFactor=JY(e)}static getOrCreate(e){return Oi.USER_MAP.has(e)||Oi.USER_MAP.set(e,new Oi(e)),Oi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wn(this.auth,O2(this._delegate,e))}async linkWithPhoneNumber(e,n){return Xw(this.auth,wJ(this._delegate,e,n))}async linkWithPopup(e){return wn(this.auth,CJ(this._delegate,e,bs))}async linkWithRedirect(e){return await Jw(nt(this.auth)),FJ(this._delegate,e,bs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wn(this.auth,N2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Xw(this.auth,EJ(this._delegate,e,n))}reauthenticateWithPopup(e){return wn(this.auth,PJ(this._delegate,e,bs))}async reauthenticateWithRedirect(e){return await Jw(nt(this.auth)),VJ(this._delegate,e,bs)}sendEmailVerification(e){return VY(this._delegate,e)}async unlink(e){return await IY(this._delegate,e),this}updateEmail(e){return $Y(this._delegate,e)}updatePassword(e){return jY(this._delegate,e)}updatePhoneNumber(e){return IJ(this._delegate,e)}updateProfile(e){return UY(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return MY(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=W;let Zw=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;oc(r,"invalid-api-key",{appName:e.name}),oc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?bs:void 0;this._delegate=n.initialize({options:{persistence:sZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dQ),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){ZQ(this._delegate,e,n)}applyActionCode(e){return RY(this._delegate,e)}checkActionCode(e){return D2(this._delegate,e)}confirmPasswordReset(e,n){return AY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return wn(this._delegate,CY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return LY(this._delegate,e)}isSignInWithEmailLink(e){return OY(this._delegate,e)}async getRedirectResult(){oc(W_(),this._delegate,"operation-not-supported-in-this-environment");const e=await $J(this._delegate,bs);return e?wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){jX(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=rP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=rP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return xY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return bY(this._delegate,e,n||void 0)}async setPersistence(e){XX(this._delegate,e);let n;switch(e){case Vn.SESSION:n=ua;break;case Vn.LOCAL:n=await $n(qd)._isAvailable()?qd:hT;break;case Vn.NONE:n=eu;break;default:return Wt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wn(this._delegate,EY(this._delegate))}signInWithCredential(e){return wn(this._delegate,py(this._delegate,e))}signInWithCustomToken(e){return wn(this._delegate,SY(this._delegate,e))}signInWithEmailAndPassword(e,n){return wn(this._delegate,kY(this._delegate,e,n))}signInWithEmailLink(e,n){return wn(this._delegate,NY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Xw(this._delegate,vJ(this._delegate,e,n))}async signInWithPopup(e){return oc(W_(),this._delegate,"operation-not-supported-in-this-environment"),wn(this._delegate,RJ(this._delegate,e,bs))}async signInWithRedirect(e){return oc(W_(),this._delegate,"operation-not-supported-in-this-environment"),await Jw(this._delegate),DJ(this._delegate,e,bs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return PY(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Zw.Persistence=Vn;function rP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Oi.getOrCreate(o)),error:e,complete:n}}function sZ(t,e){const n=ZX(t,e);if(typeof self<"u"&&!n.includes(qd)&&n.push(qd),typeof window<"u")for(const r of[hT,ua])n.includes(r)||n.push(r);return n.includes(eu)||n.push(eu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static credential(e,n){return ca.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new ca(nV(fu.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}wT.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD;wT.PROVIDER_ID=ca.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ=W;class aZ{constructor(e,n,r=fu.app()){var i;oZ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new yJ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="auth-compat";function uZ(t){t.INTERNAL.registerComponent(new lr(lZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Zw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fa.EMAIL_SIGNIN,PASSWORD_RESET:Fa.PASSWORD_RESET,RECOVER_EMAIL:Fa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fa.VERIFY_EMAIL}},EmailAuthProvider:fo,FacebookAuthProvider:Hr,GithubAuthProvider:Gr,GoogleAuthProvider:Kr,OAuthProvider:El,SAMLAuthProvider:Vm,PhoneAuthProvider:wT,PhoneMultiFactorGenerator:Y2,RecaptchaVerifier:aZ,TwitterAuthProvider:Qr,Auth:Zw,AuthCredential:Su,Error:Nt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(BX,zX)}uZ(fu);const cZ={apiKey:"AIzaSyCY2g7010TAWUSyv546O58kK0QkLhGgkJ0",authDomain:"clone-2025-c078a.firebaseapp.com",projectId:"clone-2025-c078a",storageBucket:"clone-2025-c078a.firebasestorage.app",messagingSenderId:"60816653576",appId:"1:60816653576:web:6a9f9d7077ee4adf5cc0bd"},e0=fu.initializeApp(cZ),$m=Bq(e0),iV=e0.firestore(e0),dZ=()=>{var r;const[{basket:t,user:e}]=L.useContext(Gi),n=t==null?void 0:t.reduce((i,s)=>s.amount+i,0);return O.jsxs(O.Fragment,{children:[O.jsx("section",{className:Ei.fixed,children:O.jsxs("div",{className:Ei.header_container,children:[O.jsxs("div",{className:Ei.logo_container,children:[O.jsx(Ir,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),O.jsxs("div",{className:Ei.delivery,children:[O.jsx("span",{children:O.jsx(A9,{})}),O.jsxs("div",{children:[O.jsx("p",{children:"Deliverd to"}),O.jsx("span",{children:"Ethiopia"})]})]})]}),O.jsxs("div",{className:Ei.search,children:[O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:"All"})}),O.jsx("input",{type:"text",name:"",id:"",placeholder:"search product"}),O.jsx(b9,{size:38})]}),O.jsxs("div",{className:Ei.order_container,children:[O.jsxs(Ir,{t0:"",className:Ei.language,children:[O.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png",alt:""}),O.jsx("select",{children:O.jsx("option",{value:"",children:"En"})})]}),O.jsx(Ir,{to:!e&&"/auth",children:O.jsx("div",{children:e?O.jsxs(O.Fragment,{children:[O.jsxs("p",{children:["Hello ",(r=e==null?void 0:e.email)==null?void 0:r.split("@")[0]]}),O.jsx("span",{onClick:()=>$m.signOut(),children:"Sign Out"})]}):O.jsxs(O.Fragment,{children:[O.jsx("p",{children:" Hello Sign In"}),O.jsx("span",{children:"Account & List"})]})})}),O.jsxs(Ir,{to:"/orders",children:[O.jsx("p",{children:"returns"}),O.jsx("span",{children:"& orders"})]}),O.jsxs(Ir,{to:"/cart",className:Ei.cart,children:[O.jsx(V9,{size:35}),O.jsx("span",{children:n})]})]})]})}),O.jsx($9,{})]})};function Ea({children:t}){return O.jsxs("div",{children:[O.jsx(dZ,{}),t]})}Ea.propTypes={children:ie.node.isRequired};function hZ(){return O.jsxs(Ea,{children:[O.jsx(X$,{}),O.jsx(nj,{}),O.jsx(y9,{})]})}const fZ="_container_1sjto_1",pZ="_cart_product_1sjto_19",mZ="_btn_container_1sjto_27",gZ="_btn_1sjto_27",yZ="_subtotal_1sjto_61",_Z="_cart_container_1sjto_67",Eo={container:fZ,cart_product:pZ,btn_container:mZ,btn:gZ,subtotal:yZ,cart_container:_Z};function vZ(){const[{basket:t},e]=L.useContext(Gi),n=t.reduce((s,o)=>o.price*o.amount+s,0),r=s=>{e({type:tr.ADD_TO_BASKET,item:s})},i=s=>{e({type:tr.REMOVE_FROM_BASEKET,id:s})};return O.jsxs(Ea,{children:[O.jsx("br",{}),O.jsx("br",{}),O.jsx("br",{}),O.jsxs("section",{className:Eo.container,children:[O.jsxs("div",{className:Eo.cart_container,children:[O.jsx("br",{}),O.jsx("br",{}),O.jsx("h2",{children:"hello"}),O.jsx("h3",{children:"your shopping basket"}),O.jsx("hr",{}),(t==null?void 0:t.length)==0?O.jsx("p",{children:"opps No item in your cart"}):t==null?void 0:t.map((s,o)=>O.jsxs("section",{className:Eo.cart_product,children:[O.jsx(pa,{product:s,renderDesc:!0,flex:!0,renderAdd:!1}),O.jsxs("div",{className:Eo.btn_container,children:[O.jsx("button",{className:Eo.btn,onClick:()=>r(s),children:O.jsx(F9,{})}),O.jsx("span",{children:s.amount}),O.jsx("button",{className:Eo.btn,onClick:()=>i(s.id),children:O.jsx(M9,{})})]})]},o))]}),(t==null?void 0:t.length)!==0&&O.jsxs("div",{className:Eo.subtotal,children:[O.jsxs("div",{children:[O.jsxs("p",{children:["subtotal (",t==null?void 0:t.length," items)"]}),O.jsx(Rg,{amount:n})]}),O.jsxs("span",{children:[O.jsx("input",{type:"checkbox"}),O.jsx("small",{children:"This order contain a gift"})]}),O.jsx(Ir,{to:"/payment",children:"continue to checkout"})]})]})]})}const wZ="_container_1n6py_1",EZ="_orders__container_1n6py_9",iP={container:wZ,orders__container:EZ};function IZ(){const[{user:t}]=L.useContext(Gi);console.log(t);const[e,n]=L.useState([]);return L.useEffect(()=>{t?iV.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{n(r.docs.map(i=>({id:i.id,data:i.data()})))}):n([])},[t]),O.jsxs(Ea,{children:[O.jsx("br",{}),O.jsx("br",{}),O.jsx("br",{}),O.jsx("section",{className:iP.container,children:O.jsxs("div",{className:iP.orders__container,children:[O.jsx("h2",{children:"Your Orders"}),(e==null?void 0:e.length)==0&&O.jsx("div",{children:" you don't have orders"}),O.jsx("div",{children:e==null?void 0:e.map((r,i)=>{var s,o;return O.jsxs("div",{children:[O.jsx("hr",{}),O.jsxs("p",{children:["Order ID: ",r==null?void 0:r.id]}),(o=(s=r==null?void 0:r.data)==null?void 0:s.basket)==null?void 0:o.map(a=>O.jsx(pa,{flex:!0,product:a},a.id))]},i)})})]})})]})}const TZ="_payment__header_1w956_1",SZ="_payment_1w956_1",bZ="_flex_1w956_23",AZ="_payment_card_container_1w956_57",RZ="_payment__details_1w956_65",PZ="_payment_price_1w956_71",CZ="_payment_details_1w956_89",kZ="_loader_1w956_115",wi={payment__header:TZ,payment:SZ,flex:bZ,payment_card_container:AZ,payment__details:RZ,payment_price:PZ,payment_details:CZ,loader:kZ};function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){sV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rp=function(e){return typeof e}:Rp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function sV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OZ(t,e){if(t==null)return{};var n=xZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oV(t,e){return NZ(t)||DZ(t,e)||LZ(t,e)||VZ()}function NZ(t){if(Array.isArray(t))return t}function DZ(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function LZ(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn=function(e,n,r){var i=!!r,s=we.useRef(r);we.useEffect(function(){s.current=r},[r]),we.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},t0=function(e){var n=we.useRef(e);return we.useEffect(function(){n.current=e},[e]),n.current},nu=function(e){return e!==null&&Rp(e)==="object"},MZ=function(e){return nu(e)&&typeof e.then=="function"},FZ=function(e){return nu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},lP="[object Object]",UZ=function t(e,n){if(!nu(e)||!nu(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===lP,o=Object.prototype.toString.call(n)===lP;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var m=e,g=n,v=function(I){return t(m[I],g[I])};return f.every(v)},aV=function(e,n,r){return nu(e)?Object.keys(e).reduce(function(i,s){var o=!nu(n)||!UZ(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?oP(oP({},i||{}),{},sV({},s,e[s])):i},null):null},lV="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",uP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lV;if(e===null||FZ(e))return e;throw new Error(n)},$Z=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lV;if(MZ(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return uP(i,n)})};var r=uP(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},jZ=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},wy=we.createContext(null);wy.displayName="ElementsContext";var uV=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},cV=function(e){var n=e.stripe,r=e.options,i=e.children,s=we.useMemo(function(){return $Z(n)},[n]),o=we.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=oV(o,2),l=a[0],u=a[1];we.useEffect(function(){var f=!0,m=function(v){u(function(T){return T.stripe?T:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(g){g&&f&&m(g)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){f=!1}},[s,l,r]);var d=t0(n);we.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=t0(r);return we.useEffect(function(){if(l.elements){var f=aV(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),we.useEffect(function(){jZ(l.stripe)},[l.stripe]),we.createElement(wy.Provider,{value:l},i)};cV.propTypes={stripe:ie.any,options:ie.object};var BZ=function(e){var n=we.useContext(wy);return uV(n,e)},zZ=function(){var e=BZ("calls useElements()"),n=e.elements;return n};ie.func.isRequired;var dV=we.createContext(null);dV.displayName="CheckoutSdkContext";var WZ=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},qZ=we.createContext(null);qZ.displayName="CheckoutContext";ie.any,ie.shape({fetchClientSecret:ie.func.isRequired,elementsOptions:ie.object}).isRequired;var n0=function(e){var n=we.useContext(dV),r=we.useContext(wy);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?WZ(n,e):uV(r,e)},HZ=["mode"],KZ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},mt=function(e,n){var r="".concat(KZ(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,m=l.onBlur,g=l.onFocus,v=l.onReady,T=l.onChange,I=l.onEscape,w=l.onClick,E=l.onLoadError,C=l.onLoaderStart,x=l.onNetworksChange,D=l.onConfirm,b=l.onCancel,S=l.onShippingAddressChange,R=l.onShippingRateChange,y=l.onSavedPaymentMethodRemove,k=l.onSavedPaymentMethodUpdate,N=n0("mounts <".concat(r,">")),P="elements"in N?N.elements:null,ee="checkoutSdk"in N?N.checkoutSdk:null,Ce=we.useState(null),Ae=oV(Ce,2),ce=Ae[0],H=Ae[1],Z=we.useRef(null),re=we.useRef(null);cn(ce,"blur",m),cn(ce,"focus",g),cn(ce,"escape",I),cn(ce,"click",w),cn(ce,"loaderror",E),cn(ce,"loaderstart",C),cn(ce,"networkschange",x),cn(ce,"confirm",D),cn(ce,"cancel",b),cn(ce,"shippingaddresschange",S),cn(ce,"shippingratechange",R),cn(ce,"savedpaymentmethodremove",y),cn(ce,"savedpaymentmethodupdate",k),cn(ce,"change",T);var pe;v&&(e==="expressCheckout"?pe=v:pe=function(){v(ce)}),cn(ce,"ready",pe),we.useLayoutEffect(function(){if(Z.current===null&&re.current!==null&&(P||ee)){var ae=null;if(ee)switch(e){case"payment":ae=ee.createPaymentElement(f);break;case"address":if("mode"in f){var yt=f.mode,Lt=OZ(f,HZ);if(yt==="shipping")ae=ee.createShippingAddressElement(Lt);else if(yt==="billing")ae=ee.createBillingAddressElement(Lt);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ae=ee.createExpressCheckoutElement(f);break;case"currencySelector":ae=ee.createCurrencySelectorElement();break;case"taxId":ae=ee.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(ae=P.create(e,f));Z.current=ae,H(ae),ae&&ae.mount(re.current)}},[P,ee,f]);var de=t0(f);return we.useEffect(function(){if(Z.current){var ae=aV(f,de,["paymentRequest"]);ae&&"update"in Z.current&&Z.current.update(ae)}},[f,de]),we.useLayoutEffect(function(){return function(){if(Z.current&&typeof Z.current.destroy=="function")try{Z.current.destroy(),Z.current=null}catch{}}},[]),we.createElement("div",{id:u,className:d,ref:re})},s=function(l){n0("mounts <".concat(r,">"));var u=l.id,d=l.className;return we.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:ie.string,className:ie.string,onChange:ie.func,onBlur:ie.func,onFocus:ie.func,onReady:ie.func,onEscape:ie.func,onClick:ie.func,onLoadError:ie.func,onLoaderStart:ie.func,onNetworksChange:ie.func,onConfirm:ie.func,onCancel:ie.func,onShippingAddressChange:ie.func,onShippingRateChange:ie.func,onSavedPaymentMethodRemove:ie.func,onSavedPaymentMethodUpdate:ie.func,options:ie.object},o.displayName=r,o.__elementType=e,o},gt=typeof window>"u",GZ=we.createContext(null);GZ.displayName="EmbeddedCheckoutProviderContext";var QZ=function(){var e=n0("calls useStripe()"),n=e.stripe;return n};mt("auBankAccount",gt);var cP=mt("card",gt);mt("cardNumber",gt);mt("cardExpiry",gt);mt("cardCvc",gt);mt("fpxBank",gt);mt("iban",gt);mt("idealBank",gt);mt("p24Bank",gt);mt("epsBank",gt);mt("payment",gt);mt("expressCheckout",gt);mt("currencySelector",gt);mt("paymentRequestButton",gt);mt("linkAuthentication",gt);mt("address",gt);mt("shippingAddress",gt);mt("paymentMethodMessaging",gt);mt("affirmMessage",gt);mt("afterpayClearpayMessage",gt);mt("taxId",gt);const YZ=tt.create({baseURL:"https://amazon-clone-api-o5a9.onrender.com"});function JZ(){const[{basket:t,user:e},n]=L.useContext(Gi),r=t==null?void 0:t.reduce((g,v)=>v.amount+g,0),i=t.reduce((g,v)=>v.price*v.amount+g,0),[s,o]=L.useState(null),[a,l]=L.useState(!1),u=QZ(),d=zZ(),h=ig(),f=g=>{var v;o(((v=g==null?void 0:g.error)==null?void 0:v.message)||"")},m=async g=>{var v;g.preventDefault();try{l(!0);const T=await YZ({method:"POST",url:`/payment/create?total=${i*100}`});console.log(T.data);const I=(v=T==null?void 0:T.data)==null?void 0:v.clientSecret,{paymentIntent:w}=await u.confirmCardPayment(I,{payment_method:{card:d.getElement(cP)}});console.log(w),await iV.collection("users").doc(e.uid).collection("orders").doc(w.id).set({basket:t,amount:w.amount,created:w.created}),n({type:tr.EMPTY_BASKET}),l(!1),h("/orders",{state:{msg:"you have placed new order"}})}catch(T){console.log(T),l(!1)}};return O.jsxs(Ea,{children:[O.jsx("br",{}),O.jsx("br",{}),O.jsxs("div",{className:wi.payment_header,children:["Checkout (",r,") items"]}),O.jsxs("section",{className:wi.payment,children:[O.jsxs("div",{className:wi.flex,children:[O.jsx("h3",{children:"Delivery Address"}),O.jsxs("div",{children:[O.jsx("div",{children:e==null?void 0:e.email}),O.jsx("div",{children:"123 React Lane"}),O.jsx("div",{children:"Chicago, IL"})]})]}),O.jsx("hr",{}),O.jsxs("div",{className:wi.flex,children:[O.jsx("h3",{children:"Review items and Delivery"}),O.jsx("div",{children:t==null?void 0:t.map(g=>O.jsx(pa,{product:g,flex:!0},g.id))})]}),O.jsx("hr",{}),O.jsxs("div",{className:wi.flex,children:[O.jsx("h3",{children:"Payment method"}),O.jsx("div",{className:wi.payment_card_container,children:O.jsx("div",{className:wi.payment_details,children:O.jsxs("form",{onSubmit:m,children:[s&&O.jsxs("small",{style:{color:"red"},children:[" ",s]}),O.jsx(cP,{onChange:f}),O.jsxs("div",{className:wi.payment_price,children:[O.jsx("div",{children:O.jsxs("span",{style:{display:"flex",gap:"10px"},children:[O.jsx("p",{children:"Total Order | "}),O.jsx(Rg,{amount:i})]})}),O.jsx("button",{type:"submit",children:a?O.jsxs("div",{className:wi.loader,children:[O.jsx(nw,{color:"gray",size:12}),O.jsx("p",{children:"please wait..."})]}):" Pay Now"})]})]})})})]})]})]})}const XZ="_products_container_1fys7_1",ZZ={products_container:XZ},hV="https://fakestoreapi.com";function eee(){const[t,e]=L.useState([]),[n,r]=L.useState(!1),{categoryName:i}=Lk();return L.useEffect(()=>{r(!0),tt.get(`${hV}/products/category/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[i]),O.jsx(Ea,{children:n?O.jsx(AE,{}):O.jsxs("section",{children:[O.jsx("br",{}),O.jsx("h1",{style:{padding:"30px"},children:"Results"}),O.jsxs("p",{style:{padding:"30px"},children:["Category / ",i]}),O.jsx("hr",{}),O.jsx("div",{className:ZZ.products_container,children:t.map(s=>O.jsx(pa,{product:s,renderAdd:!0},s.id))})]})})}function tee(){const[t,e]=L.useState([]),[n,r]=L.useState(!1),{productId:i}=Lk();return L.useEffect(()=>{r(!0),tt.get(`${hV}/products/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[i]),O.jsxs(Ea,{children:[O.jsx("br",{}),O.jsx("br",{}),O.jsx("br",{}),n?O.jsx(AE,{}):O.jsx(pa,{product:t,flex:!0,renderDesc:!0,renderAdd:!0})]})}const nee="_login_7x0yv_1",ree="_login_container_7x0yv_23",iee="_login_siginbtn_7x0yv_93",see="_login_signupbtn_7x0yv_119",Mf={login:nee,login_container:ree,login_siginbtn:iee,login_signupbtn:see};function oee(){var m,g;const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,s]=L.useState(""),[{user:o},a]=L.useContext(Gi),[l,u]=L.useState({signin:!1,signup:!1}),d=ig(),h=io();console.log(o);const f=async v=>{v.preventDefault(),v.target.name=="signin"?(u({...l,signin:!0}),P8($m,t,n).then(T=>{var I;a({type:tr.SET_USER,user:T.user}),u({...l,signin:!1}),d(((I=h==null?void 0:h.state)==null?void 0:I.redirect)||"/")}).catch(T=>{s(T.message),u({...l,signin:!1})})):(u({...l,signup:!0}),R8($m,t,n).then(T=>{var I;a({type:tr.SET_USER,user:T.user}),u({...l,signup:!1}),d(((I=h==null?void 0:h.state)==null?void 0:I.redirect)||"/")}).catch(T=>{s(T.message),u({...l,signup:!1})}))};return O.jsxs("section",{className:Mf.login,children:[O.jsx(Ir,{to:"/",children:O.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAE2DsdF6RJ3eiqVxPqVmsDix7QsIkFS_sVA&s",alt:"amazon logo"})}),O.jsxs("div",{className:Mf.login_container,children:[O.jsx("h1",{children:"Sign In"}),((m=h==null?void 0:h.state)==null?void 0:m.msg)&&O.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontweight:"bold"},children:(g=h==null?void 0:h.state)==null?void 0:g.msg}),O.jsxs("form",{action:"",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{value:t,onChange:v=>e(v.target.value),type:"email",id:"email"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{value:n,onChange:v=>r(v.target.value),type:"password",id:"password"})]}),O.jsx("button",{type:"submit",onClick:f,name:"signin",className:Mf.login_siginbtn,children:l.signin?O.jsx(nw,{color:"#000",size:15}):" Sign In"})]}),O.jsx("p",{children:"By sining-in you agre to the AMAZON FAKE CLONE conditions of use & sale.please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),O.jsxs("button",{type:"submit",onClick:f,name:"signup",className:Mf.login_signupbtn,children:[" ",l.signup?O.jsx(nw,{color:"#000",size:15}):"Create your Amazon Account"]}),i&&O.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}var aee="v3",lee=function(e){return e===3?"v3":e},fV="https://js.stripe.com",uee="".concat(fV,"/v3"),cee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,dee=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,dP="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",hee=function(e){return cee.test(e)||dee.test(e)},fee=function(){for(var e=document.querySelectorAll('script[src^="'.concat(fV,'"]')),n=0;n<e.length;n++){var r=e[n];if(hee(r.src))return r}return null},hP=function(e){var n="",r=document.createElement("script");r.src="".concat(uee).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},pee=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:n})},ac=null,Ff=null,Uf=null,mee=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},gee=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},yee=function(e){return ac!==null?ac:(ac=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(dP),window.Stripe){n(window.Stripe);return}try{var i=fee();if(i&&e)console.warn(dP);else if(!i)i=hP(e);else if(i&&Uf!==null&&Ff!==null){var s;i.removeEventListener("load",Uf),i.removeEventListener("error",Ff),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=hP(e)}Uf=gee(n,r),Ff=mee(r),i.addEventListener("load",Uf),i.addEventListener("error",Ff)}catch(o){r(o);return}}),ac.catch(function(n){return ac=null,Promise.reject(n)}))},_ee=function(e,n,r){if(e===null)return null;var i=n[0],s=i.match(/^pk_test/),o=lee(e.version),a=aee;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return pee(l,r),l},lc,pV=!1,mV=function(){return lc||(lc=yee(null).catch(function(e){return lc=null,Promise.reject(e)}),lc)};Promise.resolve().then(function(){return mV()}).catch(function(t){pV||console.warn(t)});var vee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];pV=!0;var i=Date.now();return mV().then(function(s){return _ee(s,n,i)})};const r0=({children:t,msg:e,redirect:n})=>{const r=ig(),[{user:i}]=L.useContext(Gi);return L.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i,r,e,n]),t};r0.propTypes={children:ie.node.isRequired,msg:ie.string.isRequired,redirect:ie.string.isRequired};const wee=vee("pk_test_51SMC7MQ9Dg174hhV3ppxIPLThHUB10KhlvbbnCEpdsvB7eAT7xmTEuE3k0EEQibnOVOaPLEiqMWRgUWV6mxtxCSf005jUpLy8K");function Eee(){return O.jsx(UU,{children:O.jsxs(mU,{children:[O.jsx(ms,{path:"/",element:O.jsx(hZ,{})}),O.jsx(ms,{path:"/auth",element:O.jsx(oee,{})}),O.jsx(ms,{path:"/payment",element:O.jsx(r0,{msg:"you must log in to pay",redirect:"/payment",children:O.jsx(cV,{stripe:wee,children:O.jsx(JZ,{})})})}),O.jsx(ms,{path:"/orders",element:O.jsx(r0,{msg:"you must log in to see your orders",redirect:"/orders",children:O.jsx(IZ,{})})}),O.jsx(ms,{path:"/category/:categoryName",element:O.jsx(eee,{})}),O.jsx(ms,{path:"/products/:productId",element:O.jsx(tee,{})}),O.jsx(ms,{path:"/cart",element:O.jsx(vZ,{})})]})})}function Iee(){const[,t]=L.useContext(Gi);return L.useEffect(()=>{$m.onAuthStateChanged(e=>{t(e?{type:tr.SET_USER,user:e}:{type:tr.SET_USER,user:null})})},[t]),O.jsx(O.Fragment,{children:O.jsx(Eee,{})})}const Tee={basket:[],user:null},See=(t,e)=>{switch(e.type){case tr.ADD_TO_BASKET:if(t.basket.find(r=>r.id===e.item.id)){const r=t.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i);return{...t,basket:r}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case tr.REMOVE_FROM_BASEKET:{const n=t.basket.findIndex(i=>i.id===e.id);let r=[...t.basket];return n>=0&&(r[n].amount>1?r[n]={...r[n],amount:r[n].amount-1}:r.splice(n,1)),{...t,basket:r}}case tr.EMPTY_BASKET:return{...t,basket:[]};case tr.SET_USER:return{...t,user:e.user};default:return t}};bk(document.getElementById("root")).render(O.jsx(L.StrictMode,{children:O.jsx(nO,{reducer:See,intialState:Tee,children:O.jsx(Iee,{})})}));
